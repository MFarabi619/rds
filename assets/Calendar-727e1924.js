import{j as t}from"./jsx-runtime-3aeb2321.js";import{r as b}from"./index-580b8df0.js";import{C as E,a as I}from"./index-31110fe0.js";import{B as R}from"./Button-6c722b26.js";import{r as x,t as i,s as q}from"./index-9180d5e9.js";import{f as h,p as O}from"./index-f3821225.js";import{e as $,a as y}from"./index-aff6d42c.js";import{i as p}from"./index-ac9ed659.js";import{p as A}from"./index-bdbff7f3.js";const j={prevNextArrows:"flex items-center justify-center flex-none p-2 text-cu-black-300 hover:text-cu-red",calendarGrid:"grid grid-cols-7 gap-px mt-4 text-center"};function B(r,n){var a;x(1,arguments);var o=r||{},s=i(o.start),g=i(o.end),v=g.getTime();if(!(s.getTime()<=v))throw new RangeError("Invalid interval");var f=[],l=s;l.setHours(0,0,0,0);var m=Number((a=n==null?void 0:n.step)!==null&&a!==void 0?a:1);if(m<1||isNaN(m))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=v;)f.push(i(l)),l.setDate(l.getDate()+m),l.setHours(0,0,0,0);return f}function F(r){x(1,arguments);var n=i(r),a=n.getDay();return a}function G(r,n){x(2,arguments);var a=i(r),o=i(n);return a.getTime()<o.getTime()}function c(r,n){x(2,arguments);var a=i(r),o=i(n);return a.getTime()===o.getTime()}function M(r,n){x(2,arguments);var a=i(r),o=i(n);return a.getFullYear()===o.getFullYear()&&a.getMonth()===o.getMonth()}function d(r){return x(1,arguments),p(r,Date.now())}function L(){return q(Date.now())}const N=(...r)=>r.filter(Boolean).join(" "),w=({events:r,callback:n,defaultDate:a})=>{const o=L(),[s,g]=b.useState(a?new Date(a):new Date),[v,f]=b.useState(h(o,"MMM-yyyy")),[l,m]=b.useState(!1),u=O(v,"MMM-yyyy",new Date),D=["","col-start-2","col-start-3","col-start-4","col-start-5","col-start-6","col-start-7"],C=B({start:u,end:$(u)}),k=()=>{const e=y(u,{months:-1});f(h(e,"MMM-yyyy"))},T=()=>{const e=y(u,{months:1});f(h(e,"MMM-yyyy"))};return b.useEffect(()=>{n(s)},[s,n]),t.jsxs("div",{className:"not-prose",children:[t.jsxs("div",{className:"not-prose mb-6 flex items-center rounded-lg border border-cu-black-100 bg-white py-2",children:[t.jsxs("button",{type:"button",onClick:k,className:`${j.prevNextArrows}`,children:[t.jsx("span",{className:"sr-only",children:"Previous month"}),t.jsx(E,{className:"h-5 w-5","aria-hidden":"true"})]}),t.jsx("h2",{className:"flex-auto text-center text-base font-semibold text-cu-black-900",children:h(u,"MMMM yyyy")}),t.jsxs("button",{onClick:T,type:"button",className:`${j.prevNextArrows}`,children:[t.jsx("span",{className:"sr-only",children:"Next month"}),t.jsx(I,{className:"h-5 w-5","aria-hidden":"true"})]})]}),t.jsxs("div",{className:`${j.calendarGrid} text-xs text-cu-black-600`,children:[t.jsx("div",{children:"S"}),t.jsx("div",{children:"M"}),t.jsx("div",{children:"T"}),t.jsx("div",{children:"W"}),t.jsx("div",{children:"T"}),t.jsx("div",{children:"F"}),t.jsx("div",{children:"S"})]}),t.jsx("div",{className:`${j.calendarGrid} isolate overflow-hidden rounded-lg border border-cu-black-100 bg-cu-black-100 text-sm`,children:C.map((e,S)=>t.jsxs("div",{className:N(S===0&&D[F(e)],"bg-white py-2"),children:[t.jsx("button",{type:"button",disabled:G(e,o),onClick:()=>{g(e),m(!0)},className:N(c(e,s)&&"text-white",p(e,s)&&"text-white",!c(e,s)&&d(e)&&"text-cu-red",!c(e,s)&&!d(e)&&M(e,u)&&"text-cu-black-900",!c(e,s)&&!d(e)&&!M(e,u)&&"text-cu-black-400",c(e,s)&&d(e)&&"bg-cu-red",c(e,s)&&!d(e)&&"bg-cu-red",p(e,s)&&d(e)&&"bg-cu-red",p(e,s)&&!d(e)&&"bg-cu-red",!c(e,s)&&"hover:bg-cu-red hover:text-white",(c(e,s)||d(e))&&"font-semibold","mx-auto flex h-8 w-8 items-center justify-center rounded-full disabled:bg-cu-black-50"),children:t.jsx("time",{dateTime:h(e,"yyyy-MM-dd"),children:h(e,"d")})}),t.jsx("div",{className:"mx-auto mt-1 h-1 w-1",children:(r==null?void 0:r.some(_=>p(A(_.startDatetime),e)))&&t.jsx("div",{className:"h-1 w-1 rounded-full bg-sky-500"})})]},e.toString()))}),l&&t.jsx("div",{className:"mt-2",children:t.jsx(R,{title:"Clear Calendar",isCenter:!0,isSmall:!0,onClick:()=>{g(new Date),m(!1)}})})]})};try{w.displayName="Calendar",w.__docgenInfo={description:"",displayName:"Calendar",props:{events:{defaultValue:null,description:"",name:"events",required:!1,type:{name:"{ id: number; name: string; imageUrl: string; startDatetime: string; endDatetime: string; }[]"}},callback:{defaultValue:null,description:"",name:"callback",required:!0,type:{name:"(d: Date) => void"}},defaultDate:{defaultValue:null,description:"",name:"defaultDate",required:!1,type:{name:"string"}}}}}catch{}export{w as C};
//# sourceMappingURL=Calendar-727e1924.js.map
