import{r as i,R as p,e as X}from"./index-580b8df0.js";import{L as w,y,a as te,o as b,u as I,p as Me,D as S,t as ne,T as Ie,b as pe,l as B,m as Be,j as de,C as He,d as W}from"./open-closed-6ab898d8.js";import{a as V,b as O,c as z,p as K,S as C,N as Ne,I as k,L as je,o as We,r as Ye}from"./keyboard-46ff6cb9.js";import{n as q,a as Ve,s as Y,E as re}from"./use-event-listener-a3eb1d61.js";import{f as me}from"./transition-ad75749a.js";import{m as ge,t as _e}from"./platform-ae94fb3f.js";import{r as qe}from"./index-1eb27dd0.js";let Ue="div";var he=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(he||{});function Ge(e,r){let t=i.useRef(null),n=y(t,r),{initialFocus:o,containers:a,features:l=30,...u}=e;te()||(l=1);let s=q(t);Xe({ownerDocument:s},!!(l&16));let d=ze({ownerDocument:s,container:t,initialFocus:o},!!(l&2));Ke({ownerDocument:s,container:t,containers:a,previousActiveElement:d},!!(l&8));let c=Ve(),P=b(g=>{let h=t.current;h&&(T=>T())(()=>{I(c.current,{[Y.Forwards]:()=>{V(h,O.First,{skipElements:[g.relatedTarget]})},[Y.Backwards]:()=>{V(h,O.Last,{skipElements:[g.relatedTarget]})}})})}),A=Me(),v=i.useRef(!1),U={ref:n,onKeyDown(g){g.key=="Tab"&&(v.current=!0,A.requestAnimationFrame(()=>{v.current=!1}))},onBlur(g){let h=new Set(a==null?void 0:a.current);h.add(t);let T=g.relatedTarget;T instanceof HTMLElement&&T.dataset.headlessuiFocusGuard!=="true"&&(ve(h,T)||(v.current?V(t.current,I(c.current,{[Y.Forwards]:()=>O.Next,[Y.Backwards]:()=>O.Previous})|O.WrapAround,{relativeTo:g.target}):g.target instanceof HTMLElement&&C(g.target)))}};return p.createElement(p.Fragment,null,!!(l&4)&&p.createElement(z,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:P,features:K.Focusable}),S({ourProps:U,theirProps:u,defaultTag:Ue,name:"FocusTrap"}),!!(l&4)&&p.createElement(z,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:P,features:K.Focusable}))}let Je=w(Ge),x=Object.assign(Je,{features:he});function Xe({ownerDocument:e},r){let t=i.useRef(null);re(e==null?void 0:e.defaultView,"focusout",o=>{r&&(t.current||(t.current=o.target))},!0),ge(()=>{r||((e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&C(t.current),t.current=null)},[r]);let n=i.useRef(!1);i.useEffect(()=>(n.current=!1,()=>{n.current=!0,ne(()=>{n.current&&(C(t.current),t.current=null)})}),[])}function ze({ownerDocument:e,container:r,initialFocus:t},n){let o=i.useRef(null),a=me();return ge(()=>{if(!n)return;let l=r.current;l&&ne(()=>{if(!a.current)return;let u=e==null?void 0:e.activeElement;if(t!=null&&t.current){if((t==null?void 0:t.current)===u){o.current=u;return}}else if(l.contains(u)){o.current=u;return}t!=null&&t.current?C(t.current):V(l,O.First)===Ne.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),o.current=e==null?void 0:e.activeElement})},[n]),o}function Ke({ownerDocument:e,container:r,containers:t,previousActiveElement:n},o){let a=me();re(e==null?void 0:e.defaultView,"focus",l=>{if(!o||!a.current)return;let u=new Set(t==null?void 0:t.current);u.add(r);let s=n.current;if(!s)return;let d=l.target;d&&d instanceof HTMLElement?ve(u,d)?(n.current=d,C(d)):(l.preventDefault(),l.stopPropagation(),C(s)):C(n.current)},!0)}function ve(e,r){var t;for(let n of e)if((t=n.current)!=null&&t.contains(r))return!0;return!1}let Ee=i.createContext(!1);function Qe(){return i.useContext(Ee)}function Q(e){return p.createElement(Ee.Provider,{value:e.force},e.children)}function Ze(e){let r=Qe(),t=i.useContext($e),n=q(e),[o,a]=i.useState(()=>{if(!r&&t!==null||pe.isServer)return null;let l=n==null?void 0:n.getElementById("headlessui-portal-root");if(l)return l;if(n===null)return null;let u=n.createElement("div");return u.setAttribute("id","headlessui-portal-root"),n.body.appendChild(u)});return i.useEffect(()=>{o!==null&&(n!=null&&n.body.contains(o)||n==null||n.body.appendChild(o))},[o,n]),i.useEffect(()=>{r||t!==null&&a(t.current)},[t,a,r]),o}let et=i.Fragment;function tt(e,r){let t=e,n=i.useRef(null),o=y(Ie(c=>{n.current=c}),r),a=q(n),l=Ze(n),[u]=i.useState(()=>{var c;return pe.isServer?null:(c=a==null?void 0:a.createElement("div"))!=null?c:null}),s=te(),d=i.useRef(!1);return B(()=>{if(d.current=!1,!(!l||!u))return l.contains(u)||(u.setAttribute("data-headlessui-portal",""),l.appendChild(u)),()=>{d.current=!0,ne(()=>{var c;d.current&&(!l||!u||(u instanceof Node&&l.contains(u)&&l.removeChild(u),l.childNodes.length<=0&&((c=l.parentElement)==null||c.removeChild(l))))})}},[l,u]),s?!l||!u?null:qe.createPortal(S({ourProps:{ref:o},theirProps:t,defaultTag:et,name:"Portal"}),u):null}let nt=i.Fragment,$e=i.createContext(null);function rt(e,r){let{target:t,...n}=e,o={ref:y(r)};return p.createElement($e.Provider,{value:t},S({ourProps:o,theirProps:n,defaultTag:nt,name:"Popover.Group"}))}let ot=w(tt),lt=w(rt),Z=Object.assign(ot,{Group:lt}),be=i.createContext(null);function we(){let e=i.useContext(be);if(e===null){let r=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(r,we),r}return e}function at(){let[e,r]=i.useState([]);return[e.length>0?e.join(" "):void 0,i.useMemo(()=>function(t){let n=b(a=>(r(l=>[...l,a]),()=>r(l=>{let u=l.slice(),s=u.indexOf(a);return s!==-1&&u.splice(s,1),u}))),o=i.useMemo(()=>({register:n,slot:t.slot,name:t.name,props:t.props}),[n,t.slot,t.name,t.props]);return p.createElement(be.Provider,{value:o},t.children)},[r])]}let ut="p";function it(e,r){let t=k(),{id:n=`headlessui-description-${t}`,...o}=e,a=we(),l=y(r);B(()=>a.register(n),[n,a.register]);let u={ref:l,...a.props,id:n};return S({ourProps:u,theirProps:o,slot:a.slot||{},defaultTag:ut,name:a.name||"Description"})}let st=w(it),ct=Object.assign(st,{}),oe=i.createContext(()=>{});oe.displayName="StackContext";var ee=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(ee||{});function dt(){return i.useContext(oe)}function ft({children:e,onUpdate:r,type:t,element:n,enabled:o}){let a=dt(),l=b((...u)=>{r==null||r(...u),a(...u)});return B(()=>{let u=o===void 0||o===!0;return u&&l(0,t,n),()=>{u&&l(1,t,n)}},[l,t,n,o]),p.createElement(oe.Provider,{value:l},e)}function pt(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}const mt=typeof Object.is=="function"?Object.is:pt,{useState:gt,useEffect:ht,useLayoutEffect:vt,useDebugValue:Et}=X;function $t(e,r,t){const n=r(),[{inst:o},a]=gt({inst:{value:n,getSnapshot:r}});return vt(()=>{o.value=n,o.getSnapshot=r,G(o)&&a({inst:o})},[e,n,r]),ht(()=>(G(o)&&a({inst:o}),e(()=>{G(o)&&a({inst:o})})),[e]),Et(n),n}function G(e){const r=e.getSnapshot,t=e.value;try{const n=r();return!mt(t,n)}catch{return!0}}function bt(e,r,t){return r()}const wt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yt=!wt,St=yt?bt:$t,Pt="useSyncExternalStore"in X?(e=>e.useSyncExternalStore)(X):St;function Tt(e){return Pt(e.subscribe,e.getSnapshot,e.getSnapshot)}function Dt(e,r){let t=e(),n=new Set;return{getSnapshot(){return t},subscribe(o){return n.add(o),()=>n.delete(o)},dispatch(o,...a){let l=r[o].call(t,...a);l&&(t=l,n.forEach(u=>u()))}}}function Rt(){let e;return{before({doc:r}){var t;let n=r.documentElement;e=((t=r.defaultView)!=null?t:window).innerWidth-n.clientWidth},after({doc:r,d:t}){let n=r.documentElement,o=n.clientWidth-n.offsetWidth,a=e-o;t.style(n,"paddingRight",`${a}px`)}}}function Ct(){if(!_e())return{};let e;return{before(){e=window.pageYOffset},after({doc:r,d:t,meta:n}){function o(l){return n.containers.flatMap(u=>u()).some(u=>u.contains(l))}t.style(r.body,"marginTop",`-${e}px`),window.scrollTo(0,0);let a=null;t.addEventListener(r,"click",l=>{if(l.target instanceof HTMLElement)try{let u=l.target.closest("a");if(!u)return;let{hash:s}=new URL(u.href),d=r.querySelector(s);d&&!o(d)&&(a=d)}catch{}},!0),t.addEventListener(r,"touchmove",l=>{l.target instanceof HTMLElement&&!o(l.target)&&l.preventDefault()},{passive:!1}),t.add(()=>{window.scrollTo(0,window.pageYOffset+e),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})}}}function Lt(){return{before({doc:e,d:r}){r.style(e.documentElement,"overflow","hidden")}}}function Ft(e){let r={};for(let t of e)Object.assign(r,t(r));return r}let R=Dt(()=>new Map,{PUSH(e,r){var t;let n=(t=this.get(e))!=null?t:{doc:e,count:0,d:Be(),meta:new Set};return n.count++,n.meta.add(r),this.set(e,n),this},POP(e,r){let t=this.get(e);return t&&(t.count--,t.meta.delete(r)),this},SCROLL_PREVENT({doc:e,d:r,meta:t}){let n={doc:e,d:r,meta:Ft(t)},o=[Ct(),Rt(),Lt()];o.forEach(({before:a})=>a==null?void 0:a(n)),o.forEach(({after:a})=>a==null?void 0:a(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});R.subscribe(()=>{let e=R.getSnapshot(),r=new Map;for(let[t]of e)r.set(t,t.documentElement.style.overflow);for(let t of e.values()){let n=r.get(t.doc)==="hidden",o=t.count!==0;(o&&!n||!o&&n)&&R.dispatch(t.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",t),t.count===0&&R.dispatch("TEARDOWN",t)}});function Ot(e,r,t){let n=Tt(R),o=e?n.get(e):void 0,a=o?o.count>0:!1;return B(()=>{if(!(!e||!r))return R.dispatch("PUSH",e,t),()=>R.dispatch("POP",e,t)},[r,e]),a}let J=new Map,M=new Map;function fe(e,r=!0){B(()=>{var t;if(!r)return;let n=typeof e=="function"?e():e.current;if(!n)return;function o(){var l;if(!n)return;let u=(l=M.get(n))!=null?l:1;if(u===1?M.delete(n):M.set(n,u-1),u!==1)return;let s=J.get(n);s&&(s["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",s["aria-hidden"]),n.inert=s.inert,J.delete(n))}let a=(t=M.get(n))!=null?t:0;return M.set(n,a+1),a!==0||(J.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0),o},[e,r])}var kt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(kt||{}),At=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(At||{});let xt={[0](e,r){return e.titleId===r.id?e:{...e,titleId:r.id}}},_=i.createContext(null);_.displayName="DialogContext";function H(e){let r=i.useContext(_);if(r===null){let t=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,H),t}return r}function Mt(e,r,t=()=>[document.body]){Ot(e,r,n=>{var o;return{containers:[...(o=n.containers)!=null?o:[],t]}})}function It(e,r){return I(r.type,xt,e,r)}let Bt="div",Ht=de.RenderStrategy|de.Static;function Nt(e,r){let t=k(),{id:n=`headlessui-dialog-${t}`,open:o,onClose:a,initialFocus:l,__demoMode:u=!1,...s}=e,[d,c]=i.useState(0),P=He();o===void 0&&P!==null&&(o=(P&W.Open)===W.Open);let A=i.useRef(new Set),v=i.useRef(null),U=y(v,r),g=i.useRef(null),h=q(v),T=e.hasOwnProperty("open")||P!==null,le=e.hasOwnProperty("onClose");if(!T&&!le)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!T)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!le)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof o!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${o}`);if(typeof a!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${a}`);let E=o?0:1,[L,ye]=i.useReducer(It,{titleId:null,descriptionId:null,panelRef:i.createRef()}),F=b(()=>a(!1)),ae=b(f=>ye({type:0,id:f})),N=te()?u?!1:E===0:!1,j=d>1,ue=i.useContext(_)!==null,Se=j?"parent":"leaf",ie=P!==null?(P&W.Closing)===W.Closing:!1,Pe=(()=>ue||ie?!1:N)(),Te=i.useCallback(()=>{var f,$;return($=Array.from((f=h==null?void 0:h.querySelectorAll("body > *"))!=null?f:[]).find(m=>m.id==="headlessui-portal-root"?!1:m.contains(g.current)&&m instanceof HTMLElement))!=null?$:null},[g]);fe(Te,Pe);let De=(()=>j?!0:N)(),Re=i.useCallback(()=>{var f,$;return($=Array.from((f=h==null?void 0:h.querySelectorAll("[data-headlessui-portal]"))!=null?f:[]).find(m=>m.contains(g.current)&&m instanceof HTMLElement))!=null?$:null},[g]);fe(Re,De);let se=b(()=>{var f,$;return[...Array.from((f=h==null?void 0:h.querySelectorAll("html > *, body > *, [data-headlessui-portal]"))!=null?f:[]).filter(m=>!(m===document.body||m===document.head||!(m instanceof HTMLElement)||m.contains(g.current)||L.panelRef.current&&m.contains(L.panelRef.current))),($=L.panelRef.current)!=null?$:v.current]}),Ce=(()=>!(!N||j))();je(()=>se(),F,Ce);let Le=(()=>!(j||E!==0))();re(h==null?void 0:h.defaultView,"keydown",f=>{Le&&(f.defaultPrevented||f.key===We.Escape&&(f.preventDefault(),f.stopPropagation(),F()))});let Fe=(()=>!(ie||E!==0||ue))();Mt(h,Fe,se),i.useEffect(()=>{if(E!==0||!v.current)return;let f=new ResizeObserver($=>{for(let m of $){let D=m.target.getBoundingClientRect();D.x===0&&D.y===0&&D.width===0&&D.height===0&&F()}});return f.observe(v.current),()=>f.disconnect()},[E,v,F]);let[Oe,ke]=at(),Ae=i.useMemo(()=>[{dialogState:E,close:F,setTitleId:ae},L],[E,L,F,ae]),ce=i.useMemo(()=>({open:E===0}),[E]),xe={ref:U,id:n,role:"dialog","aria-modal":E===0?!0:void 0,"aria-labelledby":L.titleId,"aria-describedby":Oe};return p.createElement(ft,{type:"Dialog",enabled:E===0,element:v,onUpdate:b((f,$,m)=>{$==="Dialog"&&I(f,{[ee.Add](){A.current.add(m),c(D=>D+1)},[ee.Remove](){A.current.add(m),c(D=>D-1)}})})},p.createElement(Q,{force:!0},p.createElement(Z,null,p.createElement(_.Provider,{value:Ae},p.createElement(Z.Group,{target:v},p.createElement(Q,{force:!1},p.createElement(ke,{slot:ce,name:"Dialog.Description"},p.createElement(x,{initialFocus:l,containers:A,features:N?I(Se,{parent:x.features.RestoreFocus,leaf:x.features.All&~x.features.FocusLock}):x.features.None},S({ourProps:xe,theirProps:s,slot:ce,defaultTag:Bt,features:Ht,visible:E===0,name:"Dialog"})))))))),p.createElement(z,{features:K.Hidden,ref:g}))}let jt="div";function Wt(e,r){let t=k(),{id:n=`headlessui-dialog-overlay-${t}`,...o}=e,[{dialogState:a,close:l}]=H("Dialog.Overlay"),u=y(r),s=b(c=>{if(c.target===c.currentTarget){if(Ye(c.currentTarget))return c.preventDefault();c.preventDefault(),c.stopPropagation(),l()}}),d=i.useMemo(()=>({open:a===0}),[a]);return S({ourProps:{ref:u,id:n,"aria-hidden":!0,onClick:s},theirProps:o,slot:d,defaultTag:jt,name:"Dialog.Overlay"})}let Yt="div";function Vt(e,r){let t=k(),{id:n=`headlessui-dialog-backdrop-${t}`,...o}=e,[{dialogState:a},l]=H("Dialog.Backdrop"),u=y(r);i.useEffect(()=>{if(l.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[l.panelRef]);let s=i.useMemo(()=>({open:a===0}),[a]);return p.createElement(Q,{force:!0},p.createElement(Z,null,S({ourProps:{ref:u,id:n,"aria-hidden":!0},theirProps:o,slot:s,defaultTag:Yt,name:"Dialog.Backdrop"})))}let _t="div";function qt(e,r){let t=k(),{id:n=`headlessui-dialog-panel-${t}`,...o}=e,[{dialogState:a},l]=H("Dialog.Panel"),u=y(r,l.panelRef),s=i.useMemo(()=>({open:a===0}),[a]),d=b(c=>{c.stopPropagation()});return S({ourProps:{ref:u,id:n,onClick:d},theirProps:o,slot:s,defaultTag:_t,name:"Dialog.Panel"})}let Ut="h2";function Gt(e,r){let t=k(),{id:n=`headlessui-dialog-title-${t}`,...o}=e,[{dialogState:a,setTitleId:l}]=H("Dialog.Title"),u=y(r);i.useEffect(()=>(l(n),()=>l(null)),[n,l]);let s=i.useMemo(()=>({open:a===0}),[a]);return S({ourProps:{ref:u,id:n},theirProps:o,slot:s,defaultTag:Ut,name:"Dialog.Title"})}let Jt=w(Nt),Xt=w(Vt),zt=w(qt),Kt=w(Wt),Qt=w(Gt),an=Object.assign(Jt,{Backdrop:Xt,Panel:zt,Overlay:Kt,Title:Qt,Description:ct});export{an as F};
//# sourceMappingURL=dialog-82995df1.js.map
