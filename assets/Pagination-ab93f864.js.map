{"version":3,"file":"Pagination-ab93f864.js","sources":["../../src/hooks/usePagination.ts","../../src/components/Pagination/Pagination.styles.tsx","../../src/components/Pagination/Pagination.tsx"],"sourcesContent":["import { useMemo } from 'react'\n\nexport const DOTS = '...'\n\nconst range = (start: number, end: number) => {\n  const length = end - start + 1\n  return Array.from({ length }, (_, idx) => idx + start)\n}\n\nconst usePagination = (totalCount: number, pageSize: number, siblingCount = 1, currentPage: number) => {\n  const paginationRange = useMemo(() => {\n    const totalPageCount = Math.ceil(totalCount / pageSize)\n    const totalPageNumbers = siblingCount + 5\n\n    if (totalPageNumbers >= totalPageCount) {\n      return range(1, totalPageCount)\n    }\n\n    const leftSiblingIndex = Math.max(currentPage - siblingCount, 1)\n    const rightSiblingIndex = Math.min(currentPage + siblingCount, totalPageCount)\n\n    const shouldShowLeftDots = leftSiblingIndex > 2\n    const shouldShowRightDots = rightSiblingIndex < totalPageCount - 2\n\n    const firstPageIndex = 1\n    const lastPageIndex = totalPageCount\n\n    if (!shouldShowLeftDots && shouldShowRightDots) {\n      const leftItemCount = 3 + 2 * siblingCount\n      const leftRange = range(1, leftItemCount)\n\n      return [...leftRange, DOTS, totalPageCount]\n    }\n\n    if (shouldShowLeftDots && !shouldShowRightDots) {\n      const rightItemCount = 3 + 2 * siblingCount\n      const rightRange = range(totalPageCount - rightItemCount + 1, totalPageCount)\n      return [firstPageIndex, DOTS, ...rightRange]\n    }\n\n    if (shouldShowLeftDots && shouldShowRightDots) {\n      const middleRange = range(leftSiblingIndex, rightSiblingIndex)\n      return [firstPageIndex, DOTS, ...middleRange, DOTS, lastPageIndex]\n    }\n  }, [totalCount, pageSize, siblingCount, currentPage])\n\n  return paginationRange\n}\n\nexport default usePagination\n","const styles = {\n  border: `py-5 border-t border-cu-black-100`,\n  spacing: `pl-6 pr-5`,\n  mobileButtons: `relative inline-flex items-center px-4 py-2 text-sm font-medium text-cu-black-600 bg-white border border-cu-black-200 rounded-md hover:bg-cu-black-50`,\n  pageListNumbers: `flex items-center bg-white py-2 px-4 text-sm text-cu-black-600 border-r border-cu-black-100 last:border-0 cursor-pointer hover:bg-cu-black-50`,\n  pageListArrows: `text-cu-black-400 px-2.5`,\n}\nexport default styles\n","import { useEffect, useState } from 'react'\nimport { ChevronLeftIcon, ChevronRightIcon } from '@heroicons/react/20/solid'\nimport usePagination, { DOTS } from '../../hooks/usePagination'\nimport styles from './Pagination.styles'\n\nexport interface PaginationProps {\n  hasBorder?: boolean\n  hasSpacing?: boolean\n  totalCount: number\n  siblingCount: number\n  pageSize: number\n  callback: (k: [number?, number?]) => void\n}\n\nexport const Pagination = ({\n  hasBorder,\n  hasSpacing,\n  totalCount,\n  siblingCount,\n  pageSize,\n  callback,\n}: PaginationProps) => {\n  const [currentPage, setCurrentPage] = useState(1)\n\n  const paginationRange = usePagination(totalCount, pageSize, siblingCount, currentPage)\n\n  const onNext = () => {\n    if (currentPage < lastPage) {\n      setCurrentPage(currentPage + 1)\n    }\n  }\n\n  const onPrevious = () => {\n    if (currentPage > 1) {\n      setCurrentPage(currentPage - 1)\n    }\n  }\n\n  const onCurrent = (pageNumber: number) => {\n    setCurrentPage(Number(pageNumber))\n  }\n\n  const borderStyles = hasBorder ? styles.border : ''\n  const spacingStyles = hasSpacing ? styles.spacing : ''\n  const startResult = (currentPage - 1) * pageSize + 1\n\n  let endResult = totalCount\n  let lastPage = 0\n\n  useEffect(() => {\n    callback([startResult, endResult])\n  }, [startResult, endResult, callback])\n\n  if (totalCount > currentPage * pageSize) {\n    endResult = currentPage * pageSize\n  }\n\n  if (paginationRange !== undefined) {\n    lastPage = Number(paginationRange[paginationRange.length - 1])\n  }\n\n  if (currentPage === 0 || (paginationRange !== undefined && paginationRange.length < 2)) {\n    return null\n  }\n\n  return (\n    <div className={`not-prose mt-8 flex items-center justify-between first:mt-0 ${borderStyles} ${spacingStyles}`}>\n      <div className=\"flex flex-1 justify-between sm:hidden\">\n        <button onClick={onPrevious} className={`${styles.mobileButtons}`}>\n          Previous\n        </button>\n        <button onClick={onNext} className={`${styles.mobileButtons}`}>\n          Next\n        </button>\n      </div>\n\n      <div className=\"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between\">\n        <p className=\"text-sm text-cu-black-800\">\n          Showing <span className=\"font-semibold\">{startResult}</span> to{' '}\n          <span className=\"font-semibold\">{endResult}</span> of <span className=\"font-semibold\">{totalCount}</span>{' '}\n          results\n        </p>\n\n        <nav aria-label=\"Pagination\">\n          <ul className=\"inline-flex overflow-hidden rounded-md border border-cu-black-100\">\n            <li\n              className={`${styles.pageListNumbers} ${styles.pageListArrows}`}\n              role=\"presentation\"\n              onClick={onPrevious}\n            >\n              <span className=\"sr-only\">Previous</span>\n              <ChevronLeftIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n            </li>\n\n            {paginationRange !== undefined &&\n              paginationRange.map((pageNumber, index) => {\n                if (pageNumber === DOTS) {\n                  return (\n                    <li key={index} className={`${styles.pageListNumbers}`}>\n                      &#8230;\n                    </li>\n                  )\n                }\n                return (\n                  <li\n                    role=\"presentation\"\n                    key={index}\n                    className={`${styles.pageListNumbers} ${\n                      Number(pageNumber) === currentPage ? 'bg-cu-black-50 font-semibold' : ''\n                    }`}\n                    onClick={() => onCurrent(Number(pageNumber))}\n                  >\n                    {pageNumber}\n                  </li>\n                )\n              })}\n            <li className={`${styles.pageListNumbers} ${styles.pageListArrows}`} role=\"presentation\" onClick={onNext}>\n              <span className=\"sr-only\">Next</span>\n              <ChevronRightIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n            </li>\n          </ul>\n        </nav>\n      </div>\n    </div>\n  )\n}\n"],"names":["DOTS","range","start","end","length","_","idx","usePagination","totalCount","pageSize","siblingCount","currentPage","useMemo","totalPageCount","leftSiblingIndex","rightSiblingIndex","shouldShowLeftDots","shouldShowRightDots","firstPageIndex","lastPageIndex","leftItemCount","rightItemCount","rightRange","middleRange","styles","Pagination","hasBorder","hasSpacing","callback","setCurrentPage","useState","paginationRange","onNext","lastPage","onPrevious","onCurrent","pageNumber","borderStyles","spacingStyles","startResult","endResult","useEffect","jsxs","jsx","ChevronLeftIcon","index","ChevronRightIcon"],"mappings":"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"}