import{j as e}from"./jsx-runtime-3aeb2321.js";import{r as a}from"./index-580b8df0.js";import{j as g}from"./optionClasses-4f7b0afb.js";import{L as v}from"./Link-75c77b79.js";import{t as m}from"./transition-4a057a81.js";import{S as f}from"./dialog-40633ea3.js";import{W as i}from"./combobox-d55c58b7.js";function w({title:t,titleId:n,...o},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":n},o),t?a.createElement("title",{id:n},t):null,a.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 100 13.5 6.75 6.75 0 000-13.5zM2.25 10.5a8.25 8.25 0 1114.59 5.28l4.69 4.69a.75.75 0 11-1.06 1.06l-4.69-4.69A8.25 8.25 0 012.25 10.5z",clipRule:"evenodd"}))}const j=a.forwardRef(w),h=j;function b({title:t,titleId:n,...o},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":n},o),t?a.createElement("title",{id:n},t):null,a.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z",clipRule:"evenodd"}))}const N=a.forwardRef(b),k=N;function S(...t){return t.filter(Boolean).join(" ")}const x=({searchOn:t="title",sourceData:n,children:o})=>{const[s,c]=a.useState(""),[d,u]=a.useState(!1),p=s===""?[]:n.filter(r=>r[t].toString().toLowerCase().includes(s.toLowerCase())),y=o||e.jsx(h,{className:"left-4 h-5 w-5 cursor-pointer text-gray-400","aria-hidden":"true"});return a.useEffect(()=>{function r(l){l.key==="k"&&(l.metaKey||l.ctrlKey)&&u(!d)}return window.addEventListener("keydown",r),()=>{window.removeEventListener("keydown",r)}},[d]),e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>u(!0),"aria-label":"search",className:"not-prose",children:y}),e.jsx(m.Root,{show:d,as:a.Fragment,afterLeave:()=>c(""),appear:!0,children:e.jsxs(f,{as:"div",className:"not-prose relative z-50",onClose:u,children:[e.jsx(m.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:`fixed inset-0 transition-opacity ${g} `})}),e.jsx("div",{className:"z-100 fixed inset-0 overflow-y-auto p-4 sm:p-6 md:p-20",children:e.jsx(m.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsx(f.Panel,{className:"mx-auto mt-[20vh] max-w-xl transform divide-y divide-gray-100 overflow-hidden rounded-xl bg-white shadow-2xl ring-1 ring-black ring-opacity-5 transition-all",children:e.jsxs(i,{children:[e.jsxs("div",{className:"relative",children:[e.jsx(h,{className:"pointer-events-none absolute left-4 top-3.5 h-5 w-5 text-gray-400","aria-hidden":"true"}),e.jsx(i.Input,{className:"h-12 w-full rounded-lg border border-cu-black-100 bg-transparent pl-11 pr-4 text-sm text-cu-black-800 placeholder-cu-black-300 focus:border-cu-black-300 focus:ring-0",placeholder:"Search...",onChange:r=>c(r.target.value)}),s&&e.jsx(k,{className:"absolute right-4 top-3.5 h-4 w-4 text-gray-400","aria-hidden":"true",onClick:()=>{c("")}})]}),p.length>0&&e.jsx(i.Options,{static:!0,className:"max-h-72 scroll-py-2 overflow-y-auto py-2 text-sm text-gray-800",children:p.map(r=>e.jsx(i.Option,{value:r,className:({active:l})=>S("cursor-default select-none px-4 py-2",l&&"bg-cu-red text-white"),children:e.jsx(v,{href:`${r.url}`,children:r[t]})},r.id))}),s!==""&&p.length===0&&e.jsx("p",{className:"p-4 text-sm text-gray-500",children:"Search not found"})]})})})})]})})]})};try{x.displayName="Search",x.__docgenInfo={description:"",displayName:"Search",props:{sourceData:{defaultValue:null,description:"",name:"sourceData",required:!0,type:{name:"SourceDataProps[]"}},searchOn:{defaultValue:{value:"title"},description:"",name:"searchOn",required:!1,type:{name:"string"}}}}}catch{}export{x as S};
//# sourceMappingURL=Search-85189e1c.js.map
