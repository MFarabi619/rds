import{j as t}from"./jsx-runtime-daf202a7.js";import{r as m,R as q}from"./index-ec8b93d8.js";import{L as re}from"./Link-85e35d6e.js";import{_ as z}from"./dialog-0a893a82.js";import{X as ae}from"./XMarkIcon-81eef1c8.js";import{v as A}from"./disclosure-bf3185ec.js";import{C as L}from"./ChevronDownIcon-bf1ca2d9.js";import{b as g,S as G,D as P,y as C,c as ne,u as Z,d as M,X as $,p as ee,C as le,l as B,o as V}from"./open-closed-50e7a81e.js";import{H as se,I as U,h as ie,T as oe,o as h,r as ce,_ as ue,M as H,D as te,a as de}from"./keyboard-c534a18f.js";import{F as me,u as fe,a as N,x as pe}from"./use-tracked-pointer-50f23cfa.js";import{s as xe}from"./use-resolve-button-type-5514e10c.js";import{n as he}from"./use-root-containers-cd4bc64b.js";import{$ as F}from"./transition-6ad8d931.js";import{k as S}from"./popover-836cad03.js";let W=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function X(e){var s,l;let a=(s=e.innerText)!=null?s:"",n=e.cloneNode(!0);if(!(n instanceof HTMLElement))return a;let o=!1;for(let r of n.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))r.remove(),o=!0;let i=o?(l=n.innerText)!=null?l:"":a;return W.test(i)&&(i=i.replace(W,"")),i}function ve(e){let s=e.getAttribute("aria-label");if(typeof s=="string")return s.trim();let l=e.getAttribute("aria-labelledby");if(l){let a=l.split(" ").map(n=>{let o=document.getElementById(n);if(o){let i=o.getAttribute("aria-label");return typeof i=="string"?i.trim():X(o).trim()}return null}).filter(Boolean);if(a.length>0)return a.join(", ")}return X(e).trim()}function be(e){let s=m.useRef(""),l=m.useRef("");return g(()=>{let a=e.current;if(!a)return"";let n=a.innerText;if(s.current===n)return l.current;let o=ve(a).trim().toLowerCase();return s.current=n,l.current=o,o})}var ge=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ge||{}),ye=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(ye||{}),ke=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(ke||{});function Q(e,s=l=>l){let l=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,a=de(s(e.items.slice()),o=>o.dataRef.current.domRef.current),n=l?a.indexOf(l):null;return n===-1&&(n=null),{items:a,activeItemIndex:n}}let je={[1](e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},[0](e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},[2]:(e,s)=>{var l;let a=Q(e),n=pe(s,{resolveItems:()=>a.items,resolveActiveIndex:()=>a.activeItemIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled});return{...e,...a,searchQuery:"",activeItemIndex:n,activationTrigger:(l=s.trigger)!=null?l:1}},[3]:(e,s)=>{let l=e.searchQuery!==""?0:1,a=e.searchQuery+s.value.toLowerCase(),n=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+l).concat(e.items.slice(0,e.activeItemIndex+l)):e.items).find(i=>{var r;return((r=i.dataRef.current.textValue)==null?void 0:r.startsWith(a))&&!i.dataRef.current.disabled}),o=n?e.items.indexOf(n):-1;return o===-1||o===e.activeItemIndex?{...e,searchQuery:a}:{...e,searchQuery:a,activeItemIndex:o,activationTrigger:1}},[4](e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},[5]:(e,s)=>{let l=Q(e,a=>[...a,{id:s.id,dataRef:s.dataRef}]);return{...e,...l}},[6]:(e,s)=>{let l=Q(e,a=>{let n=a.findIndex(o=>o.id===s.id);return n!==-1&&a.splice(n,1),a});return{...e,...l,activationTrigger:1}}},K=m.createContext(null);K.displayName="MenuContext";function E(e){let s=m.useContext(K);if(s===null){let l=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,E),l}return s}function Ie(e,s){return Z(s.type,je,e,s)}let Ne=m.Fragment;function we(e,s){let{__demoMode:l=!1,...a}=e,n=m.useReducer(Ie,{__demoMode:l,menuState:l?0:1,buttonRef:m.createRef(),itemsRef:m.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:o,itemsRef:i,buttonRef:r},f]=n,x=C(s);se([r,i],(I,u)=>{var d;f({type:1}),ie(u,oe.Loose)||(I.preventDefault(),(d=r.current)==null||d.focus())},o===0);let y=g(()=>{f({type:1})}),j=m.useMemo(()=>({open:o===0,close:y}),[o,y]),b={ref:x};return q.createElement(K.Provider,{value:n},q.createElement(ne,{value:Z(o,{[0]:M.Open,[1]:M.Closed})},$({ourProps:b,theirProps:a,slot:j,defaultTag:Ne,name:"Menu"})))}let Fe="button";function Re(e,s){var l;let a=U(),{id:n=`headlessui-menu-button-${a}`,...o}=e,[i,r]=E("Menu.Button"),f=C(i.buttonRef,s),x=ee(),y=g(d=>{switch(d.key){case h.Space:case h.Enter:case h.ArrowDown:d.preventDefault(),d.stopPropagation(),r({type:0}),x.nextFrame(()=>r({type:2,focus:N.First}));break;case h.ArrowUp:d.preventDefault(),d.stopPropagation(),r({type:0}),x.nextFrame(()=>r({type:2,focus:N.Last}));break}}),j=g(d=>{switch(d.key){case h.Space:d.preventDefault();break}}),b=g(d=>{if(ce(d.currentTarget))return d.preventDefault();e.disabled||(i.menuState===0?(r({type:1}),x.nextFrame(()=>{var p;return(p=i.buttonRef.current)==null?void 0:p.focus({preventScroll:!0})})):(d.preventDefault(),r({type:0})))}),I=m.useMemo(()=>({open:i.menuState===0}),[i]),u={ref:f,id:n,type:xe(e,i.buttonRef),"aria-haspopup":"menu","aria-controls":(l=i.itemsRef.current)==null?void 0:l.id,"aria-expanded":e.disabled?void 0:i.menuState===0,onKeyDown:y,onKeyUp:j,onClick:b};return $({ourProps:u,theirProps:o,slot:I,defaultTag:Fe,name:"Menu.Button"})}let Se="div",De=G.RenderStrategy|G.Static;function Te(e,s){var l,a;let n=U(),{id:o=`headlessui-menu-items-${n}`,...i}=e,[r,f]=E("Menu.Items"),x=C(r.itemsRef,s),y=he(r.itemsRef),j=ee(),b=le(),I=(()=>b!==null?(b&M.Open)===M.Open:r.menuState===0)();m.useEffect(()=>{let c=r.itemsRef.current;c&&r.menuState===0&&c!==(y==null?void 0:y.activeElement)&&c.focus({preventScroll:!0})},[r.menuState,r.itemsRef,y]),me({container:r.itemsRef.current,enabled:r.menuState===0,accept(c){return c.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:c.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(c){c.setAttribute("role","none")}});let u=g(c=>{var w,R;switch(j.dispose(),c.key){case h.Space:if(r.searchQuery!=="")return c.preventDefault(),c.stopPropagation(),f({type:3,value:c.key});case h.Enter:if(c.preventDefault(),c.stopPropagation(),f({type:1}),r.activeItemIndex!==null){let{dataRef:v}=r.items[r.activeItemIndex];(R=(w=v.current)==null?void 0:w.domRef.current)==null||R.click()}te(r.buttonRef.current);break;case h.ArrowDown:return c.preventDefault(),c.stopPropagation(),f({type:2,focus:N.Next});case h.ArrowUp:return c.preventDefault(),c.stopPropagation(),f({type:2,focus:N.Previous});case h.Home:case h.PageUp:return c.preventDefault(),c.stopPropagation(),f({type:2,focus:N.First});case h.End:case h.PageDown:return c.preventDefault(),c.stopPropagation(),f({type:2,focus:N.Last});case h.Escape:c.preventDefault(),c.stopPropagation(),f({type:1}),V().nextFrame(()=>{var v;return(v=r.buttonRef.current)==null?void 0:v.focus({preventScroll:!0})});break;case h.Tab:c.preventDefault(),c.stopPropagation(),f({type:1}),V().nextFrame(()=>{ue(r.buttonRef.current,c.shiftKey?H.Previous:H.Next)});break;default:c.key.length===1&&(f({type:3,value:c.key}),j.setTimeout(()=>f({type:4}),350));break}}),d=g(c=>{switch(c.key){case h.Space:c.preventDefault();break}}),p=m.useMemo(()=>({open:r.menuState===0}),[r]),k={"aria-activedescendant":r.activeItemIndex===null||(l=r.items[r.activeItemIndex])==null?void 0:l.id,"aria-labelledby":(a=r.buttonRef.current)==null?void 0:a.id,id:o,onKeyDown:u,onKeyUp:d,role:"menu",tabIndex:0,ref:x};return $({ourProps:k,theirProps:i,slot:p,defaultTag:Se,features:De,visible:I,name:"Menu.Items"})}let Me=m.Fragment;function Pe(e,s){let l=U(),{id:a=`headlessui-menu-item-${l}`,disabled:n=!1,...o}=e,[i,r]=E("Menu.Item"),f=i.activeItemIndex!==null?i.items[i.activeItemIndex].id===a:!1,x=m.useRef(null),y=C(s,x);B(()=>{if(i.__demoMode||i.menuState!==0||!f||i.activationTrigger===0)return;let v=V();return v.requestAnimationFrame(()=>{var _,O;(O=(_=x.current)==null?void 0:_.scrollIntoView)==null||O.call(_,{block:"nearest"})}),v.dispose},[i.__demoMode,x,f,i.menuState,i.activationTrigger,i.activeItemIndex]);let j=be(x),b=m.useRef({disabled:n,domRef:x,get textValue(){return j()}});B(()=>{b.current.disabled=n},[b,n]),B(()=>(r({type:5,id:a,dataRef:b}),()=>r({type:6,id:a})),[b,a]);let I=g(()=>{r({type:1})}),u=g(v=>{if(n)return v.preventDefault();r({type:1}),te(i.buttonRef.current)}),d=g(()=>{if(n)return r({type:2,focus:N.Nothing});r({type:2,focus:N.Specific,id:a})}),p=fe(),k=g(v=>p.update(v)),c=g(v=>{p.wasMoved(v)&&(n||f||r({type:2,focus:N.Specific,id:a,trigger:0}))}),w=g(v=>{p.wasMoved(v)&&(n||f&&r({type:2,focus:N.Nothing}))}),R=m.useMemo(()=>({active:f,disabled:n,close:I}),[f,n,I]);return $({ourProps:{id:a,ref:y,role:"menuitem",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,disabled:void 0,onClick:u,onFocus:d,onPointerEnter:k,onMouseEnter:k,onPointerMove:c,onMouseMove:c,onPointerLeave:w,onMouseLeave:w},theirProps:o,slot:R,defaultTag:Me,name:"Menu.Item"})}let Ce=P(we),$e=P(Re),Ee=P(Te),_e=P(Pe),D=Object.assign(Ce,{Button:$e,Items:Ee,Item:_e});const T={dropDownTitles:"inline-flex justify-center text-sm font-medium text-cu-black-800 group hover:text-cu-red",chevron:"flex-shrink-0 w-5 h-5 ml-1 text-cu-black-300 group-hover:text-cu-black-600"};function J(...e){return e.filter(Boolean).join(" ")}const Y=({sortOptions:e,filters:s,callback:l})=>{const[a,n]=m.useState(!1),[o,i]=m.useState(""),[r,f]=m.useState([]),x=u=>r.includes(u),[y,j]=m.useState([]),b=u=>{const d=u;return r.includes(d)?f([...r].filter(p=>p!==d)):f([...r,d])},I=u=>{const d=u;return f([...r].filter(p=>p!==d))};return m.useEffect(()=>{i(o),j(r)},[o,r]),m.useEffect(()=>{l(r)},[r,l]),t.jsxs("div",{className:"cu-filter not-prose",children:[t.jsx(F.Root,{show:a,as:m.Fragment,children:t.jsxs(z,{as:"div",className:"relative z-40 sm:hidden",onClose:n,children:[t.jsx(F.Child,{as:m.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),t.jsx("div",{className:"fixed inset-0 z-40 flex",children:t.jsx(F.Child,{as:m.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:t.jsxs(z.Panel,{className:"relative ml-auto flex h-full w-full max-w-xs flex-col overflow-y-auto bg-white shadow-xl",children:[t.jsxs("div",{className:"flex items-center justify-between bg-cu-black-50 px-4 py-3",children:[t.jsx("h2",{className:"text-base font-medium text-cu-black-800",children:"Filters"}),t.jsxs("button",{type:"button",className:"-mr-1 flex h-8 w-8 items-center justify-center rounded-md bg-white p-2 text-cu-black-600",onClick:()=>n(!1),children:[t.jsx("span",{className:"sr-only",children:"Close menu"}),t.jsx(ae,{className:"h-6 w-6","aria-hidden":"true"})]})]}),t.jsx("form",{children:s.map(u=>t.jsx(A,{as:"div",className:"border-t border-cu-black-100 px-4 py-6",children:({open:d})=>t.jsxs(t.Fragment,{children:[t.jsx("h3",{className:"group -mx-2 -my-3 flow-root",children:t.jsxs(A.Button,{className:"flex w-full items-center justify-between bg-white px-2 py-3 text-sm text-cu-black-300 group-hover:text-cu-black-600",children:[t.jsx("span",{className:"font-medium text-cu-black-600",children:u.name}),t.jsx("span",{className:"ml-6 flex items-center",children:t.jsx(L,{className:J(d?"-rotate-180":"rotate-0","h-5 w-5 transform"),"aria-hidden":"true"})})]})}),t.jsx(A.Panel,{className:"pt-6",children:t.jsx("div",{className:"space-y-6",children:u.options.map((p,k)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{id:`filter-mobile-${u.id}-${k}`,name:`${u.id}[]`,defaultValue:p.label,type:"checkbox",onChange:()=>b(p.label),defaultChecked:x(p.label),className:"h-4 w-4 rounded border-cu-black-200 text-cu-red focus:ring-cu-red-100"}),t.jsx("label",{htmlFor:`filter-mobile-${u.id}-${k}`,className:"ml-3 text-sm text-cu-black-600",children:p.label})]},k))})})]})},u.name))})]})})})]})}),t.jsxs("section",{"aria-labelledby":"filter-heading",children:[t.jsx("h2",{id:"filter-heading",className:"sr-only",children:"Filters"}),t.jsx("div",{className:"rounded-tl-lg rounded-tr-lg border border-cu-black-100 bg-gray-50 py-4",children:t.jsxs("div",{className:"flex justify-between px-4 sm:px-6",children:[t.jsxs(D,{as:"div",className:"relative",children:[e&&(e==null?void 0:e.length)>0&&t.jsx("div",{children:t.jsxs(D.Button,{className:T.dropDownTitles,children:["Sort",t.jsx(L,{className:T.chevron,"aria-hidden":"true"})]})}),t.jsx(F,{as:m.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:t.jsx(D.Items,{className:"absolute -left-4 z-10 mt-2 w-40 rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:e&&(e==null?void 0:e.length)>0&&t.jsx("div",{className:"py-1",children:e.map(u=>t.jsx(D.Item,{children:({active:d})=>t.jsx(re,{href:u.href,className:J(u.name===o?"font-medium text-cu-black-800":"text-cu-black-600",d?"bg-gray-100":"","block px-4 py-2 text-sm")})},u.name))})})})]}),t.jsx("button",{type:"button",className:"inline-block text-sm font-medium text-cu-black-800 hover:text-cu-red sm:hidden",onClick:()=>n(!0),children:"Filters"}),t.jsx("div",{className:"hidden sm:block",children:t.jsx("div",{className:"flow-root",children:t.jsx(S.Group,{className:"-mx-4 flex items-center divide-x divide-gray-200",children:s.map((u,d)=>t.jsxs(S,{className:"relative inline-block px-4 text-left",children:[t.jsxs(S.Button,{className:T.dropDownTitles,children:[t.jsx("span",{children:u.name}),t.jsx(L,{className:T.chevron,"aria-hidden":"true"})]}),t.jsx(F,{as:m.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:t.jsx(S.Panel,{className:"absolute right-0 z-10 mt-2 rounded-md bg-white p-4 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:t.jsx("form",{className:"space-y-4",children:u.options.map((p,k)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{id:`filter-${u.id}-${k}`,name:`${u.id}[]`,defaultValue:p.label,type:"checkbox",onChange:()=>b(p.label),defaultChecked:x(p.label),className:"h-4 w-4 rounded border-cu-black-200 text-cu-red focus:ring-cu-red-100"}),t.jsx("label",{htmlFor:`filter-${u.id}-${k}`,className:"ml-3 whitespace-nowrap pr-6 text-sm text-cu-black-600",children:p.label})]},k))})})})]},d))})})})]})}),t.jsx("div",{className:"rounded-bl-lg rounded-br-lg border border-t-0 border-cu-black-100 bg-white",children:t.jsxs("div",{className:"px-4 py-3 sm:flex sm:items-center sm:px-6",children:[t.jsxs("h3",{className:"py-1 text-sm text-cu-black-600",children:["Filters",t.jsx("span",{className:"sr-only",children:", active"})]}),t.jsx("div",{"aria-hidden":"true",className:"hidden h-5 w-px bg-gray-300 sm:ml-4 sm:block"}),t.jsx("div",{className:"mt-4 sm:ml-4 sm:mt-0",children:t.jsx("div",{className:"-m-1 flex flex-wrap items-center gap-3",children:y.map((u,d)=>t.jsxs("span",{className:"inline-flex items-center rounded-lg border border-cu-black-100 bg-white py-1 pl-3 pr-2 text-sm text-cu-black-600",children:[t.jsx("span",{children:u}),t.jsxs("button",{type:"button",onClick:()=>I(u),className:"ml-1 inline-flex h-4 w-4 flex-shrink-0 rounded-full p-1 text-cu-black-400 hover:bg-cu-red hover:text-white",children:[t.jsxs("span",{className:"sr-only",children:["Remove filter for ",u]}),t.jsx("svg",{className:"h-2 w-2",stroke:"currentColor",fill:"none",viewBox:"0 0 8 8",children:t.jsx("path",{strokeLinecap:"round",strokeWidth:"1.5",d:"M1 1l6 6m0-6L1 7"})})]})]},d))})})]})})]})]})};try{Y.displayName="Filter",Y.__docgenInfo={description:"",displayName:"Filter",props:{sortOptions:{defaultValue:null,description:"",name:"sortOptions",required:!1,type:{name:"{ name: string; href: string; current: boolean; }[]"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"{ id: string; name: string; options: { value: string; label: string; checked: boolean; }[]; }[]"}},callback:{defaultValue:null,description:"",name:"callback",required:!0,type:{name:"(k: string[]) => void"}}}}}catch{}const Je={title:"Filter",classname:".filter",sortOptions:[{name:"Daily",href:"#",current:!1},{name:"Weekly",href:"#",current:!1},{name:"Monthly",href:"#",current:!1}],filters:[{id:"audience",name:"Audience",options:[{value:"staff",label:"Staff",checked:!1},{value:"student",label:"Student",checked:!1}]},{id:"tags",name:"Tags",options:[{value:"general",label:"General",checked:!1},{value:"online/virtual",label:"Online/Virtual",checked:!1},{value:"finances",label:"Finances",checked:!1},{value:"healthyworkplace",label:"Healthy Workplace",checked:!1}]}]};export{Y as F,Je as a};
//# sourceMappingURL=FilterData-69a1ec3c.js.map
