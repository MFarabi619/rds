import{a as l,F as N,j as e}from"./jsx-runtime-9d2cd5de.js";import{X as B,B as D}from"./index-e08e05bb.js";import{A as C}from"./Avatar-c7823a04.js";import{D as T}from"./DropDown-883a9694.js";import{L as v}from"./Link-44b0899b.js";import{r as i}from"./index-580b8df0.js";import{d as $}from"./tailwindClasses-b7ef87ec.js";import{F as _}from"./dialog-82995df1.js";import{J as b}from"./combobox-00d1fd7e.js";import{t as q}from"./transition-ad75749a.js";import{v as g}from"./disclosure-76f74e80.js";function O({title:n,titleId:o,...c},s){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":o},c),n?i.createElement("title",{id:o},n):null,i.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 100 13.5 6.75 6.75 0 000-13.5zM2.25 10.5a8.25 8.25 0 1114.59 5.28l4.69 4.69a.75.75 0 11-1.06 1.06l-4.69-4.69A8.25 8.25 0 012.25 10.5z",clipRule:"evenodd"}))}const j=i.forwardRef(O),L=j;function M({title:n,titleId:o,...c},s){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":o},c),n?i.createElement("title",{id:o},n):null,i.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z",clipRule:"evenodd"}))}const P=i.forwardRef(M),A=P;function X(...n){return n.filter(Boolean).join(" ")}const k=({searchOn:n="title",sourceData:o,children:c})=>{const[s,p]=i.useState(""),[d,h]=i.useState(!1),f=s===""?[]:o.filter(r=>r[n].toString().toLowerCase().includes(s.toLowerCase())),x=c||e(L,{className:"left-4 h-5 w-5 cursor-pointer text-gray-400","aria-hidden":"true"});return i.useEffect(()=>{function r(a){a.key==="k"&&(a.metaKey||a.ctrlKey)&&h(!d)}return window.addEventListener("keydown",r),()=>{window.removeEventListener("keydown",r)}},[d]),l(N,{children:[e("button",{onClick:()=>h(!0),"aria-label":"search",className:"not-prose",children:x}),e(q.Root,{show:d,as:i.Fragment,afterLeave:()=>p(""),appear:!0,children:l(_,{as:"div",className:"not-prose relative z-50",onClose:h,children:[e(q.Child,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:`fixed inset-0 transition-opacity ${$} `})}),e("div",{className:"z-100 fixed inset-0 overflow-y-auto p-4 sm:p-6 md:p-20",children:e(q.Child,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e(_.Panel,{className:"mx-auto mt-[20vh] max-w-xl transform divide-y divide-gray-100 overflow-hidden rounded-xl bg-white shadow-2xl ring-1 ring-black ring-opacity-5 transition-all",children:l(b,{children:[l("div",{className:"relative",children:[e(L,{className:"pointer-events-none absolute top-3.5 left-4 h-5 w-5 text-gray-400","aria-hidden":"true"}),e(b.Input,{className:"h-12 w-full rounded-lg border border-cu-black-100 bg-transparent pr-4 pl-11 text-sm text-cu-black-800 placeholder-cu-black-300 focus:border-cu-black-300 focus:ring-0",placeholder:"Search...",onChange:r=>p(r.target.value)}),s&&e(A,{className:"absolute top-3.5 right-4 h-4 w-4 text-gray-400","aria-hidden":"true",onClick:()=>{p("")}})]}),f.length>0&&e(b.Options,{static:!0,className:"max-h-72 scroll-py-2 overflow-y-auto py-2 text-sm text-gray-800",children:f.map(r=>e(b.Option,{value:r,className:({active:a})=>X("cursor-default select-none px-4 py-2",a&&"bg-cu-red text-white"),children:e(v,{href:`${r.url}`,children:r[n]})},r.id))}),s!==""&&f.length===0&&e("p",{className:"p-4 text-sm text-gray-500",children:"Search not found"})]})})})})]})})]})};try{k.displayName="Search",k.__docgenInfo={description:"",displayName:"Search",props:{sourceData:{defaultValue:null,description:"",name:"sourceData",required:!0,type:{name:"SourceDataProps[]"}},searchOn:{defaultValue:{value:"title"},description:"",name:"searchOn",required:!1,type:{name:"string"}}}}}catch{}const K=""+new URL("cu-shield-a2f07ae6.svg",import.meta.url).href,F=({children:n,logoUrl:o,title:c,brand:s,hasSearch:p,sourceData:d,searchOn:h,navLinks:f,mobileLinks:x,userMenuItems:r,userInfo:a,session:V,sticky:S,login:R,mobileLogin:u})=>{const E=s?l("div",{className:"flex flex-shrink-0 items-center",children:[l("h1",{className:"sr-only",children:[" ",c," "]}),e("img",{className:"h-16 w-auto",src:s,alt:c})]}):l("div",{className:"flex flex-shrink-0 items-center",children:[e("img",{className:"h-10 w-auto",src:K,alt:"Carleton Shield"}),e("h1",{className:"flex flex-shrink-0 items-center pl-3 pr-2 text-2xl font-semibold",children:c})]});return e(g,{as:"nav",className:` ${S?"sticky":""} not-prose  relative top-0 z-50 border-t-2 border-cu-red bg-white px-6 shadow-md lg:px-8`,id:"topNav",children:({open:z})=>l(N,{children:[l("div",{className:"mx-auto flex h-20 max-w-7xl gap-6",children:[e("div",{className:"flex flex-shrink-0 items-center hover:text-cu-red",children:e(v,{href:o||"/",children:E})}),e("div",{className:"flex items-center lg:hidden",children:l("div",{className:"absolute right-4 ml-4",children:[p&&d&&e("div",{className:"inline-flex items-center p-2 ",children:e(k,{sourceData:d,searchOn:h})}),l(g.Button,{className:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-cu-red-500",children:[e("span",{className:"sr-only",children:"main menu"}),z?e(B,{className:"block h-6 w-6","aria-hidden":"true"}):e(D,{className:"block h-6 w-6","aria-hidden":"true"})]})]})}),e("ul",{className:"hidden lg:flex lg:flex-1 lg:gap-6",children:f&&f.map((m,t)=>e("li",{className:`inline-flex items-center border-b-2  px-1 pt-1 text-sm font-medium text-cu-black-800 hover:border-cu-red hover:text-cu-red ${m.active?"border-cu-red text-cu-red":"border-transparent"}`,children:e(v,{href:m.link,children:m.title})},t))}),l("div",{className:"hidden lg:flex lg:items-center lg:gap-6",children:[p&&d&&e("div",{className:"inline-flex items-center ",children:e(k,{sourceData:d,searchOn:h})}),n,V===null&&R,!a&&V!==null&&e("p",{children:"Loading"}),a&&!r&&e(C,{user:a,size:"xs",rounded:"full"}),a&&r&&e(T,{listItems:r,menuAlign:"right",children:e(C,{user:a,size:"xs",rounded:"full"})})]})]}),e(g.Panel,{className:"-mx-2 sm:-mx-4 lg:-mx-8 lg:hidden",children:({close:m})=>l(N,{children:[l("div",{className:"space-y-1 pt-2 pb-3",children:[x&&x.map((t,w)=>e(g.Button,{as:"div",className:`block border-l-4  py-2 pl-3 pr-4 text-base font-medium text-cu-black-800 hover:border-cu-black-200 hover:bg-gray-50 hover:text-cu-red ${t.active?"border-l-4 border-cu-red bg-gradient-to-r from-cu-red-50 to-white":"border-transparent"}`,children:e(v,{href:t.link,onClick:y=>{y.preventDefault(),m()},children:t.title})},w)),!a&&u&&e(N,{children:e(g.Button,{as:"div",className:"block border-l-4 border-transparent py-2 pl-3 pr-4 text-base font-medium text-cu-black-800 hover:border-cu-black-200 hover:bg-gray-50 hover:text-cu-red ",children:e(v,{href:u.link?u.link:"",onClick:t=>{u.onClick&&t.preventDefault(),u.onClick&&u.onClick(t),m()},children:u.title})})})]}),a&&l("div",{className:"border-t border-gray-200 pt-4 pb-3",children:[l("div",{className:"flex items-center px-4",children:[e("div",{className:"flex-shrink-0",children:e(C,{user:a,size:"xs",rounded:"full"})}),e("div",{className:"ml-3",children:e("div",{className:"text-base font-medium text-gray-800",children:a.firstName+" "+a.lastName})})]}),e("div",{className:"mt-3 space-y-1",children:r&&r.map((t,w)=>e(g.Button,{as:"div",className:"block border-l-4 border-transparent py-2 pl-3 pr-4 text-base font-medium text-cu-black-800 hover:border-cu-black-200 hover:bg-gray-50 hover:text-cu-red ",children:e(v,{href:t.href?t.href:"",onClick:y=>{t.onClick&&y.preventDefault(),t.onClick&&t.onClick(y),m()},children:t.title})},w))})]})]})})]})})};try{F.displayName="TopNav",F.__docgenInfo={description:"",displayName:"TopNav",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},logoUrl:{defaultValue:null,description:"",name:"logoUrl",required:!1,type:{name:"string"}},brand:{defaultValue:null,description:"",name:"brand",required:!1,type:{name:"string"}},login:{defaultValue:null,description:"",name:"login",required:!1,type:{name:"ReactNode"}},hasSearch:{defaultValue:null,description:"",name:"hasSearch",required:!1,type:{name:"boolean"}},sourceData:{defaultValue:null,description:"",name:"sourceData",required:!1,type:{name:"{ [k: string]: string | number; }[]"}},sticky:{defaultValue:null,description:"",name:"sticky",required:!1,type:{name:"boolean"}},navLinks:{defaultValue:null,description:"",name:"navLinks",required:!1,type:{name:"LinkProps[]"}},mobileLinks:{defaultValue:null,description:"",name:"mobileLinks",required:!1,type:{name:"LinkProps[]"}},userMenuItems:{defaultValue:null,description:"",name:"userMenuItems",required:!1,type:{name:"{ [k: string]: string | number | (() => void); title: string; }[]"}},userInfo:{defaultValue:null,description:"",name:"userInfo",required:!1,type:{name:"UserInfoType"}},session:{defaultValue:null,description:"",name:"session",required:!1,type:{name:"unknown"}},searchOn:{defaultValue:null,description:"",name:"searchOn",required:!1,type:{name:"string"}},mobileLogin:{defaultValue:null,description:"",name:"mobileLogin",required:!1,type:{name:"mobileLoginProps"}}}}}catch{}export{F as T};
//# sourceMappingURL=TopNav-2f13134e.js.map
