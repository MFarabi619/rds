import{R as w,r as i}from"./index-BwDkhjyp.js";import{e as He,p as Ye,o as T,W as K,H as q,n as A,u as Z,a as Re,g as re,t as ht,y as X,T as Xe,l as Et,M as me,c as $t,i as oe,D as Se,b as qe,V as Je,A as ze,d as yt,m as wt,s as Pt}from"./transition-mRgfyLhs.js";import{u as Tt,o as St,s as Ft,f as xt,i as Mt,a as Lt,b as Ct,c as It,d as Ht}from"./floating-ui.react-CykV7ozR.js";import{r as Rt}from"./index-B8XB3FuZ.js";const Qe=typeof document<"u"?w.useLayoutEffect:()=>{};function kt(e){const t=i.useRef(null);return Qe(()=>{t.current=e},[e]),i.useCallback((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}const de=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},ee=e=>e&&"window"in e&&e.window===e?e:de(e).defaultView||window;function Ot(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function Dt(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Nt(){return Dt(/^Mac/i)}function At(){return Ot(/Android/i)}function Bt(e){return e.mozInputSource===0&&e.isTrusted?!0:At()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}class Wt{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=t}}function Ze(e){let t=i.useRef({isFocused:!1,observer:null});Qe(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=kt(r=>{e==null||e(r)});return i.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let o=r.target,u=c=>{t.current.isFocused=!1,o.disabled&&n(new Wt("blur",c)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};o.addEventListener("focusout",u,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&o.disabled){var c;(c=t.current.observer)===null||c===void 0||c.disconnect();let l=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:l})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:l}))}}),t.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function _t(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:o}=e;const u=i.useCallback(a=>{if(a.target===a.currentTarget)return r&&r(a),o&&o(!1),!0},[r,o]),c=Ze(u),l=i.useCallback(a=>{const f=de(a.target);a.target===a.currentTarget&&f.activeElement===a.target&&(n&&n(a),o&&o(!0),c(a))},[o,n,c]);return{focusProps:{onFocus:!t&&(n||o||r)?l:void 0,onBlur:!t&&(r||o)?u:void 0}}}let fe=null,Fe=new Set,se=new Map,ne=!1,xe=!1;const Vt={Tab:!0,Escape:!0};function ke(e,t){for(let n of Fe)n(e,t)}function Gt(e){return!(e.metaKey||!Nt()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function be(e){ne=!0,Gt(e)&&(fe="keyboard",ke("keyboard",e))}function N(e){fe="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(ne=!0,ke("pointer",e))}function et(e){Bt(e)&&(ne=!0,fe="virtual")}function tt(e){e.target===window||e.target===document||(!ne&&!xe&&(fe="virtual",ke("virtual",e)),ne=!1,xe=!1)}function nt(){ne=!1,xe=!0}function Me(e){if(typeof window>"u"||se.get(ee(e)))return;const t=ee(e),n=de(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){ne=!0,r.apply(this,arguments)},n.addEventListener("keydown",be,!0),n.addEventListener("keyup",be,!0),n.addEventListener("click",et,!0),t.addEventListener("focus",tt,!0),t.addEventListener("blur",nt,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",N,!0),n.addEventListener("pointermove",N,!0),n.addEventListener("pointerup",N,!0)):(n.addEventListener("mousedown",N,!0),n.addEventListener("mousemove",N,!0),n.addEventListener("mouseup",N,!0)),t.addEventListener("beforeunload",()=>{rt(e)},{once:!0}),se.set(t,{focus:r})}const rt=(e,t)=>{const n=ee(e),r=de(e);t&&r.removeEventListener("DOMContentLoaded",t),se.has(n)&&(n.HTMLElement.prototype.focus=se.get(n).focus,r.removeEventListener("keydown",be,!0),r.removeEventListener("keyup",be,!0),r.removeEventListener("click",et,!0),n.removeEventListener("focus",tt,!0),n.removeEventListener("blur",nt,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",N,!0),r.removeEventListener("pointermove",N,!0),r.removeEventListener("pointerup",N,!0)):(r.removeEventListener("mousedown",N,!0),r.removeEventListener("mousemove",N,!0),r.removeEventListener("mouseup",N,!0)),se.delete(n))};function Kt(e){const t=de(e);let n;return t.readyState!=="loading"?Me(e):(n=()=>{Me(e)},t.addEventListener("DOMContentLoaded",n)),()=>rt(e,n)}typeof document<"u"&&Kt();function ot(){return fe!=="pointer"}const jt=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Ut(e,t,n){var r;const o=typeof window<"u"?ee(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,u=typeof window<"u"?ee(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,c=typeof window<"u"?ee(n==null?void 0:n.target).HTMLElement:HTMLElement,l=typeof window<"u"?ee(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||(n==null?void 0:n.target)instanceof o&&!jt.has(n==null||(r=n.target)===null||r===void 0?void 0:r.type)||(n==null?void 0:n.target)instanceof u||(n==null?void 0:n.target)instanceof c&&(n==null?void 0:n.target.isContentEditable),!(e&&t==="keyboard"&&n instanceof l&&!Vt[n.key])}function Yt(e,t,n){Me(),i.useEffect(()=>{let r=(o,u)=>{Ut(!!(n!=null&&n.isTextInput),o,u)&&e(ot())};return Fe.add(r),()=>{Fe.delete(r)}},t)}function Xt(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:o}=e,u=i.useRef({isFocusWithin:!1}),c=i.useCallback(f=>{u.current.isFocusWithin&&!f.currentTarget.contains(f.relatedTarget)&&(u.current.isFocusWithin=!1,n&&n(f),o&&o(!1))},[n,o,u]),l=Ze(c),a=i.useCallback(f=>{!u.current.isFocusWithin&&document.activeElement===f.target&&(r&&r(f),o&&o(!0),u.current.isFocusWithin=!0,l(f))},[r,o,l]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:a,onBlur:c}}}let ge=!1,Pe=0;function Le(){ge=!0,setTimeout(()=>{ge=!1},50)}function Ve(e){e.pointerType==="touch"&&Le()}function qt(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",Ve):document.addEventListener("touchend",Le),Pe++,()=>{Pe--,!(Pe>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",Ve):document.removeEventListener("touchend",Le))}}function Jt(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:o}=e,[u,c]=i.useState(!1),l=i.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;i.useEffect(qt,[]);let{hoverProps:a,triggerHoverEnd:f}=i.useMemo(()=>{let s=(d,h)=>{if(l.pointerType=h,o||h==="touch"||l.isHovered||!d.currentTarget.contains(d.target))return;l.isHovered=!0;let E=d.currentTarget;l.target=E,t&&t({type:"hoverstart",target:E,pointerType:h}),n&&n(!0),c(!0)},p=(d,h)=>{if(l.pointerType="",l.target=null,h==="touch"||!l.isHovered)return;l.isHovered=!1;let E=d.currentTarget;r&&r({type:"hoverend",target:E,pointerType:h}),n&&n(!1),c(!1)},v={};return typeof PointerEvent<"u"?(v.onPointerEnter=d=>{ge&&d.pointerType==="mouse"||s(d,d.pointerType)},v.onPointerLeave=d=>{!o&&d.currentTarget.contains(d.target)&&p(d,d.pointerType)}):(v.onTouchStart=()=>{l.ignoreEmulatedMouseEvents=!0},v.onMouseEnter=d=>{!l.ignoreEmulatedMouseEvents&&!ge&&s(d,"mouse"),l.ignoreEmulatedMouseEvents=!1},v.onMouseLeave=d=>{!o&&d.currentTarget.contains(d.target)&&p(d,"mouse")}),{hoverProps:v,triggerHoverEnd:p}},[t,n,r,o,l]);return i.useEffect(()=>{o&&f({currentTarget:l.target},l.pointerType)},[o]),{hoverProps:a,isHovered:u}}function zt(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,o=i.useRef({isFocused:!1,isFocusVisible:t||ot()}),[u,c]=i.useState(!1),[l,a]=i.useState(()=>o.current.isFocused&&o.current.isFocusVisible),f=i.useCallback(()=>a(o.current.isFocused&&o.current.isFocusVisible),[]),s=i.useCallback(d=>{o.current.isFocused=d,c(d),f()},[f]);Yt(d=>{o.current.isFocusVisible=d,f()},[],{isTextInput:n});let{focusProps:p}=_t({isDisabled:r,onFocusChange:s}),{focusWithinProps:v}=Xt({isDisabled:!r,onFocusWithinChange:s});return{isFocused:u,isFocusVisible:l,focusProps:r?v:p}}function pe(e){return He.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function Qt(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function Zt(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function en({disabled:e=!1}={}){let t=i.useRef(null),[n,r]=i.useState(!1),o=Ye(),u=T(()=>{t.current=null,r(!1),o.dispose()}),c=T(l=>{if(o.dispose(),t.current===null){t.current=l.currentTarget,r(!0);{let a=pe(l.currentTarget);o.addEventListener(a,"pointerup",u,!1),o.addEventListener(a,"pointermove",f=>{if(t.current){let s=Qt(f);r(Zt(s,t.current.getBoundingClientRect()))}},!1),o.addEventListener(a,"pointercancel",u,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:c,onPointerUp:u,onClick:u}}}let tn="div";var le=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(le||{});function nn(e,t){var n;let{features:r=1,...o}=e,u={ref:t,"aria-hidden":(r&2)===2?!0:(n=o["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return q({ourProps:u,theirProps:o,slot:{},defaultTag:tn,name:"Hidden"})}let ce=K(nn);function lt(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&rn(n)?!1:r}function rn(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}var z=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(z||{});let on=i.createContext(()=>{});function ln({value:e,children:t}){return w.createElement(on.Provider,{value:e},t)}function un(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function an(e,t=!1){let n=e===null?null:"current"in e?e.current:e,[r,o]=i.useReducer(()=>({}),{}),u=i.useMemo(()=>un(n),[n,r]);return A(()=>{if(!n)return;let c=new ResizeObserver(o);return c.observe(n),()=>{c.disconnect()}},[n]),t?{width:`${u.width}px`,height:`${u.height}px`}:u}let sn=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};function ut(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(o){return r.add(o),()=>r.delete(o)},dispatch(o,...u){let c=t[o].call(n,...u);c&&(n=c,r.forEach(l=>l()))}}}function at(e){return i.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}let cn=new sn(()=>ut(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let n=this.slice();return n.splice(t,1),n}}));function it(e,t){let n=cn.get(t),r=i.useId(),o=at(n);if(A(()=>{if(e)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,e]),!e)return!1;let u=o.indexOf(r),c=o.length;return u===-1&&(u=c,c+=1),u===c-1}let Ce=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),dn=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var U=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(U||{}),he=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(he||{}),fn=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(fn||{});function ve(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Ce)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function pn(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(dn)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Oe=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Oe||{});function De(e,t=0){var n;return e===((n=pe(e))==null?void 0:n.body)?!1:Z(t,{0(){return e.matches(Ce)},1(){let r=e;for(;r!==null;){if(r.matches(Ce))return!0;r=r.parentElement}return!1}})}function Pr(e){let t=pe(e);Re().nextFrame(()=>{t&&!De(t.activeElement,0)&&mn(e)})}var vn=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(vn||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function mn(e){e==null||e.focus({preventScroll:!0})}let bn=["textarea","input"].join(",");function gn(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,bn))!=null?n:!1}function hn(e,t=n=>n){return e.slice().sort((n,r)=>{let o=t(n),u=t(r);if(o===null||u===null)return 0;let c=o.compareDocumentPosition(u);return c&Node.DOCUMENT_POSITION_FOLLOWING?-1:c&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Tr(e,t){return Q(ve(),t,{relativeTo:e})}function Q(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:o=[]}={}){let u=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,c=Array.isArray(e)?n?hn(e):e:t&64?pn(e):ve(e);o.length>0&&c.length>1&&(c=c.filter(d=>!o.some(h=>h!=null&&"current"in h?(h==null?void 0:h.current)===d:h===d))),r=r??u.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),a=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,c.indexOf(r))-1;if(t&4)return Math.max(0,c.indexOf(r))+1;if(t&8)return c.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},s=0,p=c.length,v;do{if(s>=p||s+p<=0)return 0;let d=a+s;if(t&16)d=(d+p)%p;else{if(d<0)return 3;if(d>=p)return 1}v=c[d],v==null||v.focus(f),s+=l}while(v!==u.activeElement);return t&6&&gn(v)&&v.select(),2}function st(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function En(){return/Android/gi.test(window.navigator.userAgent)}function $n(){return st()||En()}function ie(e,t,n,r){let o=re(n);i.useEffect(()=>{if(!e)return;function u(c){o.current(c)}return document.addEventListener(t,u,r),()=>document.removeEventListener(t,u,r)},[e,t,r])}function ct(e,t,n,r){let o=re(n);i.useEffect(()=>{if(!e)return;function u(c){o.current(c)}return window.addEventListener(t,u,r),()=>window.removeEventListener(t,u,r)},[e,t,r])}const Ge=30;function yn(e,t,n){let r=it(e,"outside-click"),o=re(n),u=i.useCallback(function(a,f){if(a.defaultPrevented)return;let s=f(a);if(s===null||!s.getRootNode().contains(s)||!s.isConnected)return;let p=function v(d){return typeof d=="function"?v(d()):Array.isArray(d)||d instanceof Set?d:[d]}(t);for(let v of p){if(v===null)continue;let d=v instanceof HTMLElement?v:v.current;if(d!=null&&d.contains(s)||a.composed&&a.composedPath().includes(d))return}return!De(s,Oe.Loose)&&s.tabIndex!==-1&&a.preventDefault(),o.current(a,s)},[o]),c=i.useRef(null);ie(r,"pointerdown",a=>{var f,s;c.current=((s=(f=a.composedPath)==null?void 0:f.call(a))==null?void 0:s[0])||a.target},!0),ie(r,"mousedown",a=>{var f,s;c.current=((s=(f=a.composedPath)==null?void 0:f.call(a))==null?void 0:s[0])||a.target},!0),ie(r,"click",a=>{$n()||c.current&&(u(a,()=>c.current),c.current=null)},!0);let l=i.useRef({x:0,y:0});ie(r,"touchstart",a=>{l.current.x=a.touches[0].clientX,l.current.y=a.touches[0].clientY},!0),ie(r,"touchend",a=>{let f={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(f.x-l.current.x)>=Ge||Math.abs(f.y-l.current.y)>=Ge))return u(a,()=>a.target instanceof HTMLElement?a.target:null)},!0),ct(r,"blur",a=>u(a,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function ue(...e){return i.useMemo(()=>pe(...e),[...e])}function wn(e,t,n,r){let o=re(n);i.useEffect(()=>{e=e??window;function u(c){o.current(c)}return e.addEventListener(t,u,r),()=>e.removeEventListener(t,u,r)},[e,t,r])}function Ke(e){var t;if(e.type)return e.type;let n=(t=e.as)!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function Pn(e,t){let[n,r]=i.useState(()=>Ke(e));return A(()=>{r(Ke(e))},[e.type,e.as]),A(()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")},[n,t]),n}function Tn(){let e;return{before({doc:t}){var n;let r=t.documentElement,o=(n=t.defaultView)!=null?n:window;e=Math.max(0,o.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,o=Math.max(0,r.clientWidth-r.offsetWidth),u=Math.max(0,e-o);n.style(r,"paddingRight",`${u}px`)}}}function Sn(){return st()?{before({doc:e,d:t,meta:n}){function r(o){return n.containers.flatMap(u=>u()).some(u=>u.contains(o))}t.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=Re();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let u=(o=window.scrollY)!=null?o:window.pageYOffset,c=null;t.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let a=l.target.closest("a");if(!a)return;let{hash:f}=new URL(a.href),s=e.querySelector(f);s&&!r(s)&&(c=s)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(l.target instanceof HTMLElement)if(r(l.target)){let a=l.target;for(;a.parentElement&&r(a.parentElement);)a=a.parentElement;t.style(a,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(l.target instanceof HTMLElement){if(l.target.tagName==="INPUT")return;if(r(l.target)){let a=l.target;for(;a.parentElement&&a.dataset.headlessuiPortal!==""&&!(a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth);)a=a.parentElement;a.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),t.add(()=>{var l;let a=(l=window.scrollY)!=null?l:window.pageYOffset;u!==a&&window.scrollTo(0,u),c&&c.isConnected&&(c.scrollIntoView({block:"nearest"}),c=null)})})}}:{}}function Fn(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function xn(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let te=ut(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Re(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:xn(n)},o=[Sn(),Tn(),Fn()];o.forEach(({before:u})=>u==null?void 0:u(r)),o.forEach(({after:u})=>u==null?void 0:u(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});te.subscribe(()=>{let e=te.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",o=n.count!==0;(o&&!r||!o&&r)&&te.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&te.dispatch("TEARDOWN",n)}});function Mn(e,t,n=()=>({containers:[]})){let r=at(te),o=t?r.get(t):void 0,u=o?o.count>0:!1;return A(()=>{if(!(!t||!e))return te.dispatch("PUSH",t,n),()=>te.dispatch("POP",t,n)},[e,t]),u}function Ln(e,t,n=()=>[document.body]){let r=it(e,"scroll-lock");Mn(r,t,o=>{var u;return{containers:[...(u=o.containers)!=null?u:[],n]}})}let ae=i.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});ae.displayName="FloatingContext";let Ne=i.createContext(null);Ne.displayName="PlacementContext";function Cn(e){return i.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function In(){return i.useContext(ae).setReference}function Sr(){return i.useContext(ae).getReferenceProps}function Hn(){let{getFloatingProps:e,slot:t}=i.useContext(ae);return i.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function Rn(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=i.useContext(Ne),n=i.useMemo(()=>e,[JSON.stringify(e,typeof HTMLElement<"u"?(o,u)=>u instanceof HTMLElement?u.outerHTML:u:void 0)]);A(()=>{t==null||t(n??null)},[t,n]);let r=i.useContext(ae);return i.useMemo(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}let je=4;function kn({children:e,enabled:t=!0}){let[n,r]=i.useState(null),[o,u]=i.useState(0),c=i.useRef(null),[l,a]=i.useState(null);On(l);let f=t&&n!==null&&l!==null,{to:s="bottom",gap:p=0,offset:v=0,padding:d=0,inner:h}=Dn(n,l),[E,b="center"]=s.split(" ");A(()=>{f&&u(0)},[f]);let{refs:P,floatingStyles:S,context:M}=Tt({open:f,placement:E==="selection"?b==="center"?"bottom":`bottom-${b}`:b==="center"?`${E}`:`${E}-${b}`,strategy:"absolute",transform:!1,middleware:[St({mainAxis:E==="selection"?0:p,crossAxis:v}),Ft({padding:d}),E!=="selection"&&xt({padding:d}),E==="selection"&&h?Mt({...h,padding:d,overflowRef:c,offset:o,minItemsVisible:je,referenceOverflowThreshold:d,onFallbackChange(O){var D,L;if(!O)return;let W=M.elements.floating;if(!W)return;let V=parseFloat(getComputedStyle(W).scrollPaddingBottom)||0,j=Math.min(je,W.childElementCount),$=0,y=0;for(let m of(L=(D=M.elements.floating)==null?void 0:D.childNodes)!=null?L:[])if(m instanceof HTMLElement){let g=m.offsetTop,F=g+m.clientHeight+V,x=W.scrollTop,C=x+W.clientHeight;if(g>=x&&F<=C)j--;else{y=Math.max(0,Math.min(F,C)-Math.max(g,x)),$=m.clientHeight;break}}j>=1&&u(m=>{let g=$*j-y+V;return m>=g?m:g})}}):null,Lt({padding:d,apply({availableWidth:O,availableHeight:D,elements:L}){Object.assign(L.floating.style,{overflow:"auto",maxWidth:`${O}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${D}px)`})}})].filter(Boolean),whileElementsMounted:Ct}),[I=E,_=b]=M.placement.split("-");E==="selection"&&(I="selection");let H=i.useMemo(()=>({anchor:[I,_].filter(Boolean).join(" ")}),[I,_]),R=It(M,{overflowRef:c,onChange:u}),{getReferenceProps:B,getFloatingProps:k}=Ht([R]),J=T(O=>{a(O),P.setFloating(O)});return i.createElement(Ne.Provider,{value:r},i.createElement(ae.Provider,{value:{setFloating:J,setReference:P.setReference,styles:S,getReferenceProps:B,getFloatingProps:k,slot:H}},e))}function On(e){A(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=e.style.maxHeight;parseFloat(n)!==parseInt(n)&&(e.style.maxHeight=`${Math.ceil(parseFloat(n))}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function Dn(e,t){var n,r,o;let u=Te((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),c=Te((r=e==null?void 0:e.offset)!=null?r:"var(--anchor-offset, 0)",t),l=Te((o=e==null?void 0:e.padding)!=null?o:"var(--anchor-padding, 0)",t);return{...e,gap:u,offset:c,padding:l}}function Te(e,t,n=void 0){let r=Ye(),o=T((a,f)=>{if(a==null)return[n,null];if(typeof a=="number")return[a,null];if(typeof a=="string"){if(!f)return[n,null];let s=Ue(a,f);return[s,p=>{let v=dt(a);{let d=v.map(h=>window.getComputedStyle(f).getPropertyValue(h));r.requestAnimationFrame(function h(){r.nextFrame(h);let E=!1;for(let[P,S]of v.entries()){let M=window.getComputedStyle(f).getPropertyValue(S);if(d[P]!==M){d[P]=M,E=!0;break}}if(!E)return;let b=Ue(a,f);s!==b&&(p(b),s=b)})}return r.dispose}]}return[n,null]}),u=i.useMemo(()=>o(e,t)[0],[e,t]),[c=u,l]=i.useState();return A(()=>{let[a,f]=o(e,t);if(l(a),!!f)return f(l)},[e,t]),c}function dt(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let r=t[1].slice(0,n).trim(),o=t[1].slice(n+1).trim();return o?[r,...dt(o)]:[r]}return[]}function Ue(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}function Nn(e){let t=T(e),n=i.useRef(!1);i.useEffect(()=>(n.current=!1,()=>{n.current=!0,ht(()=>{n.current&&t()})}),[t])}let ft=i.createContext(!1);function An(){return i.useContext(ft)}function Fr(e){return w.createElement(ft.Provider,{value:e.force},e.children)}function Bn(e){let t=An(),n=i.useContext(vt),r=ue(e),[o,u]=i.useState(()=>{var c;if(!t&&n!==null)return(c=n.current)!=null?c:null;if(He.isServer)return null;let l=r==null?void 0:r.getElementById("headlessui-portal-root");if(l)return l;if(r===null)return null;let a=r.createElement("div");return a.setAttribute("id","headlessui-portal-root"),r.body.appendChild(a)});return i.useEffect(()=>{o!==null&&(r!=null&&r.body.contains(o)||r==null||r.body.appendChild(o))},[o,r]),i.useEffect(()=>{t||n!==null&&u(n.current)},[n,u,t]),o}let pt=i.Fragment,Wn=K(function(e,t){let n=e,r=i.useRef(null),o=X(Xe(s=>{r.current=s}),t),u=ue(r),c=Bn(r),[l]=i.useState(()=>{var s;return He.isServer?null:(s=u==null?void 0:u.createElement("div"))!=null?s:null}),a=i.useContext(Ie),f=Et();return A(()=>{!c||!l||c.contains(l)||(l.setAttribute("data-headlessui-portal",""),c.appendChild(l))},[c,l]),A(()=>{if(l&&a)return a.register(l)},[a,l]),Nn(()=>{var s;!c||!l||(l instanceof Node&&c.contains(l)&&c.removeChild(l),c.childNodes.length<=0&&((s=c.parentElement)==null||s.removeChild(c)))}),f?!c||!l?null:Rt.createPortal(q({ourProps:{ref:o},theirProps:n,slot:{},defaultTag:pt,name:"Portal"}),l):null});function _n(e,t){let n=X(t),{enabled:r=!0,...o}=e;return r?w.createElement(Wn,{...o,ref:n}):q({ourProps:{ref:n},theirProps:o,slot:{},defaultTag:pt,name:"Portal"})}let Vn=i.Fragment,vt=i.createContext(null);function Gn(e,t){let{target:n,...r}=e,o={ref:X(t)};return w.createElement(vt.Provider,{value:n},q({ourProps:o,theirProps:r,defaultTag:Vn,name:"Popover.Group"}))}let Ie=i.createContext(null);function Kn(){let e=i.useContext(Ie),t=i.useRef([]),n=T(u=>(t.current.push(u),e&&e.register(u),()=>r(u))),r=T(u=>{let c=t.current.indexOf(u);c!==-1&&t.current.splice(c,1),e&&e.unregister(u)}),o=i.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,i.useMemo(()=>function({children:u}){return w.createElement(Ie.Provider,{value:o},u)},[o])]}let jn=K(_n),Un=K(Gn),Yn=Object.assign(jn,{Group:Un});function Xn({defaultContainers:e=[],portals:t,mainTreeNodeRef:n}={}){var r;let o=i.useRef((r=n==null?void 0:n.current)!=null?r:null),u=ue(o),c=T(()=>{var l,a,f;let s=[];for(let p of e)p!==null&&(p instanceof HTMLElement?s.push(p):"current"in p&&p.current instanceof HTMLElement&&s.push(p.current));if(t!=null&&t.current)for(let p of t.current)s.push(p);for(let p of(l=u==null?void 0:u.querySelectorAll("html > *, body > *"))!=null?l:[])p!==document.body&&p!==document.head&&p instanceof HTMLElement&&p.id!=="headlessui-portal-root"&&(p.contains(o.current)||p.contains((f=(a=o.current)==null?void 0:a.getRootNode())==null?void 0:f.host)||s.some(v=>p.contains(v))||s.push(p));return s});return{resolveContainers:c,contains:T(l=>c().some(a=>a.contains(l))),mainTreeNodeRef:o,MainTreeNode:i.useMemo(()=>function(){return n!=null?null:w.createElement(ce,{features:le.Hidden,ref:o})},[o,n])}}function qn(){let e=i.useRef(null);return{mainTreeNodeRef:e,MainTreeNode:i.useMemo(()=>function(){return w.createElement(ce,{features:le.Hidden,ref:e})},[e])}}var Y=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Y||{});function mt(){let e=i.useRef(0);return ct(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}var Jn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Jn||{}),zn=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(zn||{});let Qn={0:e=>({...e,popoverState:Z(e.popoverState,{0:1,1:0}),__demoMode:!1}),1(e){return e.popoverState===1?e:{...e,popoverState:1,__demoMode:!1}},2(e,t){return e.button===t.button?e:{...e,button:t.button}},3(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},4(e,t){return e.panel===t.panel?e:{...e,panel:t.panel}},5(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},Ae=i.createContext(null);Ae.displayName="PopoverContext";function Ee(e){let t=i.useContext(Ae);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ee),n}return t}let $e=i.createContext(null);$e.displayName="PopoverAPIContext";function Be(e){let t=i.useContext($e);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Be),n}return t}let We=i.createContext(null);We.displayName="PopoverGroupContext";function bt(){return i.useContext(We)}let ye=i.createContext(null);ye.displayName="PopoverPanelContext";function Zn(){return i.useContext(ye)}function er(e,t){return Z(t.type,Qn,e,t)}let tr="div";function nr(e,t){var n;let{__demoMode:r=!1,...o}=e,u=i.useRef(null),c=X(t,Xe($=>{u.current=$})),l=i.useRef([]),a=i.useReducer(er,{__demoMode:r,popoverState:r?0:1,buttons:l,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:i.createRef(),afterPanelSentinel:i.createRef(),afterButtonSentinel:i.createRef()}),[{popoverState:f,button:s,buttonId:p,panel:v,panelId:d,beforePanelSentinel:h,afterPanelSentinel:E,afterButtonSentinel:b},P]=a,S=ue((n=u.current)!=null?n:s),M=i.useMemo(()=>{if(!s||!v)return!1;for(let C of document.querySelectorAll("body > *"))if(Number(C==null?void 0:C.contains(s))^Number(C==null?void 0:C.contains(v)))return!0;let $=ve(),y=$.indexOf(s),m=(y+$.length-1)%$.length,g=(y+1)%$.length,F=$[m],x=$[g];return!v.contains(F)&&!v.contains(x)},[s,v]),I=re(p),_=re(d),H=i.useMemo(()=>({buttonId:I,panelId:_,close:()=>P({type:1})}),[I,_,P]),R=bt(),B=R==null?void 0:R.registerPopover,k=T(()=>{var $;return($=R==null?void 0:R.isFocusWithinPopoverGroup())!=null?$:(S==null?void 0:S.activeElement)&&((s==null?void 0:s.contains(S.activeElement))||(v==null?void 0:v.contains(S.activeElement)))});i.useEffect(()=>B==null?void 0:B(H),[B,H]);let[J,O]=Kn(),D=Xn({mainTreeNodeRef:R==null?void 0:R.mainTreeNodeRef,portals:J,defaultContainers:[s,v]});wn(S==null?void 0:S.defaultView,"focus",$=>{var y,m,g,F,x,C;$.target!==window&&$.target instanceof HTMLElement&&f===0&&(k()||s&&v&&(D.contains($.target)||(m=(y=h.current)==null?void 0:y.contains)!=null&&m.call(y,$.target)||(F=(g=E.current)==null?void 0:g.contains)!=null&&F.call(g,$.target)||(C=(x=b.current)==null?void 0:x.contains)!=null&&C.call(x,$.target)||P({type:1})))},!0),yn(f===0,D.resolveContainers,($,y)=>{P({type:1}),De(y,Oe.Loose)||($.preventDefault(),s==null||s.focus())});let L=T($=>{P({type:1});let y=$?$ instanceof HTMLElement?$:"current"in $&&$.current instanceof HTMLElement?$.current:s:s;y==null||y.focus()}),W=i.useMemo(()=>({close:L,isPortalled:M}),[L,M]),V=i.useMemo(()=>({open:f===0,close:L}),[f,L]),j={ref:c};return w.createElement(kn,null,w.createElement(ye.Provider,{value:null},w.createElement(Ae.Provider,{value:a},w.createElement($e.Provider,{value:W},w.createElement(ln,{value:L},w.createElement($t,{value:Z(f,{0:oe.Open,1:oe.Closed})},w.createElement(O,null,q({ourProps:j,theirProps:o,slot:V,defaultTag:tr,name:"Popover"}),w.createElement(D.MainTreeNode,null))))))))}let rr="button";function or(e,t){let n=i.useId(),{id:r=`headlessui-popover-button-${n}`,disabled:o=!1,autoFocus:u=!1,...c}=e,[l,a]=Ee("Popover.Button"),{isPortalled:f}=Be("Popover.Button"),s=i.useRef(null),p=`headlessui-focus-sentinel-${i.useId()}`,v=bt(),d=v==null?void 0:v.closeOthers,h=Zn()!==null;i.useEffect(()=>{if(!h)return a({type:3,buttonId:r}),()=>{a({type:3,buttonId:null})}},[h,r,a]);let[E]=i.useState(()=>Symbol()),b=X(s,t,In(),h?null:m=>{if(m)l.buttons.current.push(E);else{let g=l.buttons.current.indexOf(E);g!==-1&&l.buttons.current.splice(g,1)}l.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),m&&a({type:2,button:m})}),P=X(s,t),S=ue(s),M=T(m=>{var g,F,x;if(h){if(l.popoverState===1)return;switch(m.key){case z.Space:case z.Enter:m.preventDefault(),(F=(g=m.target).click)==null||F.call(g),a({type:1}),(x=l.button)==null||x.focus();break}}else switch(m.key){case z.Space:case z.Enter:m.preventDefault(),m.stopPropagation(),l.popoverState===1&&(d==null||d(l.buttonId)),a({type:0});break;case z.Escape:if(l.popoverState!==0)return d==null?void 0:d(l.buttonId);if(!s.current||S!=null&&S.activeElement&&!s.current.contains(S.activeElement))return;m.preventDefault(),m.stopPropagation(),a({type:1});break}}),I=T(m=>{h||m.key===z.Space&&m.preventDefault()}),_=T(m=>{var g,F;lt(m.currentTarget)||o||(h?(a({type:1}),(g=l.button)==null||g.focus()):(m.preventDefault(),m.stopPropagation(),l.popoverState===1&&(d==null||d(l.buttonId)),a({type:0}),(F=l.button)==null||F.focus()))}),H=T(m=>{m.preventDefault(),m.stopPropagation()}),{isFocusVisible:R,focusProps:B}=zt({autoFocus:u}),{isHovered:k,hoverProps:J}=Jt({isDisabled:o}),{pressed:O,pressProps:D}=en({disabled:o}),L=l.popoverState===0,W=i.useMemo(()=>({open:L,active:O||L,disabled:o,hover:k,focus:R,autofocus:u}),[L,k,R,O,o,u]),V=Pn(e,s),j=h?Se({ref:P,type:V,onKeyDown:M,onClick:_,disabled:o||void 0,autoFocus:u},B,J,D):Se({ref:b,id:l.buttonId,type:V,"aria-expanded":l.popoverState===0,"aria-controls":l.panel?l.panelId:void 0,disabled:o||void 0,autoFocus:u,onKeyDown:M,onKeyUp:I,onClick:_,onMouseDown:H},B,J,D),$=mt(),y=T(()=>{let m=l.panel;if(!m)return;function g(){Z($.current,{[Y.Forwards]:()=>Q(m,U.First),[Y.Backwards]:()=>Q(m,U.Last)})===he.Error&&Q(ve().filter(F=>F.dataset.headlessuiFocusGuard!=="true"),Z($.current,{[Y.Forwards]:U.Next,[Y.Backwards]:U.Previous}),{relativeTo:l.button})}g()});return w.createElement(w.Fragment,null,q({ourProps:j,theirProps:c,slot:W,defaultTag:rr,name:"Popover.Button"}),L&&!h&&f&&w.createElement(ce,{id:p,ref:l.afterButtonSentinel,features:le.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:y}))}let lr="div",ur=me.RenderStrategy|me.Static;function gt(e,t){let n=i.useId(),{id:r=`headlessui-popover-backdrop-${n}`,transition:o=!1,...u}=e,[{popoverState:c},l]=Ee("Popover.Backdrop"),a=i.useRef(null),f=X(t,a),s=qe(),[p,v]=Je(o,a,s!==null?(s&oe.Open)===oe.Open:c===0),d=T(b=>{if(lt(b.currentTarget))return b.preventDefault();l({type:1})}),h=i.useMemo(()=>({open:c===0}),[c]),E={ref:f,id:r,"aria-hidden":!0,onClick:d,...ze(v)};return q({ourProps:E,theirProps:u,slot:h,defaultTag:lr,features:ur,visible:p,name:"Popover.Backdrop"})}let ar="div",ir=me.RenderStrategy|me.Static;function sr(e,t){let n=i.useId(),{id:r=`headlessui-popover-panel-${n}`,focus:o=!1,anchor:u,portal:c=!1,modal:l=!1,transition:a=!1,...f}=e,[s,p]=Ee("Popover.Panel"),{close:v,isPortalled:d}=Be("Popover.Panel"),h=`headlessui-focus-sentinel-before-${n}`,E=`headlessui-focus-sentinel-after-${n}`,b=i.useRef(null),P=Cn(u),[S,M]=Rn(P),I=Hn();P&&(c=!0);let _=X(b,t,P?S:null,y=>{p({type:4,panel:y})}),H=ue(b),R=yt();A(()=>(p({type:5,panelId:r}),()=>{p({type:5,panelId:null})}),[r,p]);let B=qe(),[k,J]=Je(a,b,B!==null?(B&oe.Open)===oe.Open:s.popoverState===0);wt(k,s.button,()=>{p({type:1})});let O=s.__demoMode?!1:l&&k;Ln(O,H);let D=T(y=>{var m;switch(y.key){case z.Escape:if(s.popoverState!==0||!b.current||H!=null&&H.activeElement&&!b.current.contains(H.activeElement))return;y.preventDefault(),y.stopPropagation(),p({type:1}),(m=s.button)==null||m.focus();break}});i.useEffect(()=>{var y;e.static||s.popoverState===1&&((y=e.unmount)==null||y)&&p({type:4,panel:null})},[s.popoverState,e.unmount,e.static,p]),i.useEffect(()=>{if(s.__demoMode||!o||s.popoverState!==0||!b.current)return;let y=H==null?void 0:H.activeElement;b.current.contains(y)||Q(b.current,U.First)},[s.__demoMode,o,b,s.popoverState]);let L=i.useMemo(()=>({open:s.popoverState===0,close:v}),[s.popoverState,v]),W=Se(P?I():{},{ref:_,id:r,onKeyDown:D,onBlur:o&&s.popoverState===0?y=>{var m,g,F,x,C;let G=y.relatedTarget;G&&b.current&&((m=b.current)!=null&&m.contains(G)||(p({type:1}),((F=(g=s.beforePanelSentinel.current)==null?void 0:g.contains)!=null&&F.call(g,G)||(C=(x=s.afterPanelSentinel.current)==null?void 0:x.contains)!=null&&C.call(x,G))&&G.focus({preventScroll:!0})))}:void 0,tabIndex:-1,style:{...f.style,...M,"--button-width":an(s.button,!0).width},...ze(J)}),V=mt(),j=T(()=>{let y=b.current;if(!y)return;function m(){Z(V.current,{[Y.Forwards]:()=>{var g;Q(y,U.First)===he.Error&&((g=s.afterPanelSentinel.current)==null||g.focus())},[Y.Backwards]:()=>{var g;(g=s.button)==null||g.focus({preventScroll:!0})}})}m()}),$=T(()=>{let y=b.current;if(!y)return;function m(){Z(V.current,{[Y.Forwards]:()=>{var g;if(!s.button)return;let F=ve(),x=F.indexOf(s.button),C=F.slice(0,x+1),G=[...F.slice(x+1),...C];for(let we of G.slice())if(we.dataset.headlessuiFocusGuard==="true"||(g=s.panel)!=null&&g.contains(we)){let _e=G.indexOf(we);_e!==-1&&G.splice(_e,1)}Q(G,U.First,{sorted:!1})},[Y.Backwards]:()=>{var g;Q(y,U.Previous)===he.Error&&((g=s.button)==null||g.focus())}})}m()});return w.createElement(Pt,null,w.createElement(ye.Provider,{value:r},w.createElement($e.Provider,{value:{close:v,isPortalled:d}},w.createElement(Yn,{enabled:c?e.static||k:!1},k&&d&&w.createElement(ce,{id:h,ref:s.beforePanelSentinel,features:le.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:j}),q({mergeRefs:R,ourProps:W,theirProps:f,slot:L,defaultTag:ar,features:ir,visible:k,name:"Popover.Panel"}),k&&d&&w.createElement(ce,{id:E,ref:s.afterPanelSentinel,features:le.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:$})))))}let cr="div";function dr(e,t){let n=i.useRef(null),r=X(n,t),[o,u]=i.useState([]),c=qn(),l=T(E=>{u(b=>{let P=b.indexOf(E);if(P!==-1){let S=b.slice();return S.splice(P,1),S}return b})}),a=T(E=>(u(b=>[...b,E]),()=>l(E))),f=T(()=>{var E;let b=pe(n);if(!b)return!1;let P=b.activeElement;return(E=n.current)!=null&&E.contains(P)?!0:o.some(S=>{var M,I;return((M=b.getElementById(S.buttonId.current))==null?void 0:M.contains(P))||((I=b.getElementById(S.panelId.current))==null?void 0:I.contains(P))})}),s=T(E=>{for(let b of o)b.buttonId.current!==E&&b.close()}),p=i.useMemo(()=>({registerPopover:a,unregisterPopover:l,isFocusWithinPopoverGroup:f,closeOthers:s,mainTreeNodeRef:c.mainTreeNodeRef}),[a,l,f,s,c.mainTreeNodeRef]),v=i.useMemo(()=>({}),[]),d=e,h={ref:r};return w.createElement(We.Provider,{value:p},q({ourProps:h,theirProps:d,slot:v,defaultTag:cr,name:"Popover.Group"}),w.createElement(c.MainTreeNode,null))}let fr=K(nr),pr=K(or),vr=K(gt),mr=K(gt),br=K(sr),gr=K(dr),xr=Object.assign(fr,{Button:pr,Backdrop:mr,Overlay:vr,Panel:br,Group:gr});export{zt as $,an as A,De as B,Oe as C,Tr as D,wn as E,U as F,Pr as G,mn as I,Un as J,Q as P,Rn as R,ce as T,hn as _,ue as a,mt as b,Y as c,Nn as d,he as e,Kn as f,yn as g,Ln as h,ln as i,Xn as j,Jt as k,Fr as l,Pn as m,xr as n,z as o,Sr as p,Cn as q,lt as r,le as s,Yn as t,pe as u,kn as v,en as w,it as x,In as y,Hn as z};
