import{j as e}from"./jsx-runtime-daf202a7.js";import{r as t}from"./index-ec8b93d8.js";import{j as w}from"./optionClasses-767b8be6.js";import{L as v}from"./Link-28c35a47.js";import{t as p}from"./transition-4429edf0.js";import{S as f}from"./dialog-12422483.js";import{W as c}from"./combobox-b5286f3e.js";function j({title:r,titleId:o,...l},n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":o},l),r?t.createElement("title",{id:o},r):null,t.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 100 13.5 6.75 6.75 0 000-13.5zM2.25 10.5a8.25 8.25 0 1114.59 5.28l4.69 4.69a.75.75 0 11-1.06 1.06l-4.69-4.69A8.25 8.25 0 012.25 10.5z",clipRule:"evenodd"}))}const b=t.forwardRef(j),h=b;function N({title:r,titleId:o,...l},n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":o},l),r?t.createElement("title",{id:o},r):null,t.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z",clipRule:"evenodd"}))}const k=t.forwardRef(N),C=k;function S(...r){return r.filter(Boolean).join(" ")}const x=({searchOn:r="title",sourceData:o,children:l})=>{const[n,d]=t.useState(""),[u,i]=t.useState(!1),m=n===""?[]:o.filter(a=>a[r].toString().toLowerCase().includes(n.toLowerCase())),g=l||e.jsx(h,{className:"left-4 h-5 w-5 cursor-pointer text-gray-400","aria-hidden":"true"}),y=a=>{if(a){const s=String(a.url);window.location.href=s,i(!1)}};return t.useEffect(()=>{function a(s){s.key==="k"&&(s.metaKey||s.ctrlKey)&&i(!u)}return window.addEventListener("keydown",a),()=>{window.removeEventListener("keydown",a)}},[u]),e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>i(!0),"aria-label":"search",className:"not-prose",children:g}),e.jsx(p.Root,{show:u,as:t.Fragment,afterLeave:()=>d(""),appear:!0,children:e.jsxs(f,{as:"div",className:"not-prose relative z-50",onClose:i,children:[e.jsx(p.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:`fixed inset-0 transition-opacity ${w} `})}),e.jsx("div",{className:"z-100 fixed inset-0 overflow-y-auto p-4 sm:p-6 md:p-20",children:e.jsx(p.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsx(f.Panel,{className:"mx-auto mt-[20vh] max-w-xl transform divide-y divide-gray-100 overflow-hidden rounded-xl bg-white shadow-2xl ring-1 ring-black ring-opacity-5 transition-all",children:e.jsxs(c,{onChange:y,children:[e.jsxs("div",{className:"relative",children:[e.jsx(h,{className:"pointer-events-none absolute left-4 top-3.5 h-5 w-5 text-gray-400","aria-hidden":"true"}),e.jsx(c.Input,{className:"h-12 w-full rounded-lg border border-cu-black-100 bg-transparent pl-11 pr-4 text-sm text-cu-black-800 placeholder-cu-black-300 focus:border-cu-black-300 focus:ring-0",placeholder:"Search...",onChange:a=>d(a.target.value)}),n&&e.jsx(C,{className:"absolute right-4 top-3.5 h-4 w-4 text-gray-400","aria-hidden":"true",onClick:()=>{d("")}})]}),m.length>0&&e.jsx(c.Options,{static:!0,className:"max-h-72 scroll-py-2 overflow-y-auto py-2 text-sm text-gray-800",children:m.map(a=>e.jsx(c.Option,{value:a,className:({active:s})=>S("cursor-default select-none px-4 py-2",s&&"bg-cu-red text-white"),children:e.jsx(v,{href:`${a.url}`,onClick:()=>i(!1),children:a[r]})},a.id))}),n!==""&&m.length===0&&e.jsx("p",{className:"p-4 text-sm text-gray-500",children:"Search not found"})]})})})})]})})]})};try{x.displayName="Search",x.__docgenInfo={description:"",displayName:"Search",props:{sourceData:{defaultValue:null,description:"",name:"sourceData",required:!0,type:{name:"SourceDataProps[]"}},searchOn:{defaultValue:{value:"title"},description:"",name:"searchOn",required:!1,type:{name:"string"}}}}}catch{}export{x as S};
//# sourceMappingURL=Search-bfbb6e00.js.map
