{"version":3,"file":"LocationPicker.stories-c55ff38f.js","sources":["../../src/components/LocationPicker/LocationPicker.tsx"],"sourcesContent":["import { Combobox } from '@headlessui/react'\nimport { MagnifyingGlassIcon, XMarkIcon } from '@heroicons/react/24/outline'\nimport { useState } from 'react'\nimport PlacesAutocomplete, { geocodeByAddress, getLatLng } from 'react-places-autocomplete'\nimport { Location } from '../Location/Location'\n\nexport const LocationPicker = () => {\n  const [address, setAddress] = useState('')\n  const [coordinates, setCoordinates] = useState({\n    lat: 0,\n    lng: 0,\n  })\n\n  const handleSelect = async (value: string) => {\n    const results = await geocodeByAddress(value)\n    const latLng = await getLatLng(results[0])\n    setAddress(value)\n    setCoordinates(latLng)\n  }\n\n  return (\n    <div className=\"not-prose\">\n      <PlacesAutocomplete value={address} onChange={setAddress} onSelect={handleSelect}>\n        {({ getInputProps, suggestions, getSuggestionItemProps }) => (\n          <Combobox value={address} onChange={handleSelect}>\n            <div className=\"relative\">\n              <MagnifyingGlassIcon\n                className=\"pointer-events-none absolute top-3.5 left-3.5 h-5 w-5 text-cu-black-400\"\n                aria-hidden=\"true\"\n              />\n              <Combobox.Input\n                className=\"h-12 w-full rounded-lg border border-cu-black-200 bg-white pl-10 pr-4 text-cu-black-800 placeholder-cu-black-400 focus:border-cu-black-400 focus:outline-none focus:ring-0 sm:text-sm\"\n                {...getInputProps({ placeholder: 'Type address' })}\n              />\n              {address && (\n                <XMarkIcon\n                  className=\"absolute top-3.5 right-3.5 h-5 w-5 text-cu-black-400\"\n                  aria-hidden=\"true\"\n                  onClick={() => {\n                    setAddress('')\n                    setCoordinates({ lat: 0, lng: 0 })\n                  }}\n                />\n              )}\n            </div>\n            <Combobox.Options className=\"mt-3 max-h-80 divide-y divide-cu-black-100 overflow-y-auto bg-white px-1.5 text-sm text-cu-black-800\">\n              {suggestions.map((suggestion) => {\n                return (\n                  <Combobox.Option key={suggestion.index} value={suggestion}>\n                    {({ active }) => (\n                      <li\n                        {...getSuggestionItemProps(suggestion)}\n                        className={`p-4 text-cu-black-600 hover:cursor-pointer ${\n                          active ? 'bg-cu-black-50 text-cu-black-900' : 'bg-white'\n                        }`}\n                      >\n                        {suggestion.description}\n                      </li>\n                    )}\n                  </Combobox.Option>\n                )\n              })}\n            </Combobox.Options>\n          </Combobox>\n        )}\n      </PlacesAutocomplete>\n      <div className=\"py-5\">\n        <Location lat={coordinates?.lat.toString()} lng={coordinates?.lng.toString()} location={address} />\n      </div>\n    </div>\n  )\n}\n"],"names":["LocationPicker","address","setAddress","useState","coordinates","setCoordinates","handleSelect","value","results","geocodeByAddress","latLng","getLatLng","jsxs","jsx","PlacesAutocomplete","getInputProps","suggestions","getSuggestionItemProps","Combobox","MagnifyingGlassIcon","XMarkIcon","suggestion","active","Location"],"mappings":"4nBAMO,MAAMA,EAAiB,IAAM,CAClC,KAAM,CAACC,EAASC,CAAU,EAAIC,WAAS,EAAE,EACnC,CAACC,EAAaC,CAAc,EAAIF,WAAS,CAC7C,IAAK,EACL,IAAK,CAAA,CACN,EAEKG,EAAe,MAAOC,GAAkB,CACtC,MAAAC,EAAU,MAAMC,EAAiBF,CAAK,EACtCG,EAAS,MAAMC,EAAUH,EAAQ,CAAC,CAAC,EACzCN,EAAWK,CAAK,EAChBF,EAAeK,CAAM,CAAA,EAIrB,OAAAE,EAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAAAC,EAACC,GAAmB,MAAOb,EAAS,SAAUC,EAAY,SAAUI,EACjE,SAAC,CAAA,CAAE,cAAAS,EAAe,YAAAC,EAAa,uBAAAC,KAC9BL,EAACM,GAAS,MAAOjB,EAAS,SAAUK,EAClC,SAAA,CAACM,EAAA,MAAA,CAAI,UAAU,WACb,SAAA,CAAAC,EAACM,EAAA,CACC,UAAU,0EACV,cAAY,MAAA,CACd,EACAN,EAACK,EAAS,MAAT,CACC,UAAU,wLACT,GAAGH,EAAc,CAAE,YAAa,eAAgB,CAAA,CACnD,EACCd,GACCY,EAACO,EAAA,CACC,UAAU,uDACV,cAAY,OACZ,QAAS,IAAM,CACblB,EAAW,EAAE,EACbG,EAAe,CAAE,IAAK,EAAG,IAAK,CAAG,CAAA,CACnC,CAAA,CACF,CAAA,EAEJ,EACAQ,EAACK,EAAS,QAAT,CAAiB,UAAU,uGACzB,SAAAF,EAAY,IAAKK,GAEdR,EAACK,EAAS,OAAT,CAAuC,MAAOG,EAC5C,SAAA,CAAC,CAAE,OAAAC,CAAA,IACFT,EAAC,KAAA,CACE,GAAGI,EAAuBI,CAAU,EACrC,UAAW,8CACTC,EAAS,mCAAqC,aAG/C,SAAWD,EAAA,WAAA,CAAA,GARIA,EAAW,KAWjC,CAEH,EACH,CAAA,CAAA,CACF,CAEJ,CAAA,IACC,MAAI,CAAA,UAAU,OACb,SAACR,EAAAU,EAAA,CAAS,IAAKnB,GAAA,YAAAA,EAAa,IAAI,WAAY,IAAKA,GAAA,YAAAA,EAAa,IAAI,WAAY,SAAUH,CAAS,CAAA,EACnG,CACF,CAAA,CAAA,CAEJ;;;;"}