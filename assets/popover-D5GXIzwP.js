import{R as g,r as u}from"./index-uCp2LrAq.js";import{r as Ne}from"./index-BOkhicXD.js";import{l as he,s as J,a as j,u as H,o as Ce,b as Q,U as G,C as K,c as y,t as Le,y as U,T as ye,O as le,d as Oe,e as q,f as Se,I as Ae}from"./transition-DRn1e8LJ.js";var Pe;let W=(Pe=g.useId)!=null?Pe:function(){let e=he(),[t,r]=g.useState(e?()=>J.nextId():null);return j(()=>{t===null&&r(J.nextId())},[t]),t!=null?""+t:void 0};function ae(e){return J.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let ce=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var D=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(D||{}),ue=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(ue||{}),De=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(De||{});function ee(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(ce)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var fe=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(fe||{});function pe(e,t=0){var r;return e===((r=ae(e))==null?void 0:r.body)?!1:H(t,{0(){return e.matches(ce)},1(){let o=e;for(;o!==null;){if(o.matches(ce))return!0;o=o.parentElement}return!1}})}function Ot(e){let t=ae(e);Ce().nextFrame(()=>{t&&!pe(t.activeElement,0)&&ke(e)})}var Re=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Re||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function ke(e){e==null||e.focus({preventScroll:!0})}let Be=["textarea","input"].join(",");function _e(e){var t,r;return(r=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,Be))!=null?r:!1}function He(e,t=r=>r){return e.slice().sort((r,o)=>{let a=t(r),l=t(o);if(a===null||l===null)return 0;let n=a.compareDocumentPosition(l);return n&Node.DOCUMENT_POSITION_FOLLOWING?-1:n&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function At(e,t){return _(ee(),t,{relativeTo:e})}function _(e,t,{sorted:r=!0,relativeTo:o=null,skipElements:a=[]}={}){let l=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,n=Array.isArray(e)?r?He(e):e:ee(e);a.length>0&&n.length>1&&(n=n.filter(w=>!a.includes(w))),o=o??l.activeElement;let i=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,n.indexOf(o))-1;if(t&4)return Math.max(0,n.indexOf(o))+1;if(t&8)return n.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),E=t&32?{preventScroll:!0}:{},s=0,c=n.length,d;do{if(s>=c||s+c<=0)return 0;let w=f+s;if(t&16)w=(w+c)%c;else{if(w<0)return 3;if(w>=c)return 1}d=n[w],d==null||d.focus(E),s+=i}while(d!==l.activeElement);return t&6&&_e(d)&&d.select(),2}function Ue(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Ge(){return/Android/gi.test(window.navigator.userAgent)}function Ke(){return Ue()||Ge()}function oe(e,t,r){let o=Q(t);u.useEffect(()=>{function a(l){o.current(l)}return document.addEventListener(e,a,r),()=>document.removeEventListener(e,a,r)},[e,r])}function we(e,t,r){let o=Q(t);u.useEffect(()=>{function a(l){o.current(l)}return window.addEventListener(e,a,r),()=>window.removeEventListener(e,a,r)},[e,r])}function We(e,t,r=!0){let o=u.useRef(!1);u.useEffect(()=>{requestAnimationFrame(()=>{o.current=r})},[r]);function a(n,i){if(!o.current||n.defaultPrevented)return;let f=i(n);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let E=function s(c){return typeof c=="function"?s(c()):Array.isArray(c)||c instanceof Set?c:[c]}(e);for(let s of E){if(s===null)continue;let c=s instanceof HTMLElement?s:s.current;if(c!=null&&c.contains(f)||n.composed&&n.composedPath().includes(c))return}return!pe(f,fe.Loose)&&f.tabIndex!==-1&&n.preventDefault(),t(n,f)}let l=u.useRef(null);oe("pointerdown",n=>{var i,f;o.current&&(l.current=((f=(i=n.composedPath)==null?void 0:i.call(n))==null?void 0:f[0])||n.target)},!0),oe("mousedown",n=>{var i,f;o.current&&(l.current=((f=(i=n.composedPath)==null?void 0:i.call(n))==null?void 0:f[0])||n.target)},!0),oe("click",n=>{Ke()||l.current&&(a(n,()=>l.current),l.current=null)},!0),oe("touchend",n=>a(n,()=>n.target instanceof HTMLElement?n.target:null),!0),we("blur",n=>a(n,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function z(...e){return u.useMemo(()=>ae(...e),[...e])}function ge(e){var t;if(e.type)return e.type;let r=(t=e.as)!=null?t:"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function je(e,t){let[r,o]=u.useState(()=>ge(e));return j(()=>{o(ge(e))},[e.type,e.as]),j(()=>{r||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&o("button")},[r,t]),r}let qe="div";var V=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(V||{});function Ve(e,t){var r;let{features:o=1,...a}=e,l={ref:t,"aria-hidden":(o&2)===2?!0:(r=a["aria-hidden"])!=null?r:void 0,hidden:(o&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(o&4)===4&&(o&2)!==2&&{display:"none"}}};return K({ourProps:l,theirProps:a,slot:{},defaultTag:qe,name:"Hidden"})}let Z=G(Ve);function Te(e){let t=e.parentElement,r=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(r=t),t=t.parentElement;let o=(t==null?void 0:t.getAttribute("disabled"))==="";return o&&ze(r)?!1:o}function ze(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}var B=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(B||{});function Xe(e,t,r,o){let a=Q(r);u.useEffect(()=>{e=e??window;function l(n){a.current(n)}return e.addEventListener(t,l,o),()=>e.removeEventListener(t,l,o)},[e,t,o])}function Ye(e){let t=y(e),r=u.useRef(!1);u.useEffect(()=>(r.current=!1,()=>{r.current=!0,Le(()=>{r.current&&t()})}),[t])}var R=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(R||{});function Ie(){let e=u.useRef(0);return we("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}let xe=u.createContext(!1);function Je(){return u.useContext(xe)}function Dt(e){return g.createElement(xe.Provider,{value:e.force},e.children)}function Qe(e){let t=Je(),r=u.useContext($e),o=z(e),[a,l]=u.useState(()=>{if(!t&&r!==null||J.isServer)return null;let n=o==null?void 0:o.getElementById("headlessui-portal-root");if(n)return n;if(o===null)return null;let i=o.createElement("div");return i.setAttribute("id","headlessui-portal-root"),o.body.appendChild(i)});return u.useEffect(()=>{a!==null&&(o!=null&&o.body.contains(a)||o==null||o.body.appendChild(a))},[a,o]),u.useEffect(()=>{t||r!==null&&l(r.current)},[r,l,t]),a}let Ze=u.Fragment;function et(e,t){let r=e,o=u.useRef(null),a=U(ye(s=>{o.current=s}),t),l=z(o),n=Qe(o),[i]=u.useState(()=>{var s;return J.isServer?null:(s=l==null?void 0:l.createElement("div"))!=null?s:null}),f=u.useContext(de),E=he();return j(()=>{!n||!i||n.contains(i)||(i.setAttribute("data-headlessui-portal",""),n.appendChild(i))},[n,i]),j(()=>{if(i&&f)return f.register(i)},[f,i]),Ye(()=>{var s;!n||!i||(i instanceof Node&&n.contains(i)&&n.removeChild(i),n.childNodes.length<=0&&((s=n.parentElement)==null||s.removeChild(n)))}),E?!n||!i?null:Ne.createPortal(K({ourProps:{ref:a},theirProps:r,defaultTag:Ze,name:"Portal"}),i):null}let tt=u.Fragment,$e=u.createContext(null);function nt(e,t){let{target:r,...o}=e,a={ref:U(t)};return g.createElement($e.Provider,{value:r},K({ourProps:a,theirProps:o,defaultTag:tt,name:"Popover.Group"}))}let de=u.createContext(null);function rt(){let e=u.useContext(de),t=u.useRef([]),r=y(l=>(t.current.push(l),e&&e.register(l),()=>o(l))),o=y(l=>{let n=t.current.indexOf(l);n!==-1&&t.current.splice(n,1),e&&e.unregister(l)}),a=u.useMemo(()=>({register:r,unregister:o,portals:t}),[r,o,t]);return[t,u.useMemo(()=>function({children:l}){return g.createElement(de.Provider,{value:a},l)},[a])]}let ot=G(et),lt=G(nt),Rt=Object.assign(ot,{Group:lt});function ut({defaultContainers:e=[],portals:t,mainTreeNodeRef:r}={}){var o;let a=u.useRef((o=r==null?void 0:r.current)!=null?o:null),l=z(a),n=y(()=>{var i,f,E;let s=[];for(let c of e)c!==null&&(c instanceof HTMLElement?s.push(c):"current"in c&&c.current instanceof HTMLElement&&s.push(c.current));if(t!=null&&t.current)for(let c of t.current)s.push(c);for(let c of(i=l==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?i:[])c!==document.body&&c!==document.head&&c instanceof HTMLElement&&c.id!=="headlessui-portal-root"&&(c.contains(a.current)||c.contains((E=(f=a.current)==null?void 0:f.getRootNode())==null?void 0:E.host)||s.some(d=>c.contains(d))||s.push(c));return s});return{resolveContainers:n,contains:y(i=>n().some(f=>f.contains(i))),mainTreeNodeRef:a,MainTreeNode:u.useMemo(()=>function(){return r!=null?null:g.createElement(Z,{features:V.Hidden,ref:a})},[a,r])}}function at(){let e=u.useRef(null);return{mainTreeNodeRef:e,MainTreeNode:u.useMemo(()=>function(){return g.createElement(Z,{features:V.Hidden,ref:e})},[e])}}var it=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(it||{}),st=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(st||{});let ct={0:e=>{let t={...e,popoverState:H(e.popoverState,{0:1,1:0})};return t.popoverState===0&&(t.__demoMode=!1),t},1(e){return e.popoverState===1?e:{...e,popoverState:1}},2(e,t){return e.button===t.button?e:{...e,button:t.button}},3(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},4(e,t){return e.panel===t.panel?e:{...e,panel:t.panel}},5(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},ve=u.createContext(null);ve.displayName="PopoverContext";function ie(e){let t=u.useContext(ve);if(t===null){let r=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ie),r}return t}let me=u.createContext(null);me.displayName="PopoverAPIContext";function Ee(e){let t=u.useContext(me);if(t===null){let r=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Ee),r}return t}let be=u.createContext(null);be.displayName="PopoverGroupContext";function Me(){return u.useContext(be)}let se=u.createContext(null);se.displayName="PopoverPanelContext";function dt(){return u.useContext(se)}function ft(e,t){return H(t.type,ct,e,t)}let pt="div";function vt(e,t){var r;let{__demoMode:o=!1,...a}=e,l=u.useRef(null),n=U(t,ye(v=>{l.current=v})),i=u.useRef([]),f=u.useReducer(ft,{__demoMode:o,popoverState:o?0:1,buttons:i,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:u.createRef(),afterPanelSentinel:u.createRef()}),[{popoverState:E,button:s,buttonId:c,panel:d,panelId:w,beforePanelSentinel:F,afterPanelSentinel:T},m]=f,h=z((r=l.current)!=null?r:s),M=u.useMemo(()=>{if(!s||!d)return!1;for(let re of document.querySelectorAll("body > *"))if(Number(re==null?void 0:re.contains(s))^Number(re==null?void 0:re.contains(d)))return!0;let v=ee(),N=v.indexOf(s),te=(N+v.length-1)%v.length,Y=(N+1)%v.length,ne=v[te],Fe=v[Y];return!d.contains(ne)&&!d.contains(Fe)},[s,d]),C=Q(c),O=Q(w),A=u.useMemo(()=>({buttonId:C,panelId:O,close:()=>m({type:1})}),[C,O,m]),L=Me(),k=L==null?void 0:L.registerPopover,b=y(()=>{var v;return(v=L==null?void 0:L.isFocusWithinPopoverGroup())!=null?v:(h==null?void 0:h.activeElement)&&((s==null?void 0:s.contains(h.activeElement))||(d==null?void 0:d.contains(h.activeElement)))});u.useEffect(()=>k==null?void 0:k(A),[k,A]);let[x,S]=rt(),p=ut({mainTreeNodeRef:L==null?void 0:L.mainTreeNodeRef,portals:x,defaultContainers:[s,d]});Xe(h==null?void 0:h.defaultView,"focus",v=>{var N,te,Y,ne;v.target!==window&&v.target instanceof HTMLElement&&E===0&&(b()||s&&d&&(p.contains(v.target)||(te=(N=F.current)==null?void 0:N.contains)!=null&&te.call(N,v.target)||(ne=(Y=T.current)==null?void 0:Y.contains)!=null&&ne.call(Y,v.target)||m({type:1})))},!0),We(p.resolveContainers,(v,N)=>{m({type:1}),pe(N,fe.Loose)||(v.preventDefault(),s==null||s.focus())},E===0);let P=y(v=>{m({type:1});let N=v?v instanceof HTMLElement?v:"current"in v&&v.current instanceof HTMLElement?v.current:s:s;N==null||N.focus()}),$=u.useMemo(()=>({close:P,isPortalled:M}),[P,M]),I=u.useMemo(()=>({open:E===0,close:P}),[E,P]),X={ref:n};return g.createElement(se.Provider,{value:null},g.createElement(ve.Provider,{value:f},g.createElement(me.Provider,{value:$},g.createElement(Oe,{value:H(E,{0:q.Open,1:q.Closed})},g.createElement(S,null,K({ourProps:X,theirProps:a,slot:I,defaultTag:pt,name:"Popover"}),g.createElement(p.MainTreeNode,null))))))}let mt="button";function Et(e,t){let r=W(),{id:o=`headlessui-popover-button-${r}`,...a}=e,[l,n]=ie("Popover.Button"),{isPortalled:i}=Ee("Popover.Button"),f=u.useRef(null),E=`headlessui-focus-sentinel-${W()}`,s=Me(),c=s==null?void 0:s.closeOthers,d=dt()!==null;u.useEffect(()=>{if(!d)return n({type:3,buttonId:o}),()=>{n({type:3,buttonId:null})}},[d,o,n]);let[w]=u.useState(()=>Symbol()),F=U(f,t,d?null:p=>{if(p)l.buttons.current.push(w);else{let P=l.buttons.current.indexOf(w);P!==-1&&l.buttons.current.splice(P,1)}l.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),p&&n({type:2,button:p})}),T=U(f,t),m=z(f),h=y(p=>{var P,$,I;if(d){if(l.popoverState===1)return;switch(p.key){case B.Space:case B.Enter:p.preventDefault(),($=(P=p.target).click)==null||$.call(P),n({type:1}),(I=l.button)==null||I.focus();break}}else switch(p.key){case B.Space:case B.Enter:p.preventDefault(),p.stopPropagation(),l.popoverState===1&&(c==null||c(l.buttonId)),n({type:0});break;case B.Escape:if(l.popoverState!==0)return c==null?void 0:c(l.buttonId);if(!f.current||m!=null&&m.activeElement&&!f.current.contains(m.activeElement))return;p.preventDefault(),p.stopPropagation(),n({type:1});break}}),M=y(p=>{d||p.key===B.Space&&p.preventDefault()}),C=y(p=>{var P,$;Te(p.currentTarget)||e.disabled||(d?(n({type:1}),(P=l.button)==null||P.focus()):(p.preventDefault(),p.stopPropagation(),l.popoverState===1&&(c==null||c(l.buttonId)),n({type:0}),($=l.button)==null||$.focus()))}),O=y(p=>{p.preventDefault(),p.stopPropagation()}),A=l.popoverState===0,L=u.useMemo(()=>({open:A}),[A]),k=je(e,f),b=d?{ref:T,type:k,onKeyDown:h,onClick:C}:{ref:F,id:l.buttonId,type:k,"aria-expanded":l.popoverState===0,"aria-controls":l.panel?l.panelId:void 0,onKeyDown:h,onKeyUp:M,onClick:C,onMouseDown:O},x=Ie(),S=y(()=>{let p=l.panel;if(!p)return;function P(){H(x.current,{[R.Forwards]:()=>_(p,D.First),[R.Backwards]:()=>_(p,D.Last)})===ue.Error&&_(ee().filter($=>$.dataset.headlessuiFocusGuard!=="true"),H(x.current,{[R.Forwards]:D.Next,[R.Backwards]:D.Previous}),{relativeTo:l.button})}P()});return g.createElement(g.Fragment,null,K({ourProps:b,theirProps:a,slot:L,defaultTag:mt,name:"Popover.Button"}),A&&!d&&i&&g.createElement(Z,{id:E,features:V.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:S}))}let bt="div",Pt=le.RenderStrategy|le.Static;function gt(e,t){let r=W(),{id:o=`headlessui-popover-overlay-${r}`,...a}=e,[{popoverState:l},n]=ie("Popover.Overlay"),i=U(t),f=Se(),E=f!==null?(f&q.Open)===q.Open:l===0,s=y(d=>{if(Te(d.currentTarget))return d.preventDefault();n({type:1})}),c=u.useMemo(()=>({open:l===0}),[l]);return K({ourProps:{ref:i,id:o,"aria-hidden":!0,onClick:s},theirProps:a,slot:c,defaultTag:bt,features:Pt,visible:E,name:"Popover.Overlay"})}let ht="div",yt=le.RenderStrategy|le.Static;function St(e,t){let r=W(),{id:o=`headlessui-popover-panel-${r}`,focus:a=!1,...l}=e,[n,i]=ie("Popover.Panel"),{close:f,isPortalled:E}=Ee("Popover.Panel"),s=`headlessui-focus-sentinel-before-${W()}`,c=`headlessui-focus-sentinel-after-${W()}`,d=u.useRef(null),w=U(d,t,b=>{i({type:4,panel:b})}),F=z(d),T=Ae();j(()=>(i({type:5,panelId:o}),()=>{i({type:5,panelId:null})}),[o,i]);let m=Se(),h=m!==null?(m&q.Open)===q.Open:n.popoverState===0,M=y(b=>{var x;switch(b.key){case B.Escape:if(n.popoverState!==0||!d.current||F!=null&&F.activeElement&&!d.current.contains(F.activeElement))return;b.preventDefault(),b.stopPropagation(),i({type:1}),(x=n.button)==null||x.focus();break}});u.useEffect(()=>{var b;e.static||n.popoverState===1&&((b=e.unmount)==null||b)&&i({type:4,panel:null})},[n.popoverState,e.unmount,e.static,i]),u.useEffect(()=>{if(n.__demoMode||!a||n.popoverState!==0||!d.current)return;let b=F==null?void 0:F.activeElement;d.current.contains(b)||_(d.current,D.First)},[n.__demoMode,a,d,n.popoverState]);let C=u.useMemo(()=>({open:n.popoverState===0,close:f}),[n,f]),O={ref:w,id:o,onKeyDown:M,onBlur:a&&n.popoverState===0?b=>{var x,S,p,P,$;let I=b.relatedTarget;I&&d.current&&((x=d.current)!=null&&x.contains(I)||(i({type:1}),((p=(S=n.beforePanelSentinel.current)==null?void 0:S.contains)!=null&&p.call(S,I)||($=(P=n.afterPanelSentinel.current)==null?void 0:P.contains)!=null&&$.call(P,I))&&I.focus({preventScroll:!0})))}:void 0,tabIndex:-1},A=Ie(),L=y(()=>{let b=d.current;if(!b)return;function x(){H(A.current,{[R.Forwards]:()=>{var S;_(b,D.First)===ue.Error&&((S=n.afterPanelSentinel.current)==null||S.focus())},[R.Backwards]:()=>{var S;(S=n.button)==null||S.focus({preventScroll:!0})}})}x()}),k=y(()=>{let b=d.current;if(!b)return;function x(){H(A.current,{[R.Forwards]:()=>{var S;if(!n.button)return;let p=ee(),P=p.indexOf(n.button),$=p.slice(0,P+1),I=[...p.slice(P+1),...$];for(let X of I.slice())if(X.dataset.headlessuiFocusGuard==="true"||(S=n.panel)!=null&&S.contains(X)){let v=I.indexOf(X);v!==-1&&I.splice(v,1)}_(I,D.First,{sorted:!1})},[R.Backwards]:()=>{var S;_(b,D.Previous)===ue.Error&&((S=n.button)==null||S.focus())}})}x()});return g.createElement(se.Provider,{value:o},h&&E&&g.createElement(Z,{id:s,ref:n.beforePanelSentinel,features:V.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:L}),K({mergeRefs:T,ourProps:O,theirProps:l,slot:C,defaultTag:ht,features:yt,visible:h,name:"Popover.Panel"}),h&&E&&g.createElement(Z,{id:c,ref:n.afterPanelSentinel,features:V.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:k}))}let wt="div";function Tt(e,t){let r=u.useRef(null),o=U(r,t),[a,l]=u.useState([]),n=at(),i=y(T=>{l(m=>{let h=m.indexOf(T);if(h!==-1){let M=m.slice();return M.splice(h,1),M}return m})}),f=y(T=>(l(m=>[...m,T]),()=>i(T))),E=y(()=>{var T;let m=ae(r);if(!m)return!1;let h=m.activeElement;return(T=r.current)!=null&&T.contains(h)?!0:a.some(M=>{var C,O;return((C=m.getElementById(M.buttonId.current))==null?void 0:C.contains(h))||((O=m.getElementById(M.panelId.current))==null?void 0:O.contains(h))})}),s=y(T=>{for(let m of a)m.buttonId.current!==T&&m.close()}),c=u.useMemo(()=>({registerPopover:f,unregisterPopover:i,isFocusWithinPopoverGroup:E,closeOthers:s,mainTreeNodeRef:n.mainTreeNodeRef}),[f,i,E,s,n.mainTreeNodeRef]),d=u.useMemo(()=>({}),[]),w=e,F={ref:o};return g.createElement(be.Provider,{value:c},K({ourProps:F,theirProps:w,slot:d,defaultTag:wt,name:"Popover.Group"}),g.createElement(n.MainTreeNode,null))}let It=G(vt),xt=G(Et),$t=G(gt),Mt=G(St),Ft=G(Tt),kt=Object.assign(It,{Button:xt,Overlay:$t,Panel:Mt,Group:Ft});export{kt as C,Ot as D,Xe as E,W as I,D as M,ue as N,_ as O,je as T,At as _,Ie as a,V as b,Ye as c,ut as d,rt as e,We as f,Rt as g,B as h,pe as i,fe as j,He as k,Dt as l,z as n,ae as o,Te as r,R as s,Ue as t,Z as u,ke as y};
