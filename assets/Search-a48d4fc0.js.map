{"version":3,"file":"Search-a48d4fc0.js","sources":["../../node_modules/@heroicons/react/24/solid/esm/MagnifyingGlassIcon.js","../../node_modules/@heroicons/react/24/solid/esm/XMarkIcon.js","../../src/components/Search/Search.tsx"],"sourcesContent":["import * as React from \"react\";\nfunction MagnifyingGlassIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M10.5 3.75a6.75 6.75 0 100 13.5 6.75 6.75 0 000-13.5zM2.25 10.5a8.25 8.25 0 1114.59 5.28l4.69 4.69a.75.75 0 11-1.06 1.06l-4.69-4.69A8.25 8.25 0 012.25 10.5z\",\n    clipRule: \"evenodd\"\n  }));\n}\nconst ForwardRef = React.forwardRef(MagnifyingGlassIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction XMarkIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z\",\n    clipRule: \"evenodd\"\n  }));\n}\nconst ForwardRef = React.forwardRef(XMarkIcon);\nexport default ForwardRef;","import { useEffect, Fragment, PropsWithChildren, useState } from 'react'\nimport { Combobox, Dialog, Transition } from '@headlessui/react'\nimport MagnifyingGlassIcon from '@heroicons/react/24/solid/MagnifyingGlassIcon'\nimport XMarkIcon from '@heroicons/react/24/solid/XMarkIcon'\nimport { rdsOverlay } from '../../utils/optionClasses'\nimport { Link } from '../../components/Link/Link'\n\nexport interface SourceDataProps {\n  [k: string]: string | number\n}\nexport interface SearchProps {\n  sourceData: SourceDataProps[]\n  searchOn?: string\n  callback: (k: boolean) => void\n}\n\nfunction classNames(...classes: (string | boolean)[]) {\n  return classes.filter(Boolean).join(' ')\n}\n\nexport const Search = ({ searchOn = 'title', sourceData, children, callback }: PropsWithChildren<SearchProps>) => {\n  const [query, setQuery] = useState('')\n  const [open, setOpen] = useState(false)\n\n  const filteredDatabase =\n    query === ''\n      ? []\n      : sourceData.filter((data: SourceDataProps) => {\n          return data[searchOn].toString().toLowerCase().includes(query.toLowerCase())\n        })\n\n  const searchAvatar = children ? (\n    children\n  ) : (\n    <MagnifyingGlassIcon className=\"left-4 h-5 w-5 cursor-pointer text-gray-400\" aria-hidden=\"true\" />\n  )\n\n  const handleComboboxChange = (selectedOption: SourceDataProps) => {\n    if (selectedOption) {\n      const url = String(selectedOption.url)\n      window.location.href = url\n      setOpen(false)\n    }\n  }\n\n  useEffect(() => {\n    function onKeydown(event: KeyboardEvent) {\n      if (event.key === 'k' && (event.metaKey || event.ctrlKey)) {\n        setOpen(!open)\n      }\n    }\n\n    window.addEventListener('keydown', onKeydown)\n    return () => {\n      window.removeEventListener('keydown', onKeydown)\n    }\n  }, [open])\n\n  useEffect(() => {\n    callback(open)\n  }, [open, callback])\n\n  return (\n    <>\n      <button onClick={() => setOpen(true)} aria-label=\"search\" className=\"not-prose\">\n        {searchAvatar}\n      </button>\n\n      <Transition.Root show={open} as={Fragment} afterLeave={() => setQuery('')} appear>\n        <Dialog as=\"div\" className=\"cu-search not-prose relative z-50\" onClose={setOpen}>\n          <Transition.Child\n            as={Fragment}\n            enter=\"ease-out duration-300\"\n            enterFrom=\"opacity-0\"\n            enterTo=\"opacity-100\"\n            leave=\"ease-in duration-200\"\n            leaveFrom=\"opacity-100\"\n            leaveTo=\"opacity-0\"\n          >\n            <div className={`fixed inset-0 transition-opacity ${rdsOverlay} `} />\n          </Transition.Child>\n\n          <div className=\"z-100 fixed inset-0 overflow-y-auto p-4 sm:p-6 md:p-20\">\n            <Transition.Child\n              as={Fragment}\n              enter=\"ease-out duration-300\"\n              enterFrom=\"opacity-0 scale-95\"\n              enterTo=\"opacity-100 scale-100\"\n              leave=\"ease-in duration-200\"\n              leaveFrom=\"opacity-100 scale-100\"\n              leaveTo=\"opacity-0 scale-95\"\n            >\n              <Dialog.Panel className=\"mx-auto mt-[20vh] max-w-xl transform divide-y divide-gray-100 overflow-hidden rounded-xl bg-white shadow-2xl ring-1 ring-black ring-opacity-5 transition-all\">\n                <Combobox onChange={handleComboboxChange}>\n                  <div className=\"relative\">\n                    <MagnifyingGlassIcon\n                      className=\"pointer-events-none absolute left-4 top-3.5 h-5 w-5 text-gray-400\"\n                      aria-hidden=\"true\"\n                    />\n                    <Combobox.Input\n                      className=\"h-12 w-full rounded-lg border border-cu-black-100 bg-transparent pl-11 pr-4 text-sm text-cu-black-800 placeholder-cu-black-300 focus:border-cu-black-300 focus:ring-0\"\n                      placeholder=\"Search...\"\n                      onChange={(event) => setQuery(event.target.value)}\n                    />\n                    {query && (\n                      <XMarkIcon\n                        className=\"absolute right-4 top-3.5 h-4 w-4 text-gray-400\"\n                        aria-hidden=\"true\"\n                        onClick={() => {\n                          setQuery('')\n                        }}\n                      />\n                    )}\n                  </div>\n\n                  {filteredDatabase.length > 0 && (\n                    <Combobox.Options\n                      static\n                      className=\"max-h-72 scroll-py-2 overflow-y-auto py-2 text-sm text-gray-800\"\n                    >\n                      {filteredDatabase.map((record) => (\n                        <Combobox.Option\n                          key={record.id}\n                          value={record}\n                          className={({ active }) =>\n                            classNames('cursor-default select-none px-4 py-2', active && 'bg-cu-red text-white')\n                          }\n                        >\n                          <Link href={`${record.url}`} onClick={() => setOpen(false)}>\n                            {record[searchOn]}\n                          </Link>\n                        </Combobox.Option>\n                      ))}\n                    </Combobox.Options>\n                  )}\n\n                  {query !== '' && filteredDatabase.length === 0 && (\n                    <p className=\"p-4 text-sm text-gray-500\">Search not found</p>\n                  )}\n                </Combobox>\n              </Dialog.Panel>\n            </Transition.Child>\n          </div>\n        </Dialog>\n      </Transition.Root>\n    </>\n  )\n}\n"],"names":["MagnifyingGlassIcon","title","titleId","props","svgRef","React.createElement","ForwardRef","React.forwardRef","MagnifyingGlassIcon$1","XMarkIcon","XMarkIcon$1","classNames","classes","Search","searchOn","sourceData","children","callback","query","setQuery","useState","open","setOpen","filteredDatabase","data","searchAvatar","jsx","handleComboboxChange","selectedOption","url","useEffect","onKeydown","event","jsxs","Fragment","Transition","Fragment2","Dialog","rdsOverlay","Combobox","record","active","Link"],"mappings":"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","x_google_ignoreList":[0,1]}