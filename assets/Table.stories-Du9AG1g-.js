import{j as a}from"./jsx-runtime-Nms4Y4qS.js";import{r as s}from"./index-BwDkhjyp.js";import{F as q}from"./ChevronDownIcon-gc4pqSrO.js";import"./_commonjsHelpers-BosuxZz1.js";function N({title:t,titleId:r,...n},i){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),t?s.createElement("title",{id:r},t):null,s.createElement("path",{fillRule:"evenodd",d:"M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z",clipRule:"evenodd"}))}const $=s.forwardRef(N);function W({title:t,titleId:r,...n},i){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),t?s.createElement("title",{id:r},t):null,s.createElement("path",{fillRule:"evenodd",d:"M9.47 6.47a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 1 1-1.06 1.06L10 8.06l-3.72 3.72a.75.75 0 0 1-1.06-1.06l4.25-4.25Z",clipRule:"evenodd"}))}const A=s.forwardRef(W),J=[{id:1,title:"End-of-Year Reflections and Resolutions for Our Web Services Team",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper dolor non dui vestibulum, et efficitur leo interdum."},{id:2,title:"Testing an incredibly long title that should span multiple lines so we can always have eye on the overall width of a table to make sure long text like this wraps",description:"Vestibulum sed eleifend lorem. Curabitur lacinia consectetur consectetur."},{id:3,title:"Captivating Captions: Why We Use Captions on Videos",description:"Suspendisse commodo metus augue, non malesuada lorem vestibulum sit amet. Quisque posuere lectus sed diam sagittis, quis vehicula urna commodo."},{id:4,title:"End-of-Year Reflections and Resolutions for Our Web Services Team",description:"Aliquam vel eleifend erat, vel interdum metus. Phasellus sed tortor posuere, iaculis justo a, accumsan risus. Duis pretium dignissim orci."},{id:5,title:"How to Write for the Web",description:"Vivamus sodales leo ut nisl rutrum viverra. Nullam et dui at libero malesuada vestibulum."}],m={tableGlobal:"p-3 md:p-4 text-left align-text-top",tableHeaderRow:"font-semibold text-sm md:text-base",tableBodyRow:"text-sm md:text-base",borders:"border-b border-cu-black-100 last:border-none",striped:"odd:bg-white even:bg-cu-black-25",cellWidth:"min-w-48"},R=({columns:t,noWordBreak:r,sortData:n})=>{const[i,o]=s.useState(!0),[d,u]=s.useState(""),c=r?"whitespace-nowrap":"",l=e=>{const b=e;let f=!0;e===d&&(f=!i),u(b),o(f),n(b,f)},p=s.useRef(!1);s.useEffect(()=>{if(!p.current){const e=t.find(b=>b.default);e&&(u(e.key),o((e==null?void 0:e.order)==="ascending"),n(e.key,(e==null?void 0:e.order)==="ascending")),p.current=!0}},[t,n]);const h=t.map((e,b)=>{var y,w,v,k,x;const f=(y=e==null?void 0:e.sort)!=null&&y.sortable?"hover:cursor-pointer":"hover:cursor-auto";return a.jsx("th",{scope:"col",className:`${m.tableGlobal} ${m.tableHeaderRow} ${f} ${c} ${e.header.length>20?m.cellWidth:""}`,onClick:()=>{var T;return(T=e==null?void 0:e.sort)!=null&&T.sortable?l(e.key):void 0},"aria-sort":e.key===d&&i?"descending":e.key===d&&!i?"ascending":void 0,children:(w=e.sort)!=null&&w.sortable?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{children:e.header}),e.key===d&&i?a.jsx("button",{className:"block w-4 h-full ml-2","aria-label":(v=e==null?void 0:e.sort)!=null&&v.sortable?"Sort "+e.key+" by ascending order":void 0,children:a.jsx(q,{className:"inline-block"})}):e.key===d&&!i?a.jsx("button",{className:"block w-4 h-full ml-2","aria-label":(k=e==null?void 0:e.sort)!=null&&k.sortable?"Sort "+e.key+" by descending order":void 0,children:a.jsx(A,{className:"inline-block"})}):a.jsx("button",{className:"block w-4 h-full ml-2","aria-label":(x=e==null?void 0:e.sort)!=null&&x.sortable?"Sort by "+e.key:void 0,children:a.jsx($,{className:"inline-block"})})]}):e.header},`headerCell-${b}`)});return a.jsx("thead",{className:"border-b border-cu-black-200 bg-cu-black-50",children:a.jsx("tr",{children:h})})};R.__docgenInfo={description:"",methods:[],displayName:"TableHeader",props:{columns:{required:!0,tsType:{name:"Array",elements:[{name:"ColumnDefinitionType"}],raw:"ColumnDefinitionType[]"},description:""},noWordBreak:{required:!0,tsType:{name:"boolean"},description:""},sortData:{required:!0,tsType:{name:"signature",type:"function",raw:"(a: string, s: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"a"},{type:{name:"boolean"},name:"s"}],return:{name:"void"}}},description:""}}};const C=({data:t,columns:r,striped:n})=>{const i=n?`${m.striped} ${m.borders}`:m.borders,o=t.map((d,u)=>a.jsx("tr",{className:i,children:r.map((c,l)=>{const p=d[c.key],h=typeof p=="string"&&p.length>20;return a.jsx("td",{className:`${m.tableGlobal} ${m.tableBodyRow} ${h?m.cellWidth:""}`,children:p},`cell-${l}`)})},`row-${u}`));return a.jsx("tbody",{children:o})};C.__docgenInfo={description:"",methods:[],displayName:"TableRows",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  [k: string]: string | number | JSX.Element
}`,signature:{properties:[{key:{name:"string"},value:{name:"union",raw:"string | number | JSX.Element",elements:[{name:"string"},{name:"number"},{name:"JSX.Element"}],required:!0}}]}}],raw:`{
  [k: string]: string | number | JSX.Element
}[]`},description:""},columns:{required:!0,tsType:{name:"Array",elements:[{name:"ColumnDefinitionType"}],raw:"ColumnDefinitionType[]"},description:""},striped:{required:!0,tsType:{name:"boolean"},description:""},range:{required:!0,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:""}}};const X=t=>{const[r,n]=s.useState(t);return s.useEffect(()=>{n(t)},[t]),[r,(o,d)=>{if(o){const u=[...r].sort((c,l)=>c[o]===null?1:l[o]===null?-1:c[o]===null&&l[o]===null?0:c[o].toString().localeCompare(l[o].toString(),"en",{numeric:!0})*(d?1:-1));n(u)}}]},D=({data:t,columns:r,hasStripes:n=!1,noWordBreak:i=!1,range:o=[1,-1]})=>{const[d,u]=X(t),c=s.useRef(!1);return s.useEffect(()=>{if(!c.current){const l=r.find(p=>p.default);l&&u(l.key,(l==null?void 0:l.order)==="ascending"),c.current=!0}},[r,u]),a.jsx("div",{className:"cu-table cu-component not-prose overflow-x-auto rounded-lg shadow-lg",children:a.jsxs("table",{className:"min-w-full table-auto cu-table",children:[a.jsx(R,{columns:r,noWordBreak:i,sortData:u}),a.jsx(C,{data:d,columns:r,striped:n,range:o})]})})};D.__docgenInfo={description:"",methods:[],displayName:"Table",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  [k: string]: string | number | JSX.Element
}`,signature:{properties:[{key:{name:"string"},value:{name:"union",raw:"string | number | JSX.Element",elements:[{name:"string"},{name:"number"},{name:"JSX.Element"}],required:!0}}]}}],raw:`{
  [k: string]: string | number | JSX.Element
}[]`},description:""},columns:{required:!0,tsType:{name:"Array",elements:[{name:"ColumnDefinitionType"}],raw:"ColumnDefinitionType[]"},description:""},hasStripes:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},noWordBreak:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},range:{required:!1,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:"",defaultValue:{value:"[1, -1]",computed:!1}}}};const I={title:"Components/Table",component:D,tags:["autodocs"],parameters:{controls:{sort:"requiredFirst"}}},_=J.map(t=>{const r="http://thing/"+t.id;return{...t,link:a.jsx("a",{className:"font-semibold text-cu-red",href:r,children:"Edit"})}}),L=[{key:"id",header:"ID",sort:{sortable:!0},order:"descending",default:!0},{key:"title",header:"Title",sort:{sortable:!0}},{key:"description",header:"Description",sort:{sortable:!1}},{key:"link",header:"Edit",sort:{sortable:!1}}],g={};g.args={data:_,columns:L,hasStripes:!1,noWordBreak:!1,range:[1,-1]};var S,j,E;g.parameters={...g.parameters,docs:{...(S=g.parameters)==null?void 0:S.docs,source:{originalSource:"{}",...(E=(j=g.parameters)==null?void 0:j.docs)==null?void 0:E.source}}};const M=["Primary"];export{g as Primary,M as __namedExportsOrder,I as default};
