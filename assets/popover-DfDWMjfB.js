import{R as y,r as i}from"./index-BwDkhjyp.js";import{e as Ie,p as Ye,o as P,W as G,H as X,n as A,u as Z,a as ke,g as re,t as wt,y as q,T as qe,l as Pt,M as ve,c as St,i as oe,D as Te,b as Xe,V as Je,A as ze,d as Tt,m as Ft,s as xt}from"./transition-mRgfyLhs.js";import{u as Mt,o as Lt,s as Ct,f as Ht,i as It,a as kt,b as Ot,c as Rt,d as Dt}from"./floating-ui.react-Cl8hp8cR.js";import{r as At}from"./index-DxjWwZXO.js";const Qe=typeof document<"u"?y.useLayoutEffect:()=>{};function Nt(e){const t=i.useRef(null);return Qe(()=>{t.current=e},[e]),i.useCallback((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}const de=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},ee=e=>e&&"window"in e&&e.window===e?e:de(e).defaultView||window;function Bt(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function _t(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Ze(e){let t=null;return()=>(t==null&&(t=e()),t)}const Wt=Ze(function(){return _t(/^Mac/i)}),Vt=Ze(function(){return Bt(/Android/i)});function Gt(e){return e.mozInputSource===0&&e.isTrusted?!0:Vt()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}class Kt{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=t}}function et(e){let t=i.useRef({isFocused:!1,observer:null});Qe(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=Nt(r=>{e==null||e(r)});return i.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let o=r.target,a=s=>{t.current.isFocused=!1,o.disabled&&n(new Kt("blur",s)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};o.addEventListener("focusout",a,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&o.disabled){var s;(s=t.current.observer)===null||s===void 0||s.disconnect();let u=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:u})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:u}))}}),t.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function Ut(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:o}=e;const a=i.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),o&&o(!1),!0},[r,o]),s=et(a),u=i.useCallback(l=>{const f=de(l.target);l.target===l.currentTarget&&f.activeElement===l.target&&(n&&n(l),o&&o(!0),s(l))},[o,n,s]);return{focusProps:{onFocus:!t&&(n||o||r)?u:void 0,onBlur:!t&&(r||o)?a:void 0}}}let fe=null,Fe=new Set,se=new Map,ne=!1,xe=!1;const jt={Tab:!0,Escape:!0};function Oe(e,t){for(let n of Fe)n(e,t)}function Yt(e){return!(e.metaKey||!Wt()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function me(e){ne=!0,Yt(e)&&(fe="keyboard",Oe("keyboard",e))}function D(e){fe="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(ne=!0,Oe("pointer",e))}function tt(e){Gt(e)&&(ne=!0,fe="virtual")}function nt(e){e.target===window||e.target===document||(!ne&&!xe&&(fe="virtual",Oe("virtual",e)),ne=!1,xe=!1)}function rt(){ne=!1,xe=!0}function Me(e){if(typeof window>"u"||se.get(ee(e)))return;const t=ee(e),n=de(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){ne=!0,r.apply(this,arguments)},n.addEventListener("keydown",me,!0),n.addEventListener("keyup",me,!0),n.addEventListener("click",tt,!0),t.addEventListener("focus",nt,!0),t.addEventListener("blur",rt,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",D,!0),n.addEventListener("pointermove",D,!0),n.addEventListener("pointerup",D,!0)):(n.addEventListener("mousedown",D,!0),n.addEventListener("mousemove",D,!0),n.addEventListener("mouseup",D,!0)),t.addEventListener("beforeunload",()=>{ot(e)},{once:!0}),se.set(t,{focus:r})}const ot=(e,t)=>{const n=ee(e),r=de(e);t&&r.removeEventListener("DOMContentLoaded",t),se.has(n)&&(n.HTMLElement.prototype.focus=se.get(n).focus,r.removeEventListener("keydown",me,!0),r.removeEventListener("keyup",me,!0),r.removeEventListener("click",tt,!0),n.removeEventListener("focus",nt,!0),n.removeEventListener("blur",rt,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",D,!0),r.removeEventListener("pointermove",D,!0),r.removeEventListener("pointerup",D,!0)):(r.removeEventListener("mousedown",D,!0),r.removeEventListener("mousemove",D,!0),r.removeEventListener("mouseup",D,!0)),se.delete(n))};function qt(e){const t=de(e);let n;return t.readyState!=="loading"?Me(e):(n=()=>{Me(e)},t.addEventListener("DOMContentLoaded",n)),()=>ot(e,n)}typeof document<"u"&&qt();function lt(){return fe!=="pointer"}const Xt=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Jt(e,t,n){var r;const o=typeof window<"u"?ee(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,a=typeof window<"u"?ee(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,s=typeof window<"u"?ee(n==null?void 0:n.target).HTMLElement:HTMLElement,u=typeof window<"u"?ee(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||(n==null?void 0:n.target)instanceof o&&!Xt.has(n==null||(r=n.target)===null||r===void 0?void 0:r.type)||(n==null?void 0:n.target)instanceof a||(n==null?void 0:n.target)instanceof s&&(n==null?void 0:n.target.isContentEditable),!(e&&t==="keyboard"&&n instanceof u&&!jt[n.key])}function zt(e,t,n){Me(),i.useEffect(()=>{let r=(o,a)=>{Jt(!!(n!=null&&n.isTextInput),o,a)&&e(lt())};return Fe.add(r),()=>{Fe.delete(r)}},t)}function Qt(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:o}=e,a=i.useRef({isFocusWithin:!1}),s=i.useCallback(f=>{a.current.isFocusWithin&&!f.currentTarget.contains(f.relatedTarget)&&(a.current.isFocusWithin=!1,n&&n(f),o&&o(!1))},[n,o,a]),u=et(s),l=i.useCallback(f=>{!a.current.isFocusWithin&&document.activeElement===f.target&&(r&&r(f),o&&o(!0),a.current.isFocusWithin=!0,u(f))},[r,o,u]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:s}}}let be=!1,Pe=0;function Le(){be=!0,setTimeout(()=>{be=!1},50)}function Ve(e){e.pointerType==="touch"&&Le()}function Zt(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",Ve):document.addEventListener("touchend",Le),Pe++,()=>{Pe--,!(Pe>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",Ve):document.removeEventListener("touchend",Le))}}function en(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:o}=e,[a,s]=i.useState(!1),u=i.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;i.useEffect(Zt,[]);let{hoverProps:l,triggerHoverEnd:f}=i.useMemo(()=>{let c=(d,b)=>{if(u.pointerType=b,o||b==="touch"||u.isHovered||!d.currentTarget.contains(d.target))return;u.isHovered=!0;let g=d.currentTarget;u.target=g,t&&t({type:"hoverstart",target:g,pointerType:b}),n&&n(!0),s(!0)},$=(d,b)=>{if(u.pointerType="",u.target=null,b==="touch"||!u.isHovered)return;u.isHovered=!1;let g=d.currentTarget;r&&r({type:"hoverend",target:g,pointerType:b}),n&&n(!1),s(!1)},m={};return typeof PointerEvent<"u"?(m.onPointerEnter=d=>{be&&d.pointerType==="mouse"||c(d,d.pointerType)},m.onPointerLeave=d=>{!o&&d.currentTarget.contains(d.target)&&$(d,d.pointerType)}):(m.onTouchStart=()=>{u.ignoreEmulatedMouseEvents=!0},m.onMouseEnter=d=>{!u.ignoreEmulatedMouseEvents&&!be&&c(d,"mouse"),u.ignoreEmulatedMouseEvents=!1},m.onMouseLeave=d=>{!o&&d.currentTarget.contains(d.target)&&$(d,"mouse")}),{hoverProps:m,triggerHoverEnd:$}},[t,n,r,o,u]);return i.useEffect(()=>{o&&f({currentTarget:u.target},u.pointerType)},[o]),{hoverProps:l,isHovered:a}}function tn(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,o=i.useRef({isFocused:!1,isFocusVisible:t||lt()}),[a,s]=i.useState(!1),[u,l]=i.useState(()=>o.current.isFocused&&o.current.isFocusVisible),f=i.useCallback(()=>l(o.current.isFocused&&o.current.isFocusVisible),[]),c=i.useCallback(d=>{o.current.isFocused=d,s(d),f()},[f]);zt(d=>{o.current.isFocusVisible=d,f()},[],{isTextInput:n});let{focusProps:$}=Ut({isDisabled:r,onFocusChange:c}),{focusWithinProps:m}=Qt({isDisabled:!r,onFocusWithinChange:c});return{isFocused:a,isFocusVisible:u,focusProps:r?m:$}}function le(e){return Ie.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function nn(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function rn(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function on({disabled:e=!1}={}){let t=i.useRef(null),[n,r]=i.useState(!1),o=Ye(),a=P(()=>{t.current=null,r(!1),o.dispose()}),s=P(u=>{if(o.dispose(),t.current===null){t.current=u.currentTarget,r(!0);{let l=le(u.currentTarget);o.addEventListener(l,"pointerup",a,!1),o.addEventListener(l,"pointermove",f=>{if(t.current){let c=nn(f);r(rn(c,t.current.getBoundingClientRect()))}},!1),o.addEventListener(l,"pointercancel",a,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:s,onPointerUp:a,onClick:a}}}let ln="span";var ce=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(ce||{});function un(e,t){var n;let{features:r=1,...o}=e,a={ref:t,"aria-hidden":(r&2)===2?!0:(n=o["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return X({ourProps:a,theirProps:o,slot:{},defaultTag:ln,name:"Hidden"})}let ge=G(un);function ut(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&an(n)?!1:r}function an(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}var z=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(z||{});let sn=i.createContext(()=>{});function cn({value:e,children:t}){return y.createElement(sn.Provider,{value:e},t)}function dn(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function fn(e,t=!1){let n=e===null?null:"current"in e?e.current:e,[r,o]=i.useReducer(()=>({}),{}),a=i.useMemo(()=>dn(n),[n,r]);return A(()=>{if(!n)return;let s=new ResizeObserver(o);return s.observe(n),()=>{s.disconnect()}},[n]),t?{width:`${a.width}px`,height:`${a.height}px`}:a}let pn=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};function at(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(o){return r.add(o),()=>r.delete(o)},dispatch(o,...a){let s=t[o].call(n,...a);s&&(n=s,r.forEach(u=>u()))}}}function it(e){return i.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}let vn=new pn(()=>at(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let n=this.slice();return n.splice(t,1),n}}));function st(e,t){let n=vn.get(t),r=i.useId(),o=it(n);if(A(()=>{if(e)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,e]),!e)return!1;let a=o.indexOf(r),s=o.length;return a===-1&&(a=s,s+=1),a===s-1}let Ce=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),mn=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var j=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(j||{}),he=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(he||{}),bn=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(bn||{});function pe(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Ce)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function gn(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(mn)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Re=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Re||{});function De(e,t=0){var n;return e===((n=le(e))==null?void 0:n.body)?!1:Z(t,{0(){return e.matches(Ce)},1(){let r=e;for(;r!==null;){if(r.matches(Ce))return!0;r=r.parentElement}return!1}})}function Fr(e){let t=le(e);ke().nextFrame(()=>{t&&!De(t.activeElement,0)&&En(e)})}var hn=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(hn||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function En(e){e==null||e.focus({preventScroll:!0})}let $n=["textarea","input"].join(",");function yn(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,$n))!=null?n:!1}function wn(e,t=n=>n){return e.slice().sort((n,r)=>{let o=t(n),a=t(r);if(o===null||a===null)return 0;let s=o.compareDocumentPosition(a);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function xr(e,t){return Q(pe(),t,{relativeTo:e})}function Q(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:o=[]}={}){let a=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,s=Array.isArray(e)?n?wn(e):e:t&64?gn(e):pe(e);o.length>0&&s.length>1&&(s=s.filter(d=>!o.some(b=>b!=null&&"current"in b?(b==null?void 0:b.current)===d:b===d))),r=r??a.activeElement;let u=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,s.indexOf(r))-1;if(t&4)return Math.max(0,s.indexOf(r))+1;if(t&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},c=0,$=s.length,m;do{if(c>=$||c+$<=0)return 0;let d=l+c;if(t&16)d=(d+$)%$;else{if(d<0)return 3;if(d>=$)return 1}m=s[d],m==null||m.focus(f),c+=u}while(m!==a.activeElement);return t&6&&yn(m)&&m.select(),2}function ct(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Pn(){return/Android/gi.test(window.navigator.userAgent)}function Sn(){return ct()||Pn()}function ie(e,t,n,r){let o=re(n);i.useEffect(()=>{if(!e)return;function a(s){o.current(s)}return document.addEventListener(t,a,r),()=>document.removeEventListener(t,a,r)},[e,t,r])}function dt(e,t,n,r){let o=re(n);i.useEffect(()=>{if(!e)return;function a(s){o.current(s)}return window.addEventListener(t,a,r),()=>window.removeEventListener(t,a,r)},[e,t,r])}const Ge=30;function Tn(e,t,n){let r=st(e,"outside-click"),o=re(n),a=i.useCallback(function(l,f){if(l.defaultPrevented)return;let c=f(l);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let $=function m(d){return typeof d=="function"?m(d()):Array.isArray(d)||d instanceof Set?d:[d]}(t);for(let m of $){if(m===null)continue;let d=m instanceof HTMLElement?m:m.current;if(d!=null&&d.contains(c)||l.composed&&l.composedPath().includes(d))return}return!De(c,Re.Loose)&&c.tabIndex!==-1&&l.preventDefault(),o.current(l,c)},[o]),s=i.useRef(null);ie(r,"pointerdown",l=>{var f,c;s.current=((c=(f=l.composedPath)==null?void 0:f.call(l))==null?void 0:c[0])||l.target},!0),ie(r,"mousedown",l=>{var f,c;s.current=((c=(f=l.composedPath)==null?void 0:f.call(l))==null?void 0:c[0])||l.target},!0),ie(r,"click",l=>{Sn()||s.current&&(a(l,()=>s.current),s.current=null)},!0);let u=i.useRef({x:0,y:0});ie(r,"touchstart",l=>{u.current.x=l.touches[0].clientX,u.current.y=l.touches[0].clientY},!0),ie(r,"touchend",l=>{let f={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(f.x-u.current.x)>=Ge||Math.abs(f.y-u.current.y)>=Ge))return a(l,()=>l.target instanceof HTMLElement?l.target:null)},!0),dt(r,"blur",l=>a(l,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function ue(...e){return i.useMemo(()=>le(...e),[...e])}function Fn(e,t,n,r){let o=re(n);i.useEffect(()=>{e=e??window;function a(s){o.current(s)}return e.addEventListener(t,a,r),()=>e.removeEventListener(t,a,r)},[e,t,r])}function Ke(e){var t;if(e.type)return e.type;let n=(t=e.as)!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function xn(e,t){let[n,r]=i.useState(()=>Ke(e));return A(()=>{r(Ke(e))},[e.type,e.as]),A(()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")},[n,t]),n}function Mn(){let e;return{before({doc:t}){var n;let r=t.documentElement,o=(n=t.defaultView)!=null?n:window;e=Math.max(0,o.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,o=Math.max(0,r.clientWidth-r.offsetWidth),a=Math.max(0,e-o);n.style(r,"paddingRight",`${a}px`)}}}function Ln(){return ct()?{before({doc:e,d:t,meta:n}){function r(o){return n.containers.flatMap(a=>a()).some(a=>a.contains(o))}t.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let u=ke();u.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>u.dispose()))}let a=(o=window.scrollY)!=null?o:window.pageYOffset,s=null;t.addEventListener(e,"click",u=>{if(u.target instanceof HTMLElement)try{let l=u.target.closest("a");if(!l)return;let{hash:f}=new URL(l.href),c=e.querySelector(f);c&&!r(c)&&(s=c)}catch{}},!0),t.addEventListener(e,"touchstart",u=>{if(u.target instanceof HTMLElement)if(r(u.target)){let l=u.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;t.style(l,"overscrollBehavior","contain")}else t.style(u.target,"touchAction","none")}),t.addEventListener(e,"touchmove",u=>{if(u.target instanceof HTMLElement){if(u.target.tagName==="INPUT")return;if(r(u.target)){let l=u.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&u.preventDefault()}else u.preventDefault()}},{passive:!1}),t.add(()=>{var u;let l=(u=window.scrollY)!=null?u:window.pageYOffset;a!==l&&window.scrollTo(0,a),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function Cn(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Hn(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let te=at(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:ke(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:Hn(n)},o=[Ln(),Mn(),Cn()];o.forEach(({before:a})=>a==null?void 0:a(r)),o.forEach(({after:a})=>a==null?void 0:a(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});te.subscribe(()=>{let e=te.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",o=n.count!==0;(o&&!r||!o&&r)&&te.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&te.dispatch("TEARDOWN",n)}});function In(e,t,n=()=>({containers:[]})){let r=it(te),o=t?r.get(t):void 0,a=o?o.count>0:!1;return A(()=>{if(!(!t||!e))return te.dispatch("PUSH",t,n),()=>te.dispatch("POP",t,n)},[e,t]),a}function kn(e,t,n=()=>[document.body]){let r=st(e,"scroll-lock");In(r,t,o=>{var a;return{containers:[...(a=o.containers)!=null?a:[],n]}})}let ae=i.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});ae.displayName="FloatingContext";let Ae=i.createContext(null);Ae.displayName="PlacementContext";function On(e){return i.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function Rn(){return i.useContext(ae).setReference}function Mr(){return i.useContext(ae).getReferenceProps}function Dn(){let{getFloatingProps:e,slot:t}=i.useContext(ae);return i.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function An(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=i.useContext(Ae),n=i.useMemo(()=>e,[JSON.stringify(e,typeof HTMLElement<"u"?(o,a)=>a instanceof HTMLElement?a.outerHTML:a:void 0)]);A(()=>{t==null||t(n??null)},[t,n]);let r=i.useContext(ae);return i.useMemo(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}let Ue=4;function Nn({children:e,enabled:t=!0}){let[n,r]=i.useState(null),[o,a]=i.useState(0),s=i.useRef(null),[u,l]=i.useState(null);Bn(u);let f=t&&n!==null&&u!==null,{to:c="bottom",gap:$=0,offset:m=0,padding:d=0,inner:b}=_n(n,u),[g,E="center"]=c.split(" ");A(()=>{f&&a(0)},[f]);let{refs:w,floatingStyles:T,context:F}=Mt({open:f,placement:g==="selection"?E==="center"?"bottom":`bottom-${E}`:E==="center"?`${g}`:`${g}-${E}`,strategy:"absolute",transform:!1,middleware:[Lt({mainAxis:g==="selection"?0:$,crossAxis:m}),Ct({padding:d}),g!=="selection"&&Ht({padding:d}),g==="selection"&&b?It({...b,padding:d,overflowRef:s,offset:o,minItemsVisible:Ue,referenceOverflowThreshold:d,onFallbackChange(k){var R,C;if(!k)return;let L=F.elements.floating;if(!L)return;let V=parseFloat(getComputedStyle(L).scrollPaddingBottom)||0,K=Math.min(Ue,L.childElementCount),U=0,v=0;for(let p of(C=(R=F.elements.floating)==null?void 0:R.childNodes)!=null?C:[])if(p instanceof HTMLElement){let h=p.offsetTop,S=h+p.clientHeight+V,x=L.scrollTop,O=x+L.clientHeight;if(h>=x&&S<=O)K--;else{v=Math.max(0,Math.min(S,O)-Math.max(h,x)),U=p.clientHeight;break}}K>=1&&a(p=>{let h=U*K-v+V;return p>=h?p:h})}}):null,kt({padding:d,apply({availableWidth:k,availableHeight:R,elements:C}){Object.assign(C.floating.style,{overflow:"auto",maxWidth:`${k}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${R}px)`})}})].filter(Boolean),whileElementsMounted:Ot}),[_=g,W=E]=F.placement.split("-");g==="selection"&&(_="selection");let H=i.useMemo(()=>({anchor:[_,W].filter(Boolean).join(" ")}),[_,W]),N=Rt(F,{overflowRef:s,onChange:a}),{getReferenceProps:B,getFloatingProps:I}=Dt([N]),J=P(k=>{l(k),w.setFloating(k)});return i.createElement(Ae.Provider,{value:r},i.createElement(ae.Provider,{value:{setFloating:J,setReference:w.setReference,styles:T,getReferenceProps:B,getFloatingProps:I,slot:H}},e))}function Bn(e){A(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,r=parseFloat(n);if(isNaN(r))return;let o=parseInt(n);isNaN(o)||r!==o&&(e.style.maxHeight=`${Math.ceil(r)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function _n(e,t){var n,r,o;let a=Se((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),s=Se((r=e==null?void 0:e.offset)!=null?r:"var(--anchor-offset, 0)",t),u=Se((o=e==null?void 0:e.padding)!=null?o:"var(--anchor-padding, 0)",t);return{...e,gap:a,offset:s,padding:u}}function Se(e,t,n=void 0){let r=Ye(),o=P((l,f)=>{if(l==null)return[n,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!f)return[n,null];let c=je(l,f);return[c,$=>{let m=ft(l);{let d=m.map(b=>window.getComputedStyle(f).getPropertyValue(b));r.requestAnimationFrame(function b(){r.nextFrame(b);let g=!1;for(let[w,T]of m.entries()){let F=window.getComputedStyle(f).getPropertyValue(T);if(d[w]!==F){d[w]=F,g=!0;break}}if(!g)return;let E=je(l,f);c!==E&&($(E),c=E)})}return r.dispose}]}return[n,null]}),a=i.useMemo(()=>o(e,t)[0],[e,t]),[s=a,u]=i.useState();return A(()=>{let[l,f]=o(e,t);if(u(l),!!f)return f(u)},[e,t]),s}function ft(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let r=t[1].slice(0,n).trim(),o=t[1].slice(n+1).trim();return o?[r,...ft(o)]:[r]}return[]}function je(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}function Wn(e){let t=P(e),n=i.useRef(!1);i.useEffect(()=>(n.current=!1,()=>{n.current=!0,wt(()=>{n.current&&t()})}),[t])}let pt=i.createContext(!1);function Vn(){return i.useContext(pt)}function Lr(e){return y.createElement(pt.Provider,{value:e.force},e.children)}function Gn(e){let t=Vn(),n=i.useContext(mt),r=ue(e),[o,a]=i.useState(()=>{var s;if(!t&&n!==null)return(s=n.current)!=null?s:null;if(Ie.isServer)return null;let u=r==null?void 0:r.getElementById("headlessui-portal-root");if(u)return u;if(r===null)return null;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)});return i.useEffect(()=>{o!==null&&(r!=null&&r.body.contains(o)||r==null||r.body.appendChild(o))},[o,r]),i.useEffect(()=>{t||n!==null&&a(n.current)},[n,a,t]),o}let vt=i.Fragment,Kn=G(function(e,t){let n=e,r=i.useRef(null),o=q(qe(c=>{r.current=c}),t),a=ue(r),s=Gn(r),[u]=i.useState(()=>{var c;return Ie.isServer?null:(c=a==null?void 0:a.createElement("div"))!=null?c:null}),l=i.useContext(He),f=Pt();return A(()=>{!s||!u||s.contains(u)||(u.setAttribute("data-headlessui-portal",""),s.appendChild(u))},[s,u]),A(()=>{if(u&&l)return l.register(u)},[l,u]),Wn(()=>{var c;!s||!u||(u instanceof Node&&s.contains(u)&&s.removeChild(u),s.childNodes.length<=0&&((c=s.parentElement)==null||c.removeChild(s)))}),f?!s||!u?null:At.createPortal(X({ourProps:{ref:o},theirProps:n,slot:{},defaultTag:vt,name:"Portal"}),u):null});function Un(e,t){let n=q(t),{enabled:r=!0,...o}=e;return r?y.createElement(Kn,{...o,ref:n}):X({ourProps:{ref:n},theirProps:o,slot:{},defaultTag:vt,name:"Portal"})}let jn=i.Fragment,mt=i.createContext(null);function Yn(e,t){let{target:n,...r}=e,o={ref:q(t)};return y.createElement(mt.Provider,{value:n},X({ourProps:o,theirProps:r,defaultTag:jn,name:"Popover.Group"}))}let He=i.createContext(null);function qn(){let e=i.useContext(He),t=i.useRef([]),n=P(a=>(t.current.push(a),e&&e.register(a),()=>r(a))),r=P(a=>{let s=t.current.indexOf(a);s!==-1&&t.current.splice(s,1),e&&e.unregister(a)}),o=i.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,i.useMemo(()=>function({children:a}){return y.createElement(He.Provider,{value:o},a)},[o])]}let Xn=G(Un),Jn=G(Yn),zn=Object.assign(Xn,{Group:Jn});function Qn({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=ue(n),o=P(()=>{var a,s;let u=[];for(let l of e)l!==null&&(l instanceof HTMLElement?u.push(l):"current"in l&&l.current instanceof HTMLElement&&u.push(l.current));if(t!=null&&t.current)for(let l of t.current)u.push(l);for(let l of(a=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?a:[])l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((s=n==null?void 0:n.getRootNode())==null?void 0:s.host))||u.some(f=>l.contains(f))||u.push(l));return u});return{resolveContainers:o,contains:P(a=>o().some(s=>s.contains(a)))}}let bt=i.createContext(null);function gt({children:e,node:t}){let[n,r]=i.useState(null),o=ht(t??n);return y.createElement(bt.Provider,{value:o},e,o===null&&y.createElement(ge,{features:ce.Hidden,ref:a=>{var s,u;if(a){for(let l of(u=(s=le(a))==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?u:[])if(l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l!=null&&l.contains(a)){r(l);break}}}}))}function ht(e=null){var t;return(t=i.useContext(bt))!=null?t:e}var Y=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Y||{});function Et(){let e=i.useRef(0);return dt(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}var Zn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Zn||{}),er=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(er||{});let tr={0:e=>({...e,popoverState:Z(e.popoverState,{0:1,1:0}),__demoMode:!1}),1(e){return e.popoverState===1?e:{...e,popoverState:1,__demoMode:!1}},2(e,t){return e.button===t.button?e:{...e,button:t.button}},3(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},4(e,t){return e.panel===t.panel?e:{...e,panel:t.panel}},5(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},Ne=i.createContext(null);Ne.displayName="PopoverContext";function Ee(e){let t=i.useContext(Ne);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ee),n}return t}let $e=i.createContext(null);$e.displayName="PopoverAPIContext";function Be(e){let t=i.useContext($e);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Be),n}return t}let _e=i.createContext(null);_e.displayName="PopoverGroupContext";function $t(){return i.useContext(_e)}let ye=i.createContext(null);ye.displayName="PopoverPanelContext";function nr(){return i.useContext(ye)}function rr(e,t){return Z(t.type,tr,e,t)}let or="div";function lr(e,t){var n;let{__demoMode:r=!1,...o}=e,a=i.useRef(null),s=q(t,qe(v=>{a.current=v})),u=i.useRef([]),l=i.useReducer(rr,{__demoMode:r,popoverState:r?0:1,buttons:u,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:i.createRef(),afterPanelSentinel:i.createRef(),afterButtonSentinel:i.createRef()}),[{popoverState:f,button:c,buttonId:$,panel:m,panelId:d,beforePanelSentinel:b,afterPanelSentinel:g,afterButtonSentinel:E},w]=l,T=ue((n=a.current)!=null?n:c),F=i.useMemo(()=>{if(!c||!m)return!1;for(let M of document.querySelectorAll("body > *"))if(Number(M==null?void 0:M.contains(c))^Number(M==null?void 0:M.contains(m)))return!0;let v=pe(),p=v.indexOf(c),h=(p+v.length-1)%v.length,S=(p+1)%v.length,x=v[h],O=v[S];return!m.contains(x)&&!m.contains(O)},[c,m]),_=re($),W=re(d),H=i.useMemo(()=>({buttonId:_,panelId:W,close:()=>w({type:1})}),[_,W,w]),N=$t(),B=N==null?void 0:N.registerPopover,I=P(()=>{var v;return(v=N==null?void 0:N.isFocusWithinPopoverGroup())!=null?v:(T==null?void 0:T.activeElement)&&((c==null?void 0:c.contains(T.activeElement))||(m==null?void 0:m.contains(T.activeElement)))});i.useEffect(()=>B==null?void 0:B(H),[B,H]);let[J,k]=qn(),R=ht(c),C=Qn({mainTreeNode:R,portals:J,defaultContainers:[c,m]});Fn(T==null?void 0:T.defaultView,"focus",v=>{var p,h,S,x,O,M;v.target!==window&&v.target instanceof HTMLElement&&f===0&&(I()||c&&m&&(C.contains(v.target)||(h=(p=b.current)==null?void 0:p.contains)!=null&&h.call(p,v.target)||(x=(S=g.current)==null?void 0:S.contains)!=null&&x.call(S,v.target)||(M=(O=E.current)==null?void 0:O.contains)!=null&&M.call(O,v.target)||w({type:1})))},!0),Tn(f===0,C.resolveContainers,(v,p)=>{w({type:1}),De(p,Re.Loose)||(v.preventDefault(),c==null||c.focus())});let L=P(v=>{w({type:1});let p=v?v instanceof HTMLElement?v:"current"in v&&v.current instanceof HTMLElement?v.current:c:c;p==null||p.focus()}),V=i.useMemo(()=>({close:L,isPortalled:F}),[L,F]),K=i.useMemo(()=>({open:f===0,close:L}),[f,L]),U={ref:s};return y.createElement(gt,{node:R},y.createElement(Nn,null,y.createElement(ye.Provider,{value:null},y.createElement(Ne.Provider,{value:l},y.createElement($e.Provider,{value:V},y.createElement(cn,{value:L},y.createElement(St,{value:Z(f,{0:oe.Open,1:oe.Closed})},y.createElement(k,null,X({ourProps:U,theirProps:o,slot:K,defaultTag:or,name:"Popover"})))))))))}let ur="button";function ar(e,t){let n=i.useId(),{id:r=`headlessui-popover-button-${n}`,disabled:o=!1,autoFocus:a=!1,...s}=e,[u,l]=Ee("Popover.Button"),{isPortalled:f}=Be("Popover.Button"),c=i.useRef(null),$=`headlessui-focus-sentinel-${i.useId()}`,m=$t(),d=m==null?void 0:m.closeOthers,b=nr()!==null;i.useEffect(()=>{if(!b)return l({type:3,buttonId:r}),()=>{l({type:3,buttonId:null})}},[b,r,l]);let[g]=i.useState(()=>Symbol()),E=q(c,t,Rn(),b?null:p=>{if(p)u.buttons.current.push(g);else{let h=u.buttons.current.indexOf(g);h!==-1&&u.buttons.current.splice(h,1)}u.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),p&&l({type:2,button:p})}),w=q(c,t),T=ue(c),F=P(p=>{var h,S,x;if(b){if(u.popoverState===1)return;switch(p.key){case z.Space:case z.Enter:p.preventDefault(),(S=(h=p.target).click)==null||S.call(h),l({type:1}),(x=u.button)==null||x.focus();break}}else switch(p.key){case z.Space:case z.Enter:p.preventDefault(),p.stopPropagation(),u.popoverState===1&&(d==null||d(u.buttonId)),l({type:0});break;case z.Escape:if(u.popoverState!==0)return d==null?void 0:d(u.buttonId);if(!c.current||T!=null&&T.activeElement&&!c.current.contains(T.activeElement))return;p.preventDefault(),p.stopPropagation(),l({type:1});break}}),_=P(p=>{b||p.key===z.Space&&p.preventDefault()}),W=P(p=>{var h,S;ut(p.currentTarget)||o||(b?(l({type:1}),(h=u.button)==null||h.focus()):(p.preventDefault(),p.stopPropagation(),u.popoverState===1&&(d==null||d(u.buttonId)),l({type:0}),(S=u.button)==null||S.focus()))}),H=P(p=>{p.preventDefault(),p.stopPropagation()}),{isFocusVisible:N,focusProps:B}=tn({autoFocus:a}),{isHovered:I,hoverProps:J}=en({isDisabled:o}),{pressed:k,pressProps:R}=on({disabled:o}),C=u.popoverState===0,L=i.useMemo(()=>({open:C,active:k||C,disabled:o,hover:I,focus:N,autofocus:a}),[C,I,N,k,o,a]),V=xn(e,c),K=b?Te({ref:w,type:V,onKeyDown:F,onClick:W,disabled:o||void 0,autoFocus:a},B,J,R):Te({ref:E,id:u.buttonId,type:V,"aria-expanded":u.popoverState===0,"aria-controls":u.panel?u.panelId:void 0,disabled:o||void 0,autoFocus:a,onKeyDown:F,onKeyUp:_,onClick:W,onMouseDown:H},B,J,R),U=Et(),v=P(()=>{let p=u.panel;if(!p)return;function h(){Z(U.current,{[Y.Forwards]:()=>Q(p,j.First),[Y.Backwards]:()=>Q(p,j.Last)})===he.Error&&Q(pe().filter(S=>S.dataset.headlessuiFocusGuard!=="true"),Z(U.current,{[Y.Forwards]:j.Next,[Y.Backwards]:j.Previous}),{relativeTo:u.button})}h()});return y.createElement(y.Fragment,null,X({ourProps:K,theirProps:s,slot:L,defaultTag:ur,name:"Popover.Button"}),C&&!b&&f&&y.createElement(ge,{id:$,ref:u.afterButtonSentinel,features:ce.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:v}))}let ir="div",sr=ve.RenderStrategy|ve.Static;function yt(e,t){let n=i.useId(),{id:r=`headlessui-popover-backdrop-${n}`,transition:o=!1,...a}=e,[{popoverState:s},u]=Ee("Popover.Backdrop"),l=i.useRef(null),f=q(t,l),c=Xe(),[$,m]=Je(o,l,c!==null?(c&oe.Open)===oe.Open:s===0),d=P(E=>{if(ut(E.currentTarget))return E.preventDefault();u({type:1})}),b=i.useMemo(()=>({open:s===0}),[s]),g={ref:f,id:r,"aria-hidden":!0,onClick:d,...ze(m)};return X({ourProps:g,theirProps:a,slot:b,defaultTag:ir,features:sr,visible:$,name:"Popover.Backdrop"})}let cr="div",dr=ve.RenderStrategy|ve.Static;function fr(e,t){let n=i.useId(),{id:r=`headlessui-popover-panel-${n}`,focus:o=!1,anchor:a,portal:s=!1,modal:u=!1,transition:l=!1,...f}=e,[c,$]=Ee("Popover.Panel"),{close:m,isPortalled:d}=Be("Popover.Panel"),b=`headlessui-focus-sentinel-before-${n}`,g=`headlessui-focus-sentinel-after-${n}`,E=i.useRef(null),w=On(a),[T,F]=An(w),_=Dn();w&&(s=!0);let W=q(E,t,w?T:null,v=>{$({type:4,panel:v})}),H=ue(E),N=Tt();A(()=>($({type:5,panelId:r}),()=>{$({type:5,panelId:null})}),[r,$]);let B=Xe(),[I,J]=Je(l,E,B!==null?(B&oe.Open)===oe.Open:c.popoverState===0);Ft(I,c.button,()=>{$({type:1})});let k=c.__demoMode?!1:u&&I;kn(k,H);let R=P(v=>{var p;switch(v.key){case z.Escape:if(c.popoverState!==0||!E.current||H!=null&&H.activeElement&&!E.current.contains(H.activeElement))return;v.preventDefault(),v.stopPropagation(),$({type:1}),(p=c.button)==null||p.focus();break}});i.useEffect(()=>{var v;e.static||c.popoverState===1&&((v=e.unmount)==null||v)&&$({type:4,panel:null})},[c.popoverState,e.unmount,e.static,$]),i.useEffect(()=>{if(c.__demoMode||!o||c.popoverState!==0||!E.current)return;let v=H==null?void 0:H.activeElement;E.current.contains(v)||Q(E.current,j.First)},[c.__demoMode,o,E.current,c.popoverState]);let C=i.useMemo(()=>({open:c.popoverState===0,close:m}),[c.popoverState,m]),L=Te(w?_():{},{ref:W,id:r,onKeyDown:R,onBlur:o&&c.popoverState===0?v=>{var p,h,S,x,O;let M=v.relatedTarget;M&&E.current&&((p=E.current)!=null&&p.contains(M)||($({type:1}),((S=(h=c.beforePanelSentinel.current)==null?void 0:h.contains)!=null&&S.call(h,M)||(O=(x=c.afterPanelSentinel.current)==null?void 0:x.contains)!=null&&O.call(x,M))&&M.focus({preventScroll:!0})))}:void 0,tabIndex:-1,style:{...f.style,...F,"--button-width":fn(c.button,!0).width},...ze(J)}),V=Et(),K=P(()=>{let v=E.current;if(!v)return;function p(){Z(V.current,{[Y.Forwards]:()=>{var h;Q(v,j.First)===he.Error&&((h=c.afterPanelSentinel.current)==null||h.focus())},[Y.Backwards]:()=>{var h;(h=c.button)==null||h.focus({preventScroll:!0})}})}p()}),U=P(()=>{let v=E.current;if(!v)return;function p(){Z(V.current,{[Y.Forwards]:()=>{var h;if(!c.button)return;let S=pe(),x=S.indexOf(c.button),O=S.slice(0,x+1),M=[...S.slice(x+1),...O];for(let we of M.slice())if(we.dataset.headlessuiFocusGuard==="true"||(h=c.panel)!=null&&h.contains(we)){let We=M.indexOf(we);We!==-1&&M.splice(We,1)}Q(M,j.First,{sorted:!1})},[Y.Backwards]:()=>{var h;Q(v,j.Previous)===he.Error&&((h=c.button)==null||h.focus())}})}p()});return y.createElement(xt,null,y.createElement(ye.Provider,{value:r},y.createElement($e.Provider,{value:{close:m,isPortalled:d}},y.createElement(zn,{enabled:s?e.static||I:!1},I&&d&&y.createElement(ge,{id:b,ref:c.beforePanelSentinel,features:ce.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:K}),X({mergeRefs:N,ourProps:L,theirProps:f,slot:C,defaultTag:cr,features:dr,visible:I,name:"Popover.Panel"}),I&&d&&y.createElement(ge,{id:g,ref:c.afterPanelSentinel,features:ce.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:U})))))}let pr="div";function vr(e,t){let n=i.useRef(null),r=q(n,t),[o,a]=i.useState([]),s=P(b=>{a(g=>{let E=g.indexOf(b);if(E!==-1){let w=g.slice();return w.splice(E,1),w}return g})}),u=P(b=>(a(g=>[...g,b]),()=>s(b))),l=P(()=>{var b;let g=le(n);if(!g)return!1;let E=g.activeElement;return(b=n.current)!=null&&b.contains(E)?!0:o.some(w=>{var T,F;return((T=g.getElementById(w.buttonId.current))==null?void 0:T.contains(E))||((F=g.getElementById(w.panelId.current))==null?void 0:F.contains(E))})}),f=P(b=>{for(let g of o)g.buttonId.current!==b&&g.close()}),c=i.useMemo(()=>({registerPopover:u,unregisterPopover:s,isFocusWithinPopoverGroup:l,closeOthers:f}),[u,s,l,f]),$=i.useMemo(()=>({}),[]),m=e,d={ref:r};return y.createElement(gt,null,y.createElement(_e.Provider,{value:c},X({ourProps:d,theirProps:m,slot:$,defaultTag:pr,name:"Popover.Group"})))}let mr=G(lr),br=G(ar),gr=G(yt),hr=G(yt),Er=G(fr),$r=G(vr),Cr=Object.assign(mr,{Button:br,Backdrop:hr,Overlay:gr,Panel:Er,Group:$r});export{tn as $,An as A,Dn as B,fn as C,De as D,Fn as E,j as F,Re as G,xr as H,En as I,Jn as J,Fr as K,$r as L,Er as M,gt as O,Q as P,Qn as R,br as S,ge as T,wn as _,Et as a,Y as b,Wn as c,he as d,qn as e,Ce as f,ht as g,Tn as h,kn as i,Lr as j,cn as k,Cr as l,en as m,ue as n,z as o,xn as p,Mr as q,ut as r,ce as s,zn as t,le as u,Nn as v,on as w,st as x,Rn as y,On as z};
