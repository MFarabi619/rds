import{r as i,R as p,e as X}from"./index-580b8df0.js";import{o as w,L as b,y,a as te,u as I,p as Ie,D as P,b as ne,f as pe,T as Be,e as me,l as B,m as He,j as de,C as Ne,d as W}from"./transition-3d9bc4c7.js";import{n as q,b as je,s as Y,d as V,f as O,c as z,p as K,a as re,S as C,N as We,I as k,L as Ye,o as Ve,r as _e}from"./use-event-listener-402fdd3a.js";import{r as qe}from"./index-1eb27dd0.js";function ge(e,r){let t=i.useRef([]),n=w(e);i.useEffect(()=>{let o=[...t.current];for(let[a,l]of r.entries())if(t.current[a]!==l){let u=n(r,o);return t.current=r,u}},[n,...r])}function he(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Ue(){return/Android/gi.test(window.navigator.userAgent)}function on(){return he()||Ue()}let Ge="div";var ve=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(ve||{});function Je(e,r){let t=i.useRef(null),n=y(t,r),{initialFocus:o,containers:a,features:l=30,...u}=e;te()||(l=1);let s=q(t);ze({ownerDocument:s},!!(l&16));let d=Ke({ownerDocument:s,container:t,initialFocus:o},!!(l&2));Qe({ownerDocument:s,container:t,containers:a,previousActiveElement:d},!!(l&8));let c=je(),S=w(g=>{let h=t.current;h&&(T=>T())(()=>{I(c.current,{[Y.Forwards]:()=>{V(h,O.First,{skipElements:[g.relatedTarget]})},[Y.Backwards]:()=>{V(h,O.Last,{skipElements:[g.relatedTarget]})}})})}),A=Ie(),v=i.useRef(!1),U={ref:n,onKeyDown(g){g.key=="Tab"&&(v.current=!0,A.requestAnimationFrame(()=>{v.current=!1}))},onBlur(g){let h=new Set(a==null?void 0:a.current);h.add(t);let T=g.relatedTarget;T instanceof HTMLElement&&T.dataset.headlessuiFocusGuard!=="true"&&(Ee(h,T)||(v.current?V(t.current,I(c.current,{[Y.Forwards]:()=>O.Next,[Y.Backwards]:()=>O.Previous})|O.WrapAround,{relativeTo:g.target}):g.target instanceof HTMLElement&&C(g.target)))}};return p.createElement(p.Fragment,null,!!(l&4)&&p.createElement(z,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:S,features:K.Focusable}),P({ourProps:U,theirProps:u,defaultTag:Ge,name:"FocusTrap"}),!!(l&4)&&p.createElement(z,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:S,features:K.Focusable}))}let Xe=b(Je),x=Object.assign(Xe,{features:ve});function ze({ownerDocument:e},r){let t=i.useRef(null);re(e==null?void 0:e.defaultView,"focusout",o=>{r&&(t.current||(t.current=o.target))},!0),ge(()=>{r||((e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&C(t.current),t.current=null)},[r]);let n=i.useRef(!1);i.useEffect(()=>(n.current=!1,()=>{n.current=!0,ne(()=>{n.current&&(C(t.current),t.current=null)})}),[])}function Ke({ownerDocument:e,container:r,initialFocus:t},n){let o=i.useRef(null),a=pe();return ge(()=>{if(!n)return;let l=r.current;l&&ne(()=>{if(!a.current)return;let u=e==null?void 0:e.activeElement;if(t!=null&&t.current){if((t==null?void 0:t.current)===u){o.current=u;return}}else if(l.contains(u)){o.current=u;return}t!=null&&t.current?C(t.current):V(l,O.First)===We.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),o.current=e==null?void 0:e.activeElement})},[n]),o}function Qe({ownerDocument:e,container:r,containers:t,previousActiveElement:n},o){let a=pe();re(e==null?void 0:e.defaultView,"focus",l=>{if(!o||!a.current)return;let u=new Set(t==null?void 0:t.current);u.add(r);let s=n.current;if(!s)return;let d=l.target;d&&d instanceof HTMLElement?Ee(u,d)?(n.current=d,C(d)):(l.preventDefault(),l.stopPropagation(),C(s)):C(n.current)},!0)}function Ee(e,r){var t;for(let n of e)if((t=n.current)!=null&&t.contains(r))return!0;return!1}let $e=i.createContext(!1);function Ze(){return i.useContext($e)}function Q(e){return p.createElement($e.Provider,{value:e.force},e.children)}function et(e){let r=Ze(),t=i.useContext(we),n=q(e),[o,a]=i.useState(()=>{if(!r&&t!==null||me.isServer)return null;let l=n==null?void 0:n.getElementById("headlessui-portal-root");if(l)return l;if(n===null)return null;let u=n.createElement("div");return u.setAttribute("id","headlessui-portal-root"),n.body.appendChild(u)});return i.useEffect(()=>{o!==null&&(n!=null&&n.body.contains(o)||n==null||n.body.appendChild(o))},[o,n]),i.useEffect(()=>{r||t!==null&&a(t.current)},[t,a,r]),o}let tt=i.Fragment;function nt(e,r){let t=e,n=i.useRef(null),o=y(Be(c=>{n.current=c}),r),a=q(n),l=et(n),[u]=i.useState(()=>{var c;return me.isServer?null:(c=a==null?void 0:a.createElement("div"))!=null?c:null}),s=te(),d=i.useRef(!1);return B(()=>{if(d.current=!1,!(!l||!u))return l.contains(u)||(u.setAttribute("data-headlessui-portal",""),l.appendChild(u)),()=>{d.current=!0,ne(()=>{var c;d.current&&(!l||!u||(u instanceof Node&&l.contains(u)&&l.removeChild(u),l.childNodes.length<=0&&((c=l.parentElement)==null||c.removeChild(l))))})}},[l,u]),s?!l||!u?null:qe.createPortal(P({ourProps:{ref:o},theirProps:t,defaultTag:tt,name:"Portal"}),u):null}let rt=i.Fragment,we=i.createContext(null);function ot(e,r){let{target:t,...n}=e,o={ref:y(r)};return p.createElement(we.Provider,{value:t},P({ourProps:o,theirProps:n,defaultTag:rt,name:"Popover.Group"}))}let lt=b(nt),at=b(ot),Z=Object.assign(lt,{Group:at}),be=i.createContext(null);function ye(){let e=i.useContext(be);if(e===null){let r=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(r,ye),r}return e}function ut(){let[e,r]=i.useState([]);return[e.length>0?e.join(" "):void 0,i.useMemo(()=>function(t){let n=w(a=>(r(l=>[...l,a]),()=>r(l=>{let u=l.slice(),s=u.indexOf(a);return s!==-1&&u.splice(s,1),u}))),o=i.useMemo(()=>({register:n,slot:t.slot,name:t.name,props:t.props}),[n,t.slot,t.name,t.props]);return p.createElement(be.Provider,{value:o},t.children)},[r])]}let it="p";function st(e,r){let t=k(),{id:n=`headlessui-description-${t}`,...o}=e,a=ye(),l=y(r);B(()=>a.register(n),[n,a.register]);let u={ref:l,...a.props,id:n};return P({ourProps:u,theirProps:o,slot:a.slot||{},defaultTag:it,name:a.name||"Description"})}let ct=b(st),dt=Object.assign(ct,{}),oe=i.createContext(()=>{});oe.displayName="StackContext";var ee=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(ee||{});function ft(){return i.useContext(oe)}function pt({children:e,onUpdate:r,type:t,element:n,enabled:o}){let a=ft(),l=w((...u)=>{r==null||r(...u),a(...u)});return B(()=>{let u=o===void 0||o===!0;return u&&l(0,t,n),()=>{u&&l(1,t,n)}},[l,t,n,o]),p.createElement(oe.Provider,{value:l},e)}function mt(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}const gt=typeof Object.is=="function"?Object.is:mt,{useState:ht,useEffect:vt,useLayoutEffect:Et,useDebugValue:$t}=X;function wt(e,r,t){const n=r(),[{inst:o},a]=ht({inst:{value:n,getSnapshot:r}});return Et(()=>{o.value=n,o.getSnapshot=r,G(o)&&a({inst:o})},[e,n,r]),vt(()=>(G(o)&&a({inst:o}),e(()=>{G(o)&&a({inst:o})})),[e]),$t(n),n}function G(e){const r=e.getSnapshot,t=e.value;try{const n=r();return!gt(t,n)}catch{return!0}}function bt(e,r,t){return r()}const yt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Pt=!yt,St=Pt?bt:wt,Tt="useSyncExternalStore"in X?(e=>e.useSyncExternalStore)(X):St;function Dt(e){return Tt(e.subscribe,e.getSnapshot,e.getSnapshot)}function Rt(e,r){let t=e(),n=new Set;return{getSnapshot(){return t},subscribe(o){return n.add(o),()=>n.delete(o)},dispatch(o,...a){let l=r[o].call(t,...a);l&&(t=l,n.forEach(u=>u()))}}}function Ct(){let e;return{before({doc:r}){var t;let n=r.documentElement;e=((t=r.defaultView)!=null?t:window).innerWidth-n.clientWidth},after({doc:r,d:t}){let n=r.documentElement,o=n.clientWidth-n.offsetWidth,a=e-o;t.style(n,"paddingRight",`${a}px`)}}}function Lt(){if(!he())return{};let e;return{before(){e=window.pageYOffset},after({doc:r,d:t,meta:n}){function o(l){return n.containers.flatMap(u=>u()).some(u=>u.contains(l))}t.style(r.body,"marginTop",`-${e}px`),window.scrollTo(0,0);let a=null;t.addEventListener(r,"click",l=>{if(l.target instanceof HTMLElement)try{let u=l.target.closest("a");if(!u)return;let{hash:s}=new URL(u.href),d=r.querySelector(s);d&&!o(d)&&(a=d)}catch{}},!0),t.addEventListener(r,"touchmove",l=>{l.target instanceof HTMLElement&&!o(l.target)&&l.preventDefault()},{passive:!1}),t.add(()=>{window.scrollTo(0,window.pageYOffset+e),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})}}}function Ft(){return{before({doc:e,d:r}){r.style(e.documentElement,"overflow","hidden")}}}function Ot(e){let r={};for(let t of e)Object.assign(r,t(r));return r}let R=Rt(()=>new Map,{PUSH(e,r){var t;let n=(t=this.get(e))!=null?t:{doc:e,count:0,d:He(),meta:new Set};return n.count++,n.meta.add(r),this.set(e,n),this},POP(e,r){let t=this.get(e);return t&&(t.count--,t.meta.delete(r)),this},SCROLL_PREVENT({doc:e,d:r,meta:t}){let n={doc:e,d:r,meta:Ot(t)},o=[Lt(),Ct(),Ft()];o.forEach(({before:a})=>a==null?void 0:a(n)),o.forEach(({after:a})=>a==null?void 0:a(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});R.subscribe(()=>{let e=R.getSnapshot(),r=new Map;for(let[t]of e)r.set(t,t.documentElement.style.overflow);for(let t of e.values()){let n=r.get(t.doc)==="hidden",o=t.count!==0;(o&&!n||!o&&n)&&R.dispatch(t.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",t),t.count===0&&R.dispatch("TEARDOWN",t)}});function kt(e,r,t){let n=Dt(R),o=e?n.get(e):void 0,a=o?o.count>0:!1;return B(()=>{if(!(!e||!r))return R.dispatch("PUSH",e,t),()=>R.dispatch("POP",e,t)},[r,e]),a}let J=new Map,M=new Map;function fe(e,r=!0){B(()=>{var t;if(!r)return;let n=typeof e=="function"?e():e.current;if(!n)return;function o(){var l;if(!n)return;let u=(l=M.get(n))!=null?l:1;if(u===1?M.delete(n):M.set(n,u-1),u!==1)return;let s=J.get(n);s&&(s["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",s["aria-hidden"]),n.inert=s.inert,J.delete(n))}let a=(t=M.get(n))!=null?t:0;return M.set(n,a+1),a!==0||(J.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0),o},[e,r])}var At=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(At||{}),xt=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(xt||{});let Mt={[0](e,r){return e.titleId===r.id?e:{...e,titleId:r.id}}},_=i.createContext(null);_.displayName="DialogContext";function H(e){let r=i.useContext(_);if(r===null){let t=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,H),t}return r}function It(e,r,t=()=>[document.body]){kt(e,r,n=>{var o;return{containers:[...(o=n.containers)!=null?o:[],t]}})}function Bt(e,r){return I(r.type,Mt,e,r)}let Ht="div",Nt=de.RenderStrategy|de.Static;function jt(e,r){let t=k(),{id:n=`headlessui-dialog-${t}`,open:o,onClose:a,initialFocus:l,__demoMode:u=!1,...s}=e,[d,c]=i.useState(0),S=Ne();o===void 0&&S!==null&&(o=(S&W.Open)===W.Open);let A=i.useRef(new Set),v=i.useRef(null),U=y(v,r),g=i.useRef(null),h=q(v),T=e.hasOwnProperty("open")||S!==null,le=e.hasOwnProperty("onClose");if(!T&&!le)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!T)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!le)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof o!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${o}`);if(typeof a!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${a}`);let E=o?0:1,[L,Pe]=i.useReducer(Bt,{titleId:null,descriptionId:null,panelRef:i.createRef()}),F=w(()=>a(!1)),ae=w(f=>Pe({type:0,id:f})),N=te()?u?!1:E===0:!1,j=d>1,ue=i.useContext(_)!==null,Se=j?"parent":"leaf",ie=S!==null?(S&W.Closing)===W.Closing:!1,Te=(()=>ue||ie?!1:N)(),De=i.useCallback(()=>{var f,$;return($=Array.from((f=h==null?void 0:h.querySelectorAll("body > *"))!=null?f:[]).find(m=>m.id==="headlessui-portal-root"?!1:m.contains(g.current)&&m instanceof HTMLElement))!=null?$:null},[g]);fe(De,Te);let Re=(()=>j?!0:N)(),Ce=i.useCallback(()=>{var f,$;return($=Array.from((f=h==null?void 0:h.querySelectorAll("[data-headlessui-portal]"))!=null?f:[]).find(m=>m.contains(g.current)&&m instanceof HTMLElement))!=null?$:null},[g]);fe(Ce,Re);let se=w(()=>{var f,$;return[...Array.from((f=h==null?void 0:h.querySelectorAll("html > *, body > *, [data-headlessui-portal]"))!=null?f:[]).filter(m=>!(m===document.body||m===document.head||!(m instanceof HTMLElement)||m.contains(g.current)||L.panelRef.current&&m.contains(L.panelRef.current))),($=L.panelRef.current)!=null?$:v.current]}),Le=(()=>!(!N||j))();Ye(()=>se(),F,Le);let Fe=(()=>!(j||E!==0))();re(h==null?void 0:h.defaultView,"keydown",f=>{Fe&&(f.defaultPrevented||f.key===Ve.Escape&&(f.preventDefault(),f.stopPropagation(),F()))});let Oe=(()=>!(ie||E!==0||ue))();It(h,Oe,se),i.useEffect(()=>{if(E!==0||!v.current)return;let f=new ResizeObserver($=>{for(let m of $){let D=m.target.getBoundingClientRect();D.x===0&&D.y===0&&D.width===0&&D.height===0&&F()}});return f.observe(v.current),()=>f.disconnect()},[E,v,F]);let[ke,Ae]=ut(),xe=i.useMemo(()=>[{dialogState:E,close:F,setTitleId:ae},L],[E,L,F,ae]),ce=i.useMemo(()=>({open:E===0}),[E]),Me={ref:U,id:n,role:"dialog","aria-modal":E===0?!0:void 0,"aria-labelledby":L.titleId,"aria-describedby":ke};return p.createElement(pt,{type:"Dialog",enabled:E===0,element:v,onUpdate:w((f,$,m)=>{$==="Dialog"&&I(f,{[ee.Add](){A.current.add(m),c(D=>D+1)},[ee.Remove](){A.current.add(m),c(D=>D-1)}})})},p.createElement(Q,{force:!0},p.createElement(Z,null,p.createElement(_.Provider,{value:xe},p.createElement(Z.Group,{target:v},p.createElement(Q,{force:!1},p.createElement(Ae,{slot:ce,name:"Dialog.Description"},p.createElement(x,{initialFocus:l,containers:A,features:N?I(Se,{parent:x.features.RestoreFocus,leaf:x.features.All&~x.features.FocusLock}):x.features.None},P({ourProps:Me,theirProps:s,slot:ce,defaultTag:Ht,features:Nt,visible:E===0,name:"Dialog"})))))))),p.createElement(z,{features:K.Hidden,ref:g}))}let Wt="div";function Yt(e,r){let t=k(),{id:n=`headlessui-dialog-overlay-${t}`,...o}=e,[{dialogState:a,close:l}]=H("Dialog.Overlay"),u=y(r),s=w(c=>{if(c.target===c.currentTarget){if(_e(c.currentTarget))return c.preventDefault();c.preventDefault(),c.stopPropagation(),l()}}),d=i.useMemo(()=>({open:a===0}),[a]);return P({ourProps:{ref:u,id:n,"aria-hidden":!0,onClick:s},theirProps:o,slot:d,defaultTag:Wt,name:"Dialog.Overlay"})}let Vt="div";function _t(e,r){let t=k(),{id:n=`headlessui-dialog-backdrop-${t}`,...o}=e,[{dialogState:a},l]=H("Dialog.Backdrop"),u=y(r);i.useEffect(()=>{if(l.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[l.panelRef]);let s=i.useMemo(()=>({open:a===0}),[a]);return p.createElement(Q,{force:!0},p.createElement(Z,null,P({ourProps:{ref:u,id:n,"aria-hidden":!0},theirProps:o,slot:s,defaultTag:Vt,name:"Dialog.Backdrop"})))}let qt="div";function Ut(e,r){let t=k(),{id:n=`headlessui-dialog-panel-${t}`,...o}=e,[{dialogState:a},l]=H("Dialog.Panel"),u=y(r,l.panelRef),s=i.useMemo(()=>({open:a===0}),[a]),d=w(c=>{c.stopPropagation()});return P({ourProps:{ref:u,id:n,onClick:d},theirProps:o,slot:s,defaultTag:qt,name:"Dialog.Panel"})}let Gt="h2";function Jt(e,r){let t=k(),{id:n=`headlessui-dialog-title-${t}`,...o}=e,[{dialogState:a,setTitleId:l}]=H("Dialog.Title"),u=y(r);i.useEffect(()=>(l(n),()=>l(null)),[n,l]);let s=i.useMemo(()=>({open:a===0}),[a]);return P({ourProps:{ref:u,id:n},theirProps:o,slot:s,defaultTag:Gt,name:"Dialog.Title"})}let Xt=b(jt),zt=b(_t),Kt=b(Ut),Qt=b(Yt),Zt=b(Jt),ln=Object.assign(Xt,{Backdrop:zt,Panel:Kt,Overlay:Qt,Title:Zt,Description:dt});export{ln as F,ge as m,on as n};
//# sourceMappingURL=dialog-77319903.js.map
