import{j as t}from"./jsx-runtime-Nms4Y4qS.js";import{r as n}from"./index-BwDkhjyp.js";import{F as S}from"./ChevronDownIcon-gc4pqSrO.js";function E({title:r,titleId:a,...s},i){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":a},s),r?n.createElement("title",{id:a},r):null,n.createElement("path",{fillRule:"evenodd",d:"M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z",clipRule:"evenodd"}))}const R=n.forwardRef(E);function N({title:r,titleId:a,...s},i){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":a},s),r?n.createElement("title",{id:a},r):null,n.createElement("path",{fillRule:"evenodd",d:"M9.47 6.47a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 1 1-1.06 1.06L10 8.06l-3.72 3.72a.75.75 0 0 1-1.06-1.06l4.25-4.25Z",clipRule:"evenodd"}))}const $=n.forwardRef(N),b={tableGlobal:"p-3 md:p-4 text-left align-text-top",tableHeaderRow:"font-semibold text-sm md:text-base",tableBodyRow:"text-sm md:text-base",borders:"border-b border-cu-black-100 last:border-none",striped:"odd:bg-white even:bg-cu-black-25",cellWidth:"min-w-48"},T=({columns:r,noWordBreak:a,sortData:s})=>{const[i,l]=n.useState(!0),[d,c]=n.useState(""),u=a?"whitespace-nowrap":"",o=e=>{const m=e;let f=!0;e===d&&(f=!i),c(m),l(f),s(m,f)},p=n.useRef(!1);n.useEffect(()=>{if(!p.current){const e=r.find(m=>m.default);e&&(c(e.key),l((e==null?void 0:e.order)==="ascending"),s(e.key,(e==null?void 0:e.order)==="ascending")),p.current=!0}},[r,s]);const g=r.map((e,m)=>{var y,h,w,x,v;const f=(y=e==null?void 0:e.sort)!=null&&y.sortable?"hover:cursor-pointer":"hover:cursor-auto";return t.jsx("th",{scope:"col",className:`${b.tableGlobal} ${b.tableHeaderRow} ${f} ${u} ${e.header.length>20?b.cellWidth:""}`,onClick:()=>{var k;return(k=e==null?void 0:e.sort)!=null&&k.sortable?o(e.key):void 0},"aria-sort":e.key===d&&i?"descending":e.key===d&&!i?"ascending":void 0,children:(h=e.sort)!=null&&h.sortable?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{children:e.header}),e.key===d&&i?t.jsx("button",{className:"block w-4 h-full ml-2","aria-label":(w=e==null?void 0:e.sort)!=null&&w.sortable?"Sort "+e.key+" by ascending order":void 0,children:t.jsx(S,{className:"inline-block"})}):e.key===d&&!i?t.jsx("button",{className:"block w-4 h-full ml-2","aria-label":(x=e==null?void 0:e.sort)!=null&&x.sortable?"Sort "+e.key+" by descending order":void 0,children:t.jsx($,{className:"inline-block"})}):t.jsx("button",{className:"block w-4 h-full ml-2","aria-label":(v=e==null?void 0:e.sort)!=null&&v.sortable?"Sort by "+e.key:void 0,children:t.jsx(R,{className:"inline-block"})})]}):e.header},`headerCell-${m}`)});return t.jsx("thead",{className:"border-b border-cu-black-200 bg-cu-black-50",children:t.jsx("tr",{children:g})})};T.__docgenInfo={description:"",methods:[],displayName:"TableHeader",props:{columns:{required:!0,tsType:{name:"Array",elements:[{name:"ColumnDefinitionType"}],raw:"ColumnDefinitionType[]"},description:""},noWordBreak:{required:!0,tsType:{name:"boolean"},description:""},sortData:{required:!0,tsType:{name:"signature",type:"function",raw:"(a: string, s: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"a"},{type:{name:"boolean"},name:"s"}],return:{name:"void"}}},description:""}}};const j=({data:r,columns:a,striped:s})=>{const i=s?`${b.striped} ${b.borders}`:b.borders,l=r.map((d,c)=>t.jsx("tr",{className:i,children:a.map((u,o)=>{const p=d[u.key],g=typeof p=="string"&&p.length>20;return t.jsx("td",{className:`${b.tableGlobal} ${b.tableBodyRow} ${g?b.cellWidth:""}`,children:p},`cell-${o}`)})},`row-${c}`));return t.jsx("tbody",{children:l})};j.__docgenInfo={description:"",methods:[],displayName:"TableRows",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  [k: string]: string | number | JSX.Element
}`,signature:{properties:[{key:{name:"string"},value:{name:"union",raw:"string | number | JSX.Element",elements:[{name:"string"},{name:"number"},{name:"JSX.Element"}],required:!0}}]}}],raw:`{
  [k: string]: string | number | JSX.Element
}[]`},description:""},columns:{required:!0,tsType:{name:"Array",elements:[{name:"ColumnDefinitionType"}],raw:"ColumnDefinitionType[]"},description:""},striped:{required:!0,tsType:{name:"boolean"},description:""},range:{required:!0,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:""}}};const q=r=>{const[a,s]=n.useState(r);return n.useEffect(()=>{s(r)},[r]),[a,(l,d)=>{if(l){const c=[...a].sort((u,o)=>u[l]===null?1:o[l]===null?-1:u[l]===null&&o[l]===null?0:u[l].toString().localeCompare(o[l].toString(),"en",{numeric:!0})*(d?1:-1));s(c)}}]},D=({data:r,columns:a,hasStripes:s=!1,noWordBreak:i=!1,range:l=[1,-1]})=>{const[d,c]=q(r),u=n.useRef(!1);return n.useEffect(()=>{if(!u.current){const o=a.find(p=>p.default);o&&c(o.key,(o==null?void 0:o.order)==="ascending"),u.current=!0}},[a,c]),t.jsx("div",{className:"cu-table cu-component not-prose overflow-x-auto rounded-lg shadow-lg",children:t.jsxs("table",{className:"min-w-full table-auto cu-table",children:[t.jsx(T,{columns:a,noWordBreak:i,sortData:c}),t.jsx(j,{data:d,columns:a,striped:s,range:l})]})})};D.__docgenInfo={description:"",methods:[],displayName:"Table",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  [k: string]: string | number | JSX.Element
}`,signature:{properties:[{key:{name:"string"},value:{name:"union",raw:"string | number | JSX.Element",elements:[{name:"string"},{name:"number"},{name:"JSX.Element"}],required:!0}}]}}],raw:`{
  [k: string]: string | number | JSX.Element
}[]`},description:""},columns:{required:!0,tsType:{name:"Array",elements:[{name:"ColumnDefinitionType"}],raw:"ColumnDefinitionType[]"},description:""},hasStripes:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},noWordBreak:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},range:{required:!1,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:"",defaultValue:{value:"[1, -1]",computed:!1}}}};export{D as T};
