import{a as h,j as t}from"./jsx-runtime-9d2cd5de.js";import{r as y}from"./index-580b8df0.js";import{C as q,a as E}from"./index-31110fe0.js";import{B as O}from"./Button-6d79f42e.js";import{r as g,t as i,s as R}from"./index-9180d5e9.js";import{f,p as $}from"./index-f3821225.js";import{e as A,a as N}from"./index-aff6d42c.js";import{i as v}from"./index-ac9ed659.js";import{p as B}from"./index-bdbff7f3.js";const M={prevNextArrows:"flex items-center justify-center flex-none p-2 text-cu-black-300 hover:text-cu-red",calendarGrid:"grid grid-cols-7 gap-px mt-4 text-center"};function F(r,s){var n;g(1,arguments);var o=r||{},a=i(o.start),b=i(o.end),x=b.getTime();if(!(a.getTime()<=x))throw new RangeError("Invalid interval");var p=[],l=a;l.setHours(0,0,0,0);var m=Number((n=s==null?void 0:s.step)!==null&&n!==void 0?n:1);if(m<1||isNaN(m))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=x;)p.push(i(l)),l.setDate(l.getDate()+m),l.setHours(0,0,0,0);return p}function G(r){g(1,arguments);var s=i(r),n=s.getDay();return n}function L(r,s){g(2,arguments);var n=i(r),o=i(s);return n.getTime()<o.getTime()}function c(r,s){g(2,arguments);var n=i(r),o=i(s);return n.getTime()===o.getTime()}function w(r,s){g(2,arguments);var n=i(r),o=i(s);return n.getFullYear()===o.getFullYear()&&n.getMonth()===o.getMonth()}function d(r){return g(1,arguments),v(r,Date.now())}function V(){return R(Date.now())}const D=(...r)=>r.filter(Boolean).join(" "),C=({events:r,callback:s,defaultDate:n})=>{const o=V(),[a,b]=y.useState(n?new Date(n):new Date),[x,p]=y.useState(f(o,"MMM-yyyy")),[l,m]=y.useState(!1),u=$(x,"MMM-yyyy",new Date),k=["","col-start-2","col-start-3","col-start-4","col-start-5","col-start-6","col-start-7"],T=F({start:u,end:A(u)}),S=()=>{const e=N(u,{months:-1});p(f(e,"MMM-yyyy"))},_=()=>{const e=N(u,{months:1});p(f(e,"MMM-yyyy"))};return y.useEffect(()=>{s(a)},[a,s]),h("div",{className:"not-prose",children:[h("div",{className:"not-prose mb-6 flex items-center rounded-lg border border-cu-black-100 bg-white py-2",children:[h("button",{type:"button",onClick:S,className:`${M.prevNextArrows}`,children:[t("span",{className:"sr-only",children:"Previous month"}),t(q,{className:"h-5 w-5","aria-hidden":"true"})]}),t("h2",{className:"flex-auto text-center text-base font-semibold text-cu-black-900",children:f(u,"MMMM yyyy")}),h("button",{onClick:_,type:"button",className:`${M.prevNextArrows}`,children:[t("span",{className:"sr-only",children:"Next month"}),t(E,{className:"h-5 w-5","aria-hidden":"true"})]})]}),h("div",{className:`${M.calendarGrid} text-xs text-cu-black-600`,children:[t("div",{children:"S"}),t("div",{children:"M"}),t("div",{children:"T"}),t("div",{children:"W"}),t("div",{children:"T"}),t("div",{children:"F"}),t("div",{children:"S"})]}),t("div",{className:`${M.calendarGrid} isolate overflow-hidden rounded-lg border border-cu-black-100 bg-cu-black-100 text-sm`,children:T.map((e,j)=>h("div",{className:D(j===0&&k[G(e)],"bg-white py-2"),children:[t("button",{type:"button",disabled:L(e,o),onClick:()=>{b(e),m(!0)},className:D(c(e,a)&&"text-white",v(e,a)&&"text-white",!c(e,a)&&d(e)&&"text-cu-red",!c(e,a)&&!d(e)&&w(e,u)&&"text-cu-black-900",!c(e,a)&&!d(e)&&!w(e,u)&&"text-cu-black-400",c(e,a)&&d(e)&&"bg-cu-red",c(e,a)&&!d(e)&&"bg-cu-red",v(e,a)&&d(e)&&"bg-cu-red",v(e,a)&&!d(e)&&"bg-cu-red",!c(e,a)&&"hover:bg-cu-red hover:text-white",(c(e,a)||d(e))&&"font-semibold","mx-auto flex h-8 w-8 items-center justify-center rounded-full disabled:bg-cu-black-50"),children:t("time",{dateTime:f(e,"yyyy-MM-dd"),children:f(e,"d")})}),t("div",{className:"mx-auto mt-1 h-1 w-1",children:(r==null?void 0:r.some(I=>v(B(I.startDatetime),e)))&&t("div",{className:"h-1 w-1 rounded-full bg-sky-500"})})]},e.toString()))}),l&&t("div",{className:"mt-2",children:t(O,{title:"Clear Calendar",isCenter:!0,isSmall:!0,onClick:()=>{b(new Date),m(!1)}})})]})};try{C.displayName="Calendar",C.__docgenInfo={description:"",displayName:"Calendar",props:{events:{defaultValue:null,description:"",name:"events",required:!1,type:{name:"{ id: number; name: string; imageUrl: string; startDatetime: string; endDatetime: string; }[]"}},callback:{defaultValue:null,description:"",name:"callback",required:!0,type:{name:"(d: Date) => void"}},defaultDate:{defaultValue:null,description:"",name:"defaultDate",required:!1,type:{name:"string"}}}}}catch{}export{C};
//# sourceMappingURL=Calendar-fbde16dd.js.map
