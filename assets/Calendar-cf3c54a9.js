import{j as l}from"./jsx-runtime-daf202a7.js";import{r as f}from"./index-ec8b93d8.js";import{B as Y}from"./Button-9a118519.js";import{r as h,t as m,a as g,_ as z,i as b,m as U,b as E,s as W,f as N,p as A}from"./index-ee226d2b.js";function L({title:t,titleId:e,...r},a){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":e},r),t?f.createElement("title",{id:e},t):null,f.createElement("path",{fillRule:"evenodd",d:"M7.72 12.53a.75.75 0 010-1.06l7.5-7.5a.75.75 0 111.06 1.06L9.31 12l6.97 6.97a.75.75 0 11-1.06 1.06l-7.5-7.5z",clipRule:"evenodd"}))}const B=f.forwardRef(L),H=B;function Z({title:t,titleId:e,...r},a){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":e},r),t?f.createElement("title",{id:e},t):null,f.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z",clipRule:"evenodd"}))}const q=f.forwardRef(Z),G=q,M={prevNextArrows:"flex items-center justify-center flex-none p-2 text-cu-black-800 hover:text-cu-red",calendarGrid:"grid grid-cols-7 gap-px mt-4 text-center"};function V(t,e){h(2,arguments);var r=m(t),a=g(e);return isNaN(a)?new Date(NaN):(a&&r.setDate(r.getDate()+a),r)}function J(t,e){h(2,arguments);var r=m(t),a=g(e);if(isNaN(a))return new Date(NaN);if(!a)return r;var n=r.getDate(),i=new Date(r.getTime());i.setMonth(r.getMonth()+a+1,0);var d=i.getDate();return n>=d?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}function R(t,e){if(h(2,arguments),!e||z(e)!=="object")return new Date(NaN);var r=e.years?g(e.years):0,a=e.months?g(e.months):0,n=e.weeks?g(e.weeks):0,i=e.days?g(e.days):0,d=e.hours?g(e.hours):0,v=e.minutes?g(e.minutes):0,o=e.seconds?g(e.seconds):0,c=m(t),u=a||r?J(c,a+r*12):c,D=i||n?V(u,i+n*7):u,T=v+d*60,j=o+T*60,C=j*1e3,s=new Date(D.getTime()+C);return s}function P(t){h(1,arguments);var e=m(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function K(t,e){var r;h(1,arguments);var a=t||{},n=m(a.start),i=m(a.end),d=i.getTime();if(!(n.getTime()<=d))throw new RangeError("Invalid interval");var v=[],o=n;o.setHours(0,0,0,0);var c=Number((r=e==null?void 0:e.step)!==null&&r!==void 0?r:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;o.getTime()<=d;)v.push(m(o)),o.setDate(o.getDate()+c),o.setHours(0,0,0,0);return v}function Q(t){h(1,arguments);var e=m(t),r=e.getDay();return r}function X(t,e){h(2,arguments);var r=m(t),a=m(e);return r.getTime()<a.getTime()}function p(t,e){h(2,arguments);var r=m(t),a=m(e);return r.getTime()===a.getTime()}function S(t,e){h(2,arguments);var r=m(t),a=m(e);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function x(t){return h(1,arguments),b(t,Date.now())}function ee(t,e){var r;h(1,arguments);var a=g((r=e==null?void 0:e.additionalDigits)!==null&&r!==void 0?r:2);if(a!==2&&a!==1&&a!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var n=ne(t),i;if(n.date){var d=se(n.date,a);i=ie(d.restDateString,d.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var v=i.getTime(),o=0,c;if(n.time&&(o=le(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(c=oe(n.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(v+o),D=new Date(0);return D.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),D.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),D}return new Date(v+o+c)}var y={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},te=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,re=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ae=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ne(t){var e={},r=t.split(y.dateTimeDelimiter),a;if(r.length>2)return e;if(/:/.test(r[0])?a=r[0]:(e.date=r[0],a=r[1],y.timeZoneDelimiter.test(e.date)&&(e.date=t.split(y.timeZoneDelimiter)[0],a=t.substr(e.date.length,t.length))),a){var n=y.timezone.exec(a);n?(e.time=a.replace(n[1],""),e.timezone=n[1]):e.time=a}return e}function se(t,e){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),a=t.match(r);if(!a)return{year:NaN,restDateString:""};var n=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:i===null?n:i*100,restDateString:t.slice((a[1]||a[2]).length)}}function ie(t,e){if(e===null)return new Date(NaN);var r=t.match(te);if(!r)return new Date(NaN);var a=!!r[4],n=w(r[1]),i=w(r[2])-1,d=w(r[3]),v=w(r[4]),o=w(r[5])-1;if(a)return ve(e,v,o)?ue(e,v,o):new Date(NaN);var c=new Date(0);return!de(e,i,d)||!me(e,n)?new Date(NaN):(c.setUTCFullYear(e,i,Math.max(n,d)),c)}function w(t){return t?parseInt(t):1}function le(t){var e=t.match(re);if(!e)return NaN;var r=k(e[1]),a=k(e[2]),n=k(e[3]);return fe(r,a,n)?r*U+a*E+n*1e3:NaN}function k(t){return t&&parseFloat(t.replace(",","."))||0}function oe(t){if(t==="Z")return 0;var e=t.match(ae);if(!e)return 0;var r=e[1]==="+"?-1:1,a=parseInt(e[2]),n=e[3]&&parseInt(e[3])||0;return he(a,n)?r*(a*U+n*E):NaN}function ue(t,e,r){var a=new Date(0);a.setUTCFullYear(t,0,4);var n=a.getUTCDay()||7,i=(e-1)*7+r+1-n;return a.setUTCDate(a.getUTCDate()+i),a}var ce=[31,null,31,30,31,30,31,31,30,31,30,31];function F(t){return t%400===0||t%4===0&&t%100!==0}function de(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(ce[e]||(F(t)?29:28))}function me(t,e){return e>=1&&e<=(F(t)?366:365)}function ve(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function fe(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function he(t,e){return e>=0&&e<=59}function ge(){return W(Date.now())}const I=(...t)=>t.filter(Boolean).join(" "),O=({events:t,callback:e,defaultDate:r})=>{const a=ge(),[n,i]=f.useState(r?new Date(r):new Date),[d,v]=f.useState(N(a,"MMM-yyyy")),[o,c]=f.useState(!1),u=A(d,"MMM-yyyy",new Date),D=["","col-start-2","col-start-3","col-start-4","col-start-5","col-start-6","col-start-7"],T=K({start:u,end:P(u)}),j=()=>{const s=R(u,{months:-1});v(N(s,"MMM-yyyy"))},C=()=>{const s=R(u,{months:1});v(N(s,"MMM-yyyy"))};return f.useEffect(()=>{e(n)},[n,e]),l.jsxs("div",{className:"cu-calendar not-prose",children:[l.jsxs("div",{className:"not-prose mb-6 flex items-center rounded-lg border border-cu-black-100 bg-white py-2",children:[l.jsxs("button",{type:"button",onClick:j,className:`${M.prevNextArrows}`,children:[l.jsx("span",{className:"sr-only text-base",children:"Previous month"}),l.jsx(H,{className:"h-5 w-5","aria-hidden":"true"})]}),l.jsx("h2",{className:"flex-auto text-center text-base font-semibold text-cu-black-900",children:N(u,"MMMM yyyy")}),l.jsxs("button",{onClick:C,type:"button",className:`${M.prevNextArrows}`,children:[l.jsx("span",{className:"sr-only text-base",children:"Next month"}),l.jsx(G,{className:"h-5 w-5","aria-hidden":"true"})]})]}),l.jsxs("div",{className:`${M.calendarGrid} text-xs text-cu-black-600`,children:[l.jsx("div",{children:"S"}),l.jsx("div",{children:"M"}),l.jsx("div",{children:"T"}),l.jsx("div",{children:"W"}),l.jsx("div",{children:"T"}),l.jsx("div",{children:"F"}),l.jsx("div",{children:"S"})]}),l.jsx("div",{className:`${M.calendarGrid} isolate overflow-hidden rounded-lg border border-cu-black-100 bg-cu-black-50 text-sm`,children:T.map((s,_)=>l.jsxs("div",{className:I(_===0&&D[Q(s)],"bg-white py-2"),children:[l.jsx("button",{type:"button",disabled:X(s,a),onClick:()=>{i(s),c(!0)},className:I(p(s,n)&&"text-white",b(s,n)&&"text-white",!p(s,n)&&x(s)&&"text-cu-red",!p(s,n)&&!x(s)&&S(s,u)&&"text-cu-black-900",!p(s,n)&&!x(s)&&!S(s,u)&&"text-cu-black-400",p(s,n)&&x(s)&&"bg-cu-red",p(s,n)&&!x(s)&&"bg-cu-red",b(s,n)&&x(s)&&"bg-cu-red",b(s,n)&&!x(s)&&"bg-cu-red",!p(s,n)&&"hover:bg-cu-red hover:text-white",(p(s,n)||x(s))&&"font-semibold","mx-auto flex h-8 w-8 items-center justify-center rounded-full disabled:bg-cu-black-50 disabled:text-cu-black-900"),children:l.jsx("time",{dateTime:N(s,"yyyy-MM-dd"),children:N(s,"d")})}),l.jsx("div",{className:"mx-auto mt-1 h-1 w-1",children:(t==null?void 0:t.some($=>b(ee($.startDatetime),s)))&&l.jsx("div",{className:"h-1 w-1 rounded-full bg-sky-500"})})]},s.toString()))}),o&&l.jsx("div",{className:"mt-2",children:l.jsx(Y,{title:"Clear Calendar",isCenter:!0,isSmall:!0,onClick:()=>{i(new Date),c(!1)}})})]})};try{O.displayName="Calendar",O.__docgenInfo={description:"",displayName:"Calendar",props:{events:{defaultValue:null,description:"",name:"events",required:!1,type:{name:"{ id: number; name: string; imageUrl: string; startDatetime: string; endDatetime: string; }[]"}},callback:{defaultValue:null,description:"",name:"callback",required:!0,type:{name:"(d: Date) => void"}},defaultDate:{defaultValue:null,description:"",name:"defaultDate",required:!1,type:{name:"string"}}}}}catch{}export{O as C};
//# sourceMappingURL=Calendar-cf3c54a9.js.map
