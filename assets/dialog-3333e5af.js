import{r as u,R as c,e as Q}from"./index-37ba2b57.js";import{D as L,y as P,b as de,o as $,u as x,p as Ne,X as C,e as fe,l as q,a as pe,S as ie,C as He,d as j}from"./open-closed-452e92a4.js";import{n as me,O as V,M,c as ue,p as se,y as D,N as We,I as k,h as Ye,o as je,r as _e}from"./use-owner-127f86a6.js";import{n as Ve,s as _,c as Ue,E as ge,a as qe,j as Xe,P as Z,p as K}from"./use-root-containers-6a924b7d.js";import{f as ve}from"./transition-85fd6845.js";import{m as te,t as ze}from"./platform-c0b4c731.js";function Ge(e){function n(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",n))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",n),n())}function he(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let n=new Set;for(let t of e.current)t.current instanceof HTMLElement&&n.add(t.current);return n}let Je="div";var Ee=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(Ee||{});function Qe(e,n){let t=u.useRef(null),r=P(t,n),{initialFocus:l,containers:o,features:a=30,...i}=e;de()||(a=1);let s=me(t);et({ownerDocument:s},!!(a&16));let d=tt({ownerDocument:s,container:t,initialFocus:l},!!(a&2));nt({ownerDocument:s,container:t,containers:o,previousActiveElement:d},!!(a&8));let m=Ve(),O=$(f=>{let E=t.current;E&&(b=>b())(()=>{x(m.current,{[_.Forwards]:()=>{V(E,M.First,{skipElements:[f.relatedTarget]})},[_.Backwards]:()=>{V(E,M.Last,{skipElements:[f.relatedTarget]})}})})}),T=Ne(),g=u.useRef(!1),X={ref:r,onKeyDown(f){f.key=="Tab"&&(g.current=!0,T.requestAnimationFrame(()=>{g.current=!1}))},onBlur(f){let E=he(o);t.current instanceof HTMLElement&&E.add(t.current);let b=f.relatedTarget;b instanceof HTMLElement&&b.dataset.headlessuiFocusGuard!=="true"&&(we(E,b)||(g.current?V(t.current,x(m.current,{[_.Forwards]:()=>M.Next,[_.Backwards]:()=>M.Previous})|M.WrapAround,{relativeTo:f.target}):f.target instanceof HTMLElement&&D(f.target)))}};return c.createElement(c.Fragment,null,!!(a&4)&&c.createElement(ue,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:O,features:se.Focusable}),C({ourProps:X,theirProps:i,defaultTag:Je,name:"FocusTrap"}),!!(a&4)&&c.createElement(ue,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:O,features:se.Focusable}))}let Ze=L(Qe),F=Object.assign(Ze,{features:Ee}),y=[];Ge(()=>{function e(n){n.target instanceof HTMLElement&&n.target!==document.body&&y[0]!==n.target&&(y.unshift(n.target),y=y.filter(t=>t!=null&&t.isConnected),y.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function Ke(e=!0){let n=u.useRef(y.slice());return te(([t],[r])=>{r===!0&&t===!1&&fe(()=>{n.current.splice(0)}),r===!1&&t===!0&&(n.current=y.slice())},[e,y,n]),$(()=>{var t;return(t=n.current.find(r=>r!=null&&r.isConnected))!=null?t:null})}function et({ownerDocument:e},n){let t=Ke(n);te(()=>{n||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&D(t())},[n]),Ue(()=>{n&&D(t())})}function tt({ownerDocument:e,container:n,initialFocus:t},r){let l=u.useRef(null),o=ve();return te(()=>{if(!r)return;let a=n.current;a&&fe(()=>{if(!o.current)return;let i=e==null?void 0:e.activeElement;if(t!=null&&t.current){if((t==null?void 0:t.current)===i){l.current=i;return}}else if(a.contains(i)){l.current=i;return}t!=null&&t.current?D(t.current):V(a,M.First)===We.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),l.current=e==null?void 0:e.activeElement})},[r]),l}function nt({ownerDocument:e,container:n,containers:t,previousActiveElement:r},l){let o=ve();ge(e==null?void 0:e.defaultView,"focus",a=>{if(!l||!o.current)return;let i=he(t);n.current instanceof HTMLElement&&i.add(n.current);let s=r.current;if(!s)return;let d=a.target;d&&d instanceof HTMLElement?we(i,d)?(r.current=d,D(d)):(a.preventDefault(),a.stopPropagation(),D(s)):D(r.current)},!0)}function we(e,n){for(let t of e)if(t.contains(n))return!0;return!1}let $e=u.createContext(null);function be(){let e=u.useContext($e);if(e===null){let n=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,be),n}return e}function rt(){let[e,n]=u.useState([]);return[e.length>0?e.join(" "):void 0,u.useMemo(()=>function(t){let r=$(o=>(n(a=>[...a,o]),()=>n(a=>{let i=a.slice(),s=i.indexOf(o);return s!==-1&&i.splice(s,1),i}))),l=u.useMemo(()=>({register:r,slot:t.slot,name:t.name,props:t.props}),[r,t.slot,t.name,t.props]);return c.createElement($e.Provider,{value:l},t.children)},[n])]}let ot="p";function at(e,n){let t=k(),{id:r=`headlessui-description-${t}`,...l}=e,o=be(),a=P(n);q(()=>o.register(r),[r,o.register]);let i={ref:a,...o.props,id:r};return C({ourProps:i,theirProps:l,slot:o.slot||{},defaultTag:ot,name:o.name||"Description"})}let lt=L(at),it=Object.assign(lt,{}),ne=u.createContext(()=>{});ne.displayName="StackContext";var ee=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(ee||{});function ut(){return u.useContext(ne)}function st({children:e,onUpdate:n,type:t,element:r,enabled:l}){let o=ut(),a=$((...i)=>{n==null||n(...i),o(...i)});return q(()=>{let i=l===void 0||l===!0;return i&&a(0,t,r),()=>{i&&a(1,t,r)}},[a,t,r,l]),c.createElement(ne.Provider,{value:a},e)}function ct(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}const dt=typeof Object.is=="function"?Object.is:ct,{useState:ft,useEffect:pt,useLayoutEffect:mt,useDebugValue:gt}=Q;function vt(e,n,t){const r=n(),[{inst:l},o]=ft({inst:{value:r,getSnapshot:n}});return mt(()=>{l.value=r,l.getSnapshot=n,G(l)&&o({inst:l})},[e,r,n]),pt(()=>(G(l)&&o({inst:l}),e(()=>{G(l)&&o({inst:l})})),[e]),gt(r),r}function G(e){const n=e.getSnapshot,t=e.value;try{const r=n();return!dt(t,r)}catch{return!0}}function ht(e,n,t){return n()}const Et=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wt=!Et,$t=wt?ht:vt,bt="useSyncExternalStore"in Q?(e=>e.useSyncExternalStore)(Q):$t;function yt(e){return bt(e.subscribe,e.getSnapshot,e.getSnapshot)}function Tt(e,n){let t=e(),r=new Set;return{getSnapshot(){return t},subscribe(l){return r.add(l),()=>r.delete(l)},dispatch(l,...o){let a=n[l].call(t,...o);a&&(t=a,r.forEach(i=>i()))}}}function St(){let e;return{before({doc:n}){var t;let r=n.documentElement;e=((t=n.defaultView)!=null?t:window).innerWidth-r.clientWidth},after({doc:n,d:t}){let r=n.documentElement,l=r.clientWidth-r.offsetWidth,o=e-l;t.style(r,"paddingRight",`${o}px`)}}}function Dt(){if(!ze())return{};let e;return{before(){e=window.pageYOffset},after({doc:n,d:t,meta:r}){function l(o){return r.containers.flatMap(a=>a()).some(a=>a.contains(o))}t.microTask(()=>{if(window.getComputedStyle(n.documentElement).scrollBehavior!=="auto"){let a=pe();a.style(n.documentElement,"scroll-behavior","auto"),t.add(()=>t.microTask(()=>a.dispose()))}t.style(n.body,"marginTop",`-${e}px`),window.scrollTo(0,0);let o=null;t.addEventListener(n,"click",a=>{if(a.target instanceof HTMLElement)try{let i=a.target.closest("a");if(!i)return;let{hash:s}=new URL(i.href),d=n.querySelector(s);d&&!l(d)&&(o=d)}catch{}},!0),t.addEventListener(n,"touchmove",a=>{a.target instanceof HTMLElement&&!l(a.target)&&a.preventDefault()},{passive:!1}),t.add(()=>{window.scrollTo(0,window.pageYOffset+e),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}}function Lt(){return{before({doc:e,d:n}){n.style(e.documentElement,"overflow","hidden")}}}function Pt(e){let n={};for(let t of e)Object.assign(n,t(n));return n}let S=Tt(()=>new Map,{PUSH(e,n){var t;let r=(t=this.get(e))!=null?t:{doc:e,count:0,d:pe(),meta:new Set};return r.count++,r.meta.add(n),this.set(e,r),this},POP(e,n){let t=this.get(e);return t&&(t.count--,t.meta.delete(n)),this},SCROLL_PREVENT({doc:e,d:n,meta:t}){let r={doc:e,d:n,meta:Pt(t)},l=[Dt(),St(),Lt()];l.forEach(({before:o})=>o==null?void 0:o(r)),l.forEach(({after:o})=>o==null?void 0:o(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});S.subscribe(()=>{let e=S.getSnapshot(),n=new Map;for(let[t]of e)n.set(t,t.documentElement.style.overflow);for(let t of e.values()){let r=n.get(t.doc)==="hidden",l=t.count!==0;(l&&!r||!l&&r)&&S.dispatch(t.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",t),t.count===0&&S.dispatch("TEARDOWN",t)}});function Ct(e,n,t){let r=yt(S),l=e?r.get(e):void 0,o=l?l.count>0:!1;return q(()=>{if(!(!e||!n))return S.dispatch("PUSH",e,t),()=>S.dispatch("POP",e,t)},[n,e]),o}let J=new Map,A=new Map;function ce(e,n=!0){q(()=>{var t;if(!n)return;let r=typeof e=="function"?e():e.current;if(!r)return;function l(){var a;if(!r)return;let i=(a=A.get(r))!=null?a:1;if(i===1?A.delete(r):A.set(r,i-1),i!==1)return;let s=J.get(r);s&&(s["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",s["aria-hidden"]),r.inert=s.inert,J.delete(r))}let o=(t=A.get(r))!=null?t:0;return A.set(r,o+1),o!==0||(J.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),l},[e,n])}var Rt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Rt||{}),Mt=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(Mt||{});let kt={0(e,n){return e.titleId===n.id?e:{...e,titleId:n.id}}},U=u.createContext(null);U.displayName="DialogContext";function I(e){let n=u.useContext(U);if(n===null){let t=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,I),t}return n}function Ot(e,n,t=()=>[document.body]){Ct(e,n,r=>{var l;return{containers:[...(l=r.containers)!=null?l:[],t]}})}function Ft(e,n){return x(n.type,kt,e,n)}let At="div",xt=ie.RenderStrategy|ie.Static;function It(e,n){var t;let r=k(),{id:l=`headlessui-dialog-${r}`,open:o,onClose:a,initialFocus:i,__demoMode:s=!1,...d}=e,[m,O]=u.useState(0),T=He();o===void 0&&T!==null&&(o=(T&j.Open)===j.Open);let g=u.useRef(null),X=P(g,n),f=me(g),E=e.hasOwnProperty("open")||T!==null,b=e.hasOwnProperty("onClose");if(!E&&!b)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!E)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!b)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof o!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${o}`);if(typeof a!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${a}`);let v=o?0:1,[B,ye]=u.useReducer(Ft,{titleId:null,descriptionId:null,panelRef:u.createRef()}),R=$(()=>a(!1)),re=$(p=>ye({type:0,id:p})),N=de()?s?!1:v===0:!1,H=m>1,oe=u.useContext(U)!==null,[Te,Se]=qe(),{resolveContainers:z,mainTreeNodeRef:W,MainTreeNode:De}=Xe({portals:Te,defaultContainers:[(t=B.panelRef.current)!=null?t:g.current]}),Le=H?"parent":"leaf",ae=T!==null?(T&j.Closing)===j.Closing:!1,Pe=(()=>oe||ae?!1:N)(),Ce=u.useCallback(()=>{var p,w;return(w=Array.from((p=f==null?void 0:f.querySelectorAll("body > *"))!=null?p:[]).find(h=>h.id==="headlessui-portal-root"?!1:h.contains(W.current)&&h instanceof HTMLElement))!=null?w:null},[W]);ce(Ce,Pe);let Re=(()=>H?!0:N)(),Me=u.useCallback(()=>{var p,w;return(w=Array.from((p=f==null?void 0:f.querySelectorAll("[data-headlessui-portal]"))!=null?p:[]).find(h=>h.contains(W.current)&&h instanceof HTMLElement))!=null?w:null},[W]);ce(Me,Re);let ke=(()=>!(!N||H))();Ye(z,R,ke);let Oe=(()=>!(H||v!==0))();ge(f==null?void 0:f.defaultView,"keydown",p=>{Oe&&(p.defaultPrevented||p.key===je.Escape&&(p.preventDefault(),p.stopPropagation(),R()))});let Fe=(()=>!(ae||v!==0||oe))();Ot(f,Fe,z),u.useEffect(()=>{if(v!==0||!g.current)return;let p=new ResizeObserver(w=>{for(let h of w){let Y=h.target.getBoundingClientRect();Y.x===0&&Y.y===0&&Y.width===0&&Y.height===0&&R()}});return p.observe(g.current),()=>p.disconnect()},[v,g,R]);let[Ae,xe]=rt(),Ie=u.useMemo(()=>[{dialogState:v,close:R,setTitleId:re},B],[v,B,R,re]),le=u.useMemo(()=>({open:v===0}),[v]),Be={ref:X,id:l,role:"dialog","aria-modal":v===0?!0:void 0,"aria-labelledby":B.titleId,"aria-describedby":Ae};return c.createElement(st,{type:"Dialog",enabled:v===0,element:g,onUpdate:$((p,w)=>{w==="Dialog"&&x(p,{[ee.Add]:()=>O(h=>h+1),[ee.Remove]:()=>O(h=>h-1)})})},c.createElement(Z,{force:!0},c.createElement(K,null,c.createElement(U.Provider,{value:Ie},c.createElement(K.Group,{target:g},c.createElement(Z,{force:!1},c.createElement(xe,{slot:le,name:"Dialog.Description"},c.createElement(F,{initialFocus:i,containers:z,features:N?x(Le,{parent:F.features.RestoreFocus,leaf:F.features.All&~F.features.FocusLock}):F.features.None},c.createElement(Se,null,C({ourProps:Be,theirProps:d,slot:le,defaultTag:At,features:xt,visible:v===0,name:"Dialog"}))))))))),c.createElement(De,null))}let Bt="div";function Nt(e,n){let t=k(),{id:r=`headlessui-dialog-overlay-${t}`,...l}=e,[{dialogState:o,close:a}]=I("Dialog.Overlay"),i=P(n),s=$(m=>{if(m.target===m.currentTarget){if(_e(m.currentTarget))return m.preventDefault();m.preventDefault(),m.stopPropagation(),a()}}),d=u.useMemo(()=>({open:o===0}),[o]);return C({ourProps:{ref:i,id:r,"aria-hidden":!0,onClick:s},theirProps:l,slot:d,defaultTag:Bt,name:"Dialog.Overlay"})}let Ht="div";function Wt(e,n){let t=k(),{id:r=`headlessui-dialog-backdrop-${t}`,...l}=e,[{dialogState:o},a]=I("Dialog.Backdrop"),i=P(n);u.useEffect(()=>{if(a.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[a.panelRef]);let s=u.useMemo(()=>({open:o===0}),[o]);return c.createElement(Z,{force:!0},c.createElement(K,null,C({ourProps:{ref:i,id:r,"aria-hidden":!0},theirProps:l,slot:s,defaultTag:Ht,name:"Dialog.Backdrop"})))}let Yt="div";function jt(e,n){let t=k(),{id:r=`headlessui-dialog-panel-${t}`,...l}=e,[{dialogState:o},a]=I("Dialog.Panel"),i=P(n,a.panelRef),s=u.useMemo(()=>({open:o===0}),[o]),d=$(m=>{m.stopPropagation()});return C({ourProps:{ref:i,id:r,onClick:d},theirProps:l,slot:s,defaultTag:Yt,name:"Dialog.Panel"})}let _t="h2";function Vt(e,n){let t=k(),{id:r=`headlessui-dialog-title-${t}`,...l}=e,[{dialogState:o,setTitleId:a}]=I("Dialog.Title"),i=P(n);u.useEffect(()=>(a(r),()=>a(null)),[r,a]);let s=u.useMemo(()=>({open:o===0}),[o]);return C({ourProps:{ref:i,id:r},theirProps:l,slot:s,defaultTag:_t,name:"Dialog.Title"})}let Ut=L(It),qt=L(Wt),Xt=L(jt),zt=L(Nt),Gt=L(Vt),nn=Object.assign(Ut,{Backdrop:qt,Panel:Xt,Overlay:zt,Title:Gt,Description:it});export{nn as _};
//# sourceMappingURL=dialog-3333e5af.js.map
